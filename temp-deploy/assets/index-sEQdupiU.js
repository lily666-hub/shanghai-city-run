var g$=Object.defineProperty;var y$=(t,e,r)=>e in t?g$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ft=(t,e,r)=>y$(t,typeof e!="symbol"?e+"":e,r);function v$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hT(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ip={exports:{}},El={},Rp={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function x$(){if(rN)return Be;rN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function b(L,V,ae){this.props=L,this.context=V,this.refs=x,this.updater=ae||v}b.prototype.isReactComponent={},b.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=b.prototype;function N(L,V,ae){this.props=L,this.context=V,this.refs=x,this.updater=ae||v}var _=N.prototype=new S;_.constructor=N,w(_,b.prototype),_.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(L,V,ae){var ge,fe={},be=null,ue=null;if(V!=null)for(ge in V.ref!==void 0&&(ue=V.ref),V.key!==void 0&&(be=""+V.key),V)A.call(V,ge)&&!T.hasOwnProperty(ge)&&(fe[ge]=V[ge]);var de=arguments.length-2;if(de===1)fe.children=ae;else if(1<de){for(var te=Array(de),me=0;me<de;me++)te[me]=arguments[me+2];fe.children=te}if(L&&L.defaultProps)for(ge in de=L.defaultProps,de)fe[ge]===void 0&&(fe[ge]=de[ge]);return{$$typeof:t,type:L,key:be,ref:ue,props:fe,_owner:O.current}}function $(L,V){return{$$typeof:t,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function M(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return V[ae]})}var z=/\/+/g;function U(L,V){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):V.toString(36)}function D(L,V,ae,ge,fe){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var ue=!1;if(L===null)ue=!0;else switch(be){case"string":case"number":ue=!0;break;case"object":switch(L.$$typeof){case t:case e:ue=!0}}if(ue)return ue=L,fe=fe(ue),L=ge===""?"."+U(ue,0):ge,E(fe)?(ae="",L!=null&&(ae=L.replace(z,"$&/")+"/"),D(fe,V,ae,"",function(me){return me})):fe!=null&&(I(fe)&&(fe=$(fe,ae+(!fe.key||ue&&ue.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+L)),V.push(fe)),1;if(ue=0,ge=ge===""?".":ge+":",E(L))for(var de=0;de<L.length;de++){be=L[de];var te=ge+U(be,de);ue+=D(be,V,ae,te,fe)}else if(te=g(L),typeof te=="function")for(L=te.call(L),de=0;!(be=L.next()).done;)be=be.value,te=ge+U(be,de++),ue+=D(be,V,ae,te,fe);else if(be==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ue}function q(L,V,ae){if(L==null)return L;var ge=[],fe=0;return D(L,ge,"","",function(be){return V.call(ae,be,fe++)}),ge}function H(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var ee={current:null},X={transition:null},Y={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:X,ReactCurrentOwner:O};function W(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:q,forEach:function(L,V,ae){q(L,function(){V.apply(this,arguments)},ae)},count:function(L){var V=0;return q(L,function(){V++}),V},toArray:function(L){return q(L,function(V){return V})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Be.Component=b,Be.Fragment=r,Be.Profiler=i,Be.PureComponent=N,Be.StrictMode=n,Be.Suspense=d,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Be.act=W,Be.cloneElement=function(L,V,ae){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ge=w({},L.props),fe=L.key,be=L.ref,ue=L._owner;if(V!=null){if(V.ref!==void 0&&(be=V.ref,ue=O.current),V.key!==void 0&&(fe=""+V.key),L.type&&L.type.defaultProps)var de=L.type.defaultProps;for(te in V)A.call(V,te)&&!T.hasOwnProperty(te)&&(ge[te]=V[te]===void 0&&de!==void 0?de[te]:V[te])}var te=arguments.length-2;if(te===1)ge.children=ae;else if(1<te){de=Array(te);for(var me=0;me<te;me++)de[me]=arguments[me+2];ge.children=de}return{$$typeof:t,type:L.type,key:fe,ref:be,props:ge,_owner:ue}},Be.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Be.createElement=R,Be.createFactory=function(L){var V=R.bind(null,L);return V.type=L,V},Be.createRef=function(){return{current:null}},Be.forwardRef=function(L){return{$$typeof:u,render:L}},Be.isValidElement=I,Be.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:H}},Be.memo=function(L,V){return{$$typeof:f,type:L,compare:V===void 0?null:V}},Be.startTransition=function(L){var V=X.transition;X.transition={};try{L()}finally{X.transition=V}},Be.unstable_act=W,Be.useCallback=function(L,V){return ee.current.useCallback(L,V)},Be.useContext=function(L){return ee.current.useContext(L)},Be.useDebugValue=function(){},Be.useDeferredValue=function(L){return ee.current.useDeferredValue(L)},Be.useEffect=function(L,V){return ee.current.useEffect(L,V)},Be.useId=function(){return ee.current.useId()},Be.useImperativeHandle=function(L,V,ae){return ee.current.useImperativeHandle(L,V,ae)},Be.useInsertionEffect=function(L,V){return ee.current.useInsertionEffect(L,V)},Be.useLayoutEffect=function(L,V){return ee.current.useLayoutEffect(L,V)},Be.useMemo=function(L,V){return ee.current.useMemo(L,V)},Be.useReducer=function(L,V,ae){return ee.current.useReducer(L,V,ae)},Be.useRef=function(L){return ee.current.useRef(L)},Be.useState=function(L){return ee.current.useState(L)},Be.useSyncExternalStore=function(L,V,ae){return ee.current.useSyncExternalStore(L,V,ae)},Be.useTransition=function(){return ee.current.useTransition()},Be.version="18.3.1",Be}var nN;function Gb(){return nN||(nN=1,Rp.exports=x$()),Rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function b$(){if(iN)return El;iN=1;var t=Gb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var p,m={},g=null,v=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:g,ref:v,props:m,_owner:i.current}}return El.Fragment=r,El.jsx=o,El.jsxs=o,El}var aN;function w$(){return aN||(aN=1,Ip.exports=b$()),Ip.exports}var s=w$(),P=Gb();const F=Qe(P),j$=v$({__proto__:null,default:F},[P]);var hd={},$p={exports:{}},xr={},Mp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function _$(){return sN||(sN=1,(function(t){function e(X,Y){var W=X.length;X.push(Y);e:for(;0<W;){var L=W-1>>>1,V=X[L];if(0<i(V,Y))X[L]=Y,X[W]=V,W=L;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var Y=X[0],W=X.pop();if(W!==Y){X[0]=W;e:for(var L=0,V=X.length,ae=V>>>1;L<ae;){var ge=2*(L+1)-1,fe=X[ge],be=ge+1,ue=X[be];if(0>i(fe,W))be<V&&0>i(ue,fe)?(X[L]=ue,X[be]=W,L=be):(X[L]=fe,X[ge]=W,L=ge);else if(be<V&&0>i(ue,W))X[L]=ue,X[be]=W,L=be;else break e}}return Y}function i(X,Y){var W=X.sortIndex-Y.sortIndex;return W!==0?W:X.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,m=null,g=3,v=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var Y=r(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=X)n(f),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=r(f)}}function E(X){if(x=!1,_(X),!w)if(r(d)!==null)w=!0,H(A);else{var Y=r(f);Y!==null&&ee(E,Y.startTime-X)}}function A(X,Y){w=!1,x&&(x=!1,S(R),R=-1),v=!0;var W=g;try{for(_(Y),m=r(d);m!==null&&(!(m.expirationTime>Y)||X&&!M());){var L=m.callback;if(typeof L=="function"){m.callback=null,g=m.priorityLevel;var V=L(m.expirationTime<=Y);Y=t.unstable_now(),typeof V=="function"?m.callback=V:m===r(d)&&n(d),_(Y)}else n(d);m=r(d)}if(m!==null)var ae=!0;else{var ge=r(f);ge!==null&&ee(E,ge.startTime-Y),ae=!1}return ae}finally{m=null,g=W,v=!1}}var O=!1,T=null,R=-1,$=5,I=-1;function M(){return!(t.unstable_now()-I<$)}function z(){if(T!==null){var X=t.unstable_now();I=X;var Y=!0;try{Y=T(!0,X)}finally{Y?U():(O=!1,T=null)}}else O=!1}var U;if(typeof N=="function")U=function(){N(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=z,U=function(){q.postMessage(null)}}else U=function(){b(z,0)};function H(X){T=X,O||(O=!0,U())}function ee(X,Y){R=b(function(){X(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,H(A))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var W=g;g=Y;try{return X()}finally{g=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,Y){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var W=g;g=X;try{return Y()}finally{g=W}},t.unstable_scheduleCallback=function(X,Y,W){var L=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?L+W:L):W=L,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,X={id:p++,callback:Y,priorityLevel:X,startTime:W,expirationTime:V,sortIndex:-1},W>L?(X.sortIndex=W,e(f,X),r(d)===null&&X===r(f)&&(x?(S(R),R=-1):x=!0,ee(E,W-L))):(X.sortIndex=V,e(d,X),w||v||(w=!0,H(A))),X},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(X){var Y=g;return function(){var W=g;g=Y;try{return X.apply(this,arguments)}finally{g=W}}}})(Dp)),Dp}var oN;function N$(){return oN||(oN=1,Mp.exports=_$()),Mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function S$(){if(lN)return xr;lN=1;var t=Gb(),e=N$();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(i[l]=c,l=0;l<c.length;l++)n.add(c[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(l){return d.call(m,l)?!0:d.call(p,l)?!1:f.test(l)?m[l]=!0:(p[l]=!0,!1)}function v(l,c,h,y){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,c,h,y){if(c===null||typeof c>"u"||v(l,c,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(l,c,h,y,j,k,C){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=j,this.mustUseProperty=h,this.propertyName=l,this.type=c,this.sanitizeURL=k,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];b[c]=new x(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(S,N);b[c]=new x(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(S,N);b[c]=new x(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(S,N);b[c]=new x(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function _(l,c,h,y){var j=b.hasOwnProperty(c)?b[c]:null;(j!==null?j.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,j,y)&&(h=null),y||j===null?g(c)&&(h===null?l.removeAttribute(c):l.setAttribute(c,""+h)):j.mustUseProperty?l[j.propertyName]=h===null?j.type===3?!1:"":h:(c=j.attributeName,y=j.attributeNamespace,h===null?l.removeAttribute(c):(j=j.type,h=j===3||j===4&&h===!0?"":""+h,y?l.setAttributeNS(y,c,h):l.setAttribute(c,h))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),X=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var W=Object.assign,L;function V(l){if(L===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);L=c&&c[1]||""}return`
`+L+l}var ae=!1;function ge(l,c){if(!l||ae)return"";ae=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var y=Z}Reflect.construct(l,[],c)}else{try{c.call()}catch(Z){y=Z}l.call(c.prototype)}else{try{throw Error()}catch(Z){y=Z}l()}}catch(Z){if(Z&&y&&typeof Z.stack=="string"){for(var j=Z.stack.split(`
`),k=y.stack.split(`
`),C=j.length-1,B=k.length-1;1<=C&&0<=B&&j[C]!==k[B];)B--;for(;1<=C&&0<=B;C--,B--)if(j[C]!==k[B]){if(C!==1||B!==1)do if(C--,B--,0>B||j[C]!==k[B]){var K=`
`+j[C].replace(" at new "," at ");return l.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",l.displayName)),K}while(1<=C&&0<=B);break}}}finally{ae=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?V(l):""}function fe(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=ge(l.type,!1),l;case 11:return l=ge(l.type.render,!1),l;case 1:return l=ge(l.type,!0),l;default:return""}}function be(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case O:return"Portal";case $:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case D:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case M:return(l.displayName||"Context")+".Consumer";case I:return(l._context.displayName||"Context")+".Provider";case z:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case q:return c=l.displayName||null,c!==null?c:be(l.type)||"Memo";case H:c=l._payload,l=l._init;try{return be(l(c))}catch{}}return null}function ue(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function de(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function te(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(l){var c=te(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),y=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var j=h.get,k=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return j.call(this)},set:function(C){y=""+C,k.call(this,C)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(C){y=""+C},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Se(l){l._valueTracker||(l._valueTracker=me(l))}function ne(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),y="";return l&&(y=te(l)?l.checked?"true":"false":l.value),l=y,l!==h?(c.setValue(l),!0):!1}function Ve(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Le(l,c){var h=c.checked;return W({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function Ze(l,c){var h=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;h=de(c.value!=null?c.value:h),l._wrapperState={initialChecked:y,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function rt(l,c){c=c.checked,c!=null&&_(l,"checked",c,!1)}function _t(l,c){rt(l,c);var h=de(c.value),y=c.type;if(h!=null)y==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Nr(l,c.type,h):c.hasOwnProperty("defaultValue")&&Nr(l,c.type,de(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function Zt(l,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,h||c===l.value||(l.value=c),l.defaultValue=c}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function Nr(l,c,h){(c!=="number"||Ve(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var Br=Array.isArray;function er(l,c,h,y){if(l=l.options,c){c={};for(var j=0;j<h.length;j++)c["$"+h[j]]=!0;for(h=0;h<l.length;h++)j=c.hasOwnProperty("$"+l[h].value),l[h].selected!==j&&(l[h].selected=j),j&&y&&(l[h].defaultSelected=!0)}else{for(h=""+de(h),c=null,j=0;j<l.length;j++){if(l[j].value===h){l[j].selected=!0,y&&(l[j].defaultSelected=!0);return}c!==null||l[j].disabled||(c=l[j])}c!==null&&(c.selected=!0)}}function hr(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function he(l,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(r(92));if(Br(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),h=c}l._wrapperState={initialValue:de(h)}}function Ae(l,c){var h=de(c.value),y=de(c.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),c.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),y!=null&&(l.defaultValue=""+y)}function Xe(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function gt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?gt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Sn,vi=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,y,j){MSApp.execUnsafeLocalFunction(function(){return l(c,h,y,j)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(Sn=Sn||document.createElement("div"),Sn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Sn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function oa(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b5=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(l){b5.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),xi[c]=xi[l]})});function y1(l,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||xi.hasOwnProperty(l)&&xi[l]?(""+c).trim():c+"px"}function v1(l,c){l=l.style;for(var h in c)if(c.hasOwnProperty(h)){var y=h.indexOf("--")===0,j=y1(h,c[h],y);h==="float"&&(h="cssFloat"),y?l.setProperty(h,j):l[h]=j}}var w5=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(l,c){if(c){if(w5[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Kh(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function Gh(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Xh=null,is=null,as=null;function x1(l){if(l=ml(l)){if(typeof Xh!="function")throw Error(r(280));var c=l.stateNode;c&&(c=Au(c),Xh(l.stateNode,l.type,c))}}function b1(l){is?as?as.push(l):as=[l]:is=l}function w1(){if(is){var l=is,c=as;if(as=is=null,x1(l),c)for(l=0;l<c.length;l++)x1(c[l])}}function j1(l,c){return l(c)}function _1(){}var Yh=!1;function N1(l,c,h){if(Yh)return l(c,h);Yh=!0;try{return j1(l,c,h)}finally{Yh=!1,(is!==null||as!==null)&&(_1(),w1())}}function Vo(l,c){var h=l.stateNode;if(h===null)return null;var y=Au(h);if(y===null)return null;h=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Jh=!1;if(u)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Jh=!1}function j5(l,c,h,y,j,k,C,B,K){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(h,Z)}catch(se){this.onError(se)}}var Xo=!1,au=null,su=!1,Qh=null,_5={onError:function(l){Xo=!0,au=l}};function N5(l,c,h,y,j,k,C,B,K){Xo=!1,au=null,j5.apply(_5,arguments)}function S5(l,c,h,y,j,k,C,B,K){if(N5.apply(this,arguments),Xo){if(Xo){var Z=au;Xo=!1,au=null}else throw Error(r(198));su||(su=!0,Qh=Z)}}function la(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function S1(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function k1(l){if(la(l)!==l)throw Error(r(188))}function k5(l){var c=l.alternate;if(!c){if(c=la(l),c===null)throw Error(r(188));return c!==l?null:l}for(var h=l,y=c;;){var j=h.return;if(j===null)break;var k=j.alternate;if(k===null){if(y=j.return,y!==null){h=y;continue}break}if(j.child===k.child){for(k=j.child;k;){if(k===h)return k1(j),l;if(k===y)return k1(j),c;k=k.sibling}throw Error(r(188))}if(h.return!==y.return)h=j,y=k;else{for(var C=!1,B=j.child;B;){if(B===h){C=!0,h=j,y=k;break}if(B===y){C=!0,y=j,h=k;break}B=B.sibling}if(!C){for(B=k.child;B;){if(B===h){C=!0,h=k,y=j;break}if(B===y){C=!0,y=k,h=j;break}B=B.sibling}if(!C)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:c}function A1(l){return l=k5(l),l!==null?O1(l):null}function O1(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=O1(l);if(c!==null)return c;l=l.sibling}return null}var E1=e.unstable_scheduleCallback,P1=e.unstable_cancelCallback,A5=e.unstable_shouldYield,O5=e.unstable_requestPaint,Nt=e.unstable_now,E5=e.unstable_getCurrentPriorityLevel,Zh=e.unstable_ImmediatePriority,T1=e.unstable_UserBlockingPriority,ou=e.unstable_NormalPriority,P5=e.unstable_LowPriority,C1=e.unstable_IdlePriority,lu=null,kn=null;function T5(l){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(lu,l,void 0,(l.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:R5,C5=Math.log,I5=Math.LN2;function R5(l){return l>>>=0,l===0?32:31-(C5(l)/I5|0)|0}var cu=64,uu=4194304;function Yo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function du(l,c){var h=l.pendingLanes;if(h===0)return 0;var y=0,j=l.suspendedLanes,k=l.pingedLanes,C=h&268435455;if(C!==0){var B=C&~j;B!==0?y=Yo(B):(k&=C,k!==0&&(y=Yo(k)))}else C=h&~j,C!==0?y=Yo(C):k!==0&&(y=Yo(k));if(y===0)return 0;if(c!==0&&c!==y&&(c&j)===0&&(j=y&-y,k=c&-c,j>=k||j===16&&(k&4194240)!==0))return c;if((y&4)!==0&&(y|=h&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=y;0<c;)h=31-an(c),j=1<<h,y|=l[h],c&=~j;return y}function $5(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M5(l,c){for(var h=l.suspendedLanes,y=l.pingedLanes,j=l.expirationTimes,k=l.pendingLanes;0<k;){var C=31-an(k),B=1<<C,K=j[C];K===-1?((B&h)===0||(B&y)!==0)&&(j[C]=$5(B,c)):K<=c&&(l.expiredLanes|=B),k&=~B}}function em(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function I1(){var l=cu;return cu<<=1,(cu&4194240)===0&&(cu=64),l}function tm(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Jo(l,c,h){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-an(c),l[c]=h}function D5(l,c){var h=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<h;){var j=31-an(h),k=1<<j;c[j]=0,y[j]=-1,l[j]=-1,h&=~k}}function rm(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var y=31-an(h),j=1<<y;j&c|l[y]&c&&(l[y]|=c),h&=~j}}var et=0;function R1(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var $1,nm,M1,D1,L1,im=!1,fu=[],bi=null,wi=null,ji=null,Qo=new Map,Zo=new Map,_i=[],L5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B1(l,c){switch(l){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Qo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(c.pointerId)}}function el(l,c,h,y,j,k){return l===null||l.nativeEvent!==k?(l={blockedOn:c,domEventName:h,eventSystemFlags:y,nativeEvent:k,targetContainers:[j]},c!==null&&(c=ml(c),c!==null&&nm(c)),l):(l.eventSystemFlags|=y,c=l.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),l)}function B5(l,c,h,y,j){switch(c){case"focusin":return bi=el(bi,l,c,h,y,j),!0;case"dragenter":return wi=el(wi,l,c,h,y,j),!0;case"mouseover":return ji=el(ji,l,c,h,y,j),!0;case"pointerover":var k=j.pointerId;return Qo.set(k,el(Qo.get(k)||null,l,c,h,y,j)),!0;case"gotpointercapture":return k=j.pointerId,Zo.set(k,el(Zo.get(k)||null,l,c,h,y,j)),!0}return!1}function q1(l){var c=ca(l.target);if(c!==null){var h=la(c);if(h!==null){if(c=h.tag,c===13){if(c=S1(h),c!==null){l.blockedOn=c,L1(l.priority,function(){M1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hu(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=sm(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var y=new h.constructor(h.type,h);Vh=y,h.target.dispatchEvent(y),Vh=null}else return c=ml(h),c!==null&&nm(c),l.blockedOn=h,!1;c.shift()}return!0}function F1(l,c,h){hu(l)&&h.delete(c)}function q5(){im=!1,bi!==null&&hu(bi)&&(bi=null),wi!==null&&hu(wi)&&(wi=null),ji!==null&&hu(ji)&&(ji=null),Qo.forEach(F1),Zo.forEach(F1)}function tl(l,c){l.blockedOn===c&&(l.blockedOn=null,im||(im=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q5)))}function rl(l){function c(j){return tl(j,l)}if(0<fu.length){tl(fu[0],l);for(var h=1;h<fu.length;h++){var y=fu[h];y.blockedOn===l&&(y.blockedOn=null)}}for(bi!==null&&tl(bi,l),wi!==null&&tl(wi,l),ji!==null&&tl(ji,l),Qo.forEach(c),Zo.forEach(c),h=0;h<_i.length;h++)y=_i[h],y.blockedOn===l&&(y.blockedOn=null);for(;0<_i.length&&(h=_i[0],h.blockedOn===null);)q1(h),h.blockedOn===null&&_i.shift()}var ss=E.ReactCurrentBatchConfig,mu=!0;function F5(l,c,h,y){var j=et,k=ss.transition;ss.transition=null;try{et=1,am(l,c,h,y)}finally{et=j,ss.transition=k}}function U5(l,c,h,y){var j=et,k=ss.transition;ss.transition=null;try{et=4,am(l,c,h,y)}finally{et=j,ss.transition=k}}function am(l,c,h,y){if(mu){var j=sm(l,c,h,y);if(j===null)_m(l,c,y,pu,h),B1(l,y);else if(B5(j,l,c,h,y))y.stopPropagation();else if(B1(l,y),c&4&&-1<L5.indexOf(l)){for(;j!==null;){var k=ml(j);if(k!==null&&$1(k),k=sm(l,c,h,y),k===null&&_m(l,c,y,pu,h),k===j)break;j=k}j!==null&&y.stopPropagation()}else _m(l,c,y,null,h)}}var pu=null;function sm(l,c,h,y){if(pu=null,l=Gh(y),l=ca(l),l!==null)if(c=la(l),c===null)l=null;else if(h=c.tag,h===13){if(l=S1(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return pu=l,null}function U1(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E5()){case Zh:return 1;case T1:return 4;case ou:case P5:return 16;case C1:return 536870912;default:return 16}default:return 16}}var Ni=null,om=null,gu=null;function z1(){if(gu)return gu;var l,c=om,h=c.length,y,j="value"in Ni?Ni.value:Ni.textContent,k=j.length;for(l=0;l<h&&c[l]===j[l];l++);var C=h-l;for(y=1;y<=C&&c[h-y]===j[k-y];y++);return gu=j.slice(l,1<y?1-y:void 0)}function yu(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function vu(){return!0}function W1(){return!1}function Sr(l){function c(h,y,j,k,C){this._reactName=h,this._targetInst=j,this.type=y,this.nativeEvent=k,this.target=C,this.currentTarget=null;for(var B in l)l.hasOwnProperty(B)&&(h=l[B],this[B]=h?h(k):k[B]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?vu:W1,this.isPropagationStopped=W1,this}return W(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),c}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Sr(os),nl=W({},os,{view:0,detail:0}),z5=Sr(nl),cm,um,il,xu=W({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==il&&(il&&l.type==="mousemove"?(cm=l.screenX-il.screenX,um=l.screenY-il.screenY):um=cm=0,il=l),cm)},movementY:function(l){return"movementY"in l?l.movementY:um}}),H1=Sr(xu),W5=W({},xu,{dataTransfer:0}),H5=Sr(W5),K5=W({},nl,{relatedTarget:0}),dm=Sr(K5),V5=W({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Sr(V5),X5=W({},os,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Y5=Sr(X5),J5=W({},os,{data:0}),K1=Sr(J5),Q5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=e3[l])?!!c[l]:!1}function fm(){return t3}var r3=W({},nl,{key:function(l){if(l.key){var c=Q5[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=yu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Z5[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(l){return l.type==="keypress"?yu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?yu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),n3=Sr(r3),i3=W({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V1=Sr(i3),a3=W({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),s3=Sr(a3),o3=W({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=Sr(o3),c3=W({},xu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=Sr(c3),d3=[9,13,27,32],hm=u&&"CompositionEvent"in window,al=null;u&&"documentMode"in document&&(al=document.documentMode);var f3=u&&"TextEvent"in window&&!al,G1=u&&(!hm||al&&8<al&&11>=al),X1=" ",Y1=!1;function J1(l,c){switch(l){case"keyup":return d3.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ls=!1;function h3(l,c){switch(l){case"compositionend":return Q1(c);case"keypress":return c.which!==32?null:(Y1=!0,X1);case"textInput":return l=c.data,l===X1&&Y1?null:l;default:return null}}function m3(l,c){if(ls)return l==="compositionend"||!hm&&J1(l,c)?(l=z1(),gu=om=Ni=null,ls=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return G1&&c.locale!=="ko"?null:c.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!p3[l.type]:c==="textarea"}function ej(l,c,h,y){b1(y),c=Nu(c,"onChange"),0<c.length&&(h=new lm("onChange","change",null,h,y),l.push({event:h,listeners:c}))}var sl=null,ol=null;function g3(l){vj(l,0)}function bu(l){var c=hs(l);if(ne(c))return l}function y3(l,c){if(l==="change")return c}var tj=!1;if(u){var mm;if(u){var pm="oninput"in document;if(!pm){var rj=document.createElement("div");rj.setAttribute("oninput","return;"),pm=typeof rj.oninput=="function"}mm=pm}else mm=!1;tj=mm&&(!document.documentMode||9<document.documentMode)}function nj(){sl&&(sl.detachEvent("onpropertychange",ij),ol=sl=null)}function ij(l){if(l.propertyName==="value"&&bu(ol)){var c=[];ej(c,ol,l,Gh(l)),N1(g3,c)}}function v3(l,c,h){l==="focusin"?(nj(),sl=c,ol=h,sl.attachEvent("onpropertychange",ij)):l==="focusout"&&nj()}function x3(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return bu(ol)}function b3(l,c){if(l==="click")return bu(c)}function w3(l,c){if(l==="input"||l==="change")return bu(c)}function j3(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var sn=typeof Object.is=="function"?Object.is:j3;function ll(l,c){if(sn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),y=Object.keys(c);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var j=h[y];if(!d.call(c,j)||!sn(l[j],c[j]))return!1}return!0}function aj(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function sj(l,c){var h=aj(l);l=0;for(var y;h;){if(h.nodeType===3){if(y=l+h.textContent.length,l<=c&&y>=c)return{node:h,offset:c-l};l=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=aj(h)}}function oj(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?oj(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function lj(){for(var l=window,c=Ve();c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=Ve(l.document)}return c}function gm(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function _3(l){var c=lj(),h=l.focusedElem,y=l.selectionRange;if(c!==h&&h&&h.ownerDocument&&oj(h.ownerDocument.documentElement,h)){if(y!==null&&gm(h)){if(c=y.start,l=y.end,l===void 0&&(l=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(l,h.value.length);else if(l=(c=h.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var j=h.textContent.length,k=Math.min(y.start,j);y=y.end===void 0?k:Math.min(y.end,j),!l.extend&&k>y&&(j=y,y=k,k=j),j=sj(h,k);var C=sj(h,y);j&&C&&(l.rangeCount!==1||l.anchorNode!==j.node||l.anchorOffset!==j.offset||l.focusNode!==C.node||l.focusOffset!==C.offset)&&(c=c.createRange(),c.setStart(j.node,j.offset),l.removeAllRanges(),k>y?(l.addRange(c),l.extend(C.node,C.offset)):(c.setEnd(C.node,C.offset),l.addRange(c)))}}for(c=[],l=h;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)l=c[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var N3=u&&"documentMode"in document&&11>=document.documentMode,cs=null,ym=null,cl=null,vm=!1;function cj(l,c,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vm||cs==null||cs!==Ve(y)||(y=cs,"selectionStart"in y&&gm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),cl&&ll(cl,y)||(cl=y,y=Nu(ym,"onSelect"),0<y.length&&(c=new lm("onSelect","select",null,c,h),l.push({event:c,listeners:y}),c.target=cs)))}function wu(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var us={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},xm={},uj={};u&&(uj=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function ju(l){if(xm[l])return xm[l];if(!us[l])return l;var c=us[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in uj)return xm[l]=c[h];return l}var dj=ju("animationend"),fj=ju("animationiteration"),hj=ju("animationstart"),mj=ju("transitionend"),pj=new Map,gj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(l,c){pj.set(l,c),a(c,[l])}for(var bm=0;bm<gj.length;bm++){var wm=gj[bm],S3=wm.toLowerCase(),k3=wm[0].toUpperCase()+wm.slice(1);Si(S3,"on"+k3)}Si(dj,"onAnimationEnd"),Si(fj,"onAnimationIteration"),Si(hj,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(mj,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function yj(l,c,h){var y=l.type||"unknown-event";l.currentTarget=h,S5(y,c,void 0,l),l.currentTarget=null}function vj(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var y=l[h],j=y.event;y=y.listeners;e:{var k=void 0;if(c)for(var C=y.length-1;0<=C;C--){var B=y[C],K=B.instance,Z=B.currentTarget;if(B=B.listener,K!==k&&j.isPropagationStopped())break e;yj(j,B,Z),k=K}else for(C=0;C<y.length;C++){if(B=y[C],K=B.instance,Z=B.currentTarget,B=B.listener,K!==k&&j.isPropagationStopped())break e;yj(j,B,Z),k=K}}}if(su)throw l=Qh,su=!1,Qh=null,l}function ut(l,c){var h=c[Em];h===void 0&&(h=c[Em]=new Set);var y=l+"__bubble";h.has(y)||(xj(c,l,2,!1),h.add(y))}function jm(l,c,h){var y=0;c&&(y|=4),xj(h,l,y,c)}var _u="_reactListening"+Math.random().toString(36).slice(2);function dl(l){if(!l[_u]){l[_u]=!0,n.forEach(function(h){h!=="selectionchange"&&(A3.has(h)||jm(h,!1,l),jm(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[_u]||(c[_u]=!0,jm("selectionchange",!1,c))}}function xj(l,c,h,y){switch(U1(c)){case 1:var j=F5;break;case 4:j=U5;break;default:j=am}h=j.bind(null,c,h,l),j=void 0,!Jh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),y?j!==void 0?l.addEventListener(c,h,{capture:!0,passive:j}):l.addEventListener(c,h,!0):j!==void 0?l.addEventListener(c,h,{passive:j}):l.addEventListener(c,h,!1)}function _m(l,c,h,y,j){var k=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var C=y.tag;if(C===3||C===4){var B=y.stateNode.containerInfo;if(B===j||B.nodeType===8&&B.parentNode===j)break;if(C===4)for(C=y.return;C!==null;){var K=C.tag;if((K===3||K===4)&&(K=C.stateNode.containerInfo,K===j||K.nodeType===8&&K.parentNode===j))return;C=C.return}for(;B!==null;){if(C=ca(B),C===null)return;if(K=C.tag,K===5||K===6){y=k=C;continue e}B=B.parentNode}}y=y.return}N1(function(){var Z=k,se=Gh(h),oe=[];e:{var ie=pj.get(l);if(ie!==void 0){var ye=lm,we=l;switch(l){case"keypress":if(yu(h)===0)break e;case"keydown":case"keyup":ye=n3;break;case"focusin":we="focus",ye=dm;break;case"focusout":we="blur",ye=dm;break;case"beforeblur":case"afterblur":ye=dm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=H5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=s3;break;case dj:case fj:case hj:ye=G5;break;case mj:ye=l3;break;case"scroll":ye=z5;break;case"wheel":ye=u3;break;case"copy":case"cut":case"paste":ye=Y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=V1}var je=(c&4)!==0,St=!je&&l==="scroll",J=je?ie!==null?ie+"Capture":null:ie;je=[];for(var G=Z,Q;G!==null;){Q=G;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,J!==null&&(ce=Vo(G,J),ce!=null&&je.push(fl(G,ce,Q)))),St)break;G=G.return}0<je.length&&(ie=new ye(ie,we,null,h,se),oe.push({event:ie,listeners:je}))}}if((c&7)===0){e:{if(ie=l==="mouseover"||l==="pointerover",ye=l==="mouseout"||l==="pointerout",ie&&h!==Vh&&(we=h.relatedTarget||h.fromElement)&&(ca(we)||we[Hn]))break e;if((ye||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ye?(we=h.relatedTarget||h.toElement,ye=Z,we=we?ca(we):null,we!==null&&(St=la(we),we!==St||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=Z),ye!==we)){if(je=H1,ce="onMouseLeave",J="onMouseEnter",G="mouse",(l==="pointerout"||l==="pointerover")&&(je=V1,ce="onPointerLeave",J="onPointerEnter",G="pointer"),St=ye==null?ie:hs(ye),Q=we==null?ie:hs(we),ie=new je(ce,G+"leave",ye,h,se),ie.target=St,ie.relatedTarget=Q,ce=null,ca(se)===Z&&(je=new je(J,G+"enter",we,h,se),je.target=Q,je.relatedTarget=St,ce=je),St=ce,ye&&we)t:{for(je=ye,J=we,G=0,Q=je;Q;Q=ds(Q))G++;for(Q=0,ce=J;ce;ce=ds(ce))Q++;for(;0<G-Q;)je=ds(je),G--;for(;0<Q-G;)J=ds(J),Q--;for(;G--;){if(je===J||J!==null&&je===J.alternate)break t;je=ds(je),J=ds(J)}je=null}else je=null;ye!==null&&bj(oe,ie,ye,je,!1),we!==null&&St!==null&&bj(oe,St,we,je,!0)}}e:{if(ie=Z?hs(Z):window,ye=ie.nodeName&&ie.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ie.type==="file")var Ne=y3;else if(Z1(ie))if(tj)Ne=w3;else{Ne=x3;var Ee=v3}else(ye=ie.nodeName)&&ye.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ne=b3);if(Ne&&(Ne=Ne(l,Z))){ej(oe,Ne,h,se);break e}Ee&&Ee(l,ie,Z),l==="focusout"&&(Ee=ie._wrapperState)&&Ee.controlled&&ie.type==="number"&&Nr(ie,"number",ie.value)}switch(Ee=Z?hs(Z):window,l){case"focusin":(Z1(Ee)||Ee.contentEditable==="true")&&(cs=Ee,ym=Z,cl=null);break;case"focusout":cl=ym=cs=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,cj(oe,h,se);break;case"selectionchange":if(N3)break;case"keydown":case"keyup":cj(oe,h,se)}var Pe;if(hm)e:{switch(l){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ls?J1(l,h)&&(Re="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Re="onCompositionStart");Re&&(G1&&h.locale!=="ko"&&(ls||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ls&&(Pe=z1()):(Ni=se,om="value"in Ni?Ni.value:Ni.textContent,ls=!0)),Ee=Nu(Z,Re),0<Ee.length&&(Re=new K1(Re,l,null,h,se),oe.push({event:Re,listeners:Ee}),Pe?Re.data=Pe:(Pe=Q1(h),Pe!==null&&(Re.data=Pe)))),(Pe=f3?h3(l,h):m3(l,h))&&(Z=Nu(Z,"onBeforeInput"),0<Z.length&&(se=new K1("onBeforeInput","beforeinput",null,h,se),oe.push({event:se,listeners:Z}),se.data=Pe))}vj(oe,c)})}function fl(l,c,h){return{instance:l,listener:c,currentTarget:h}}function Nu(l,c){for(var h=c+"Capture",y=[];l!==null;){var j=l,k=j.stateNode;j.tag===5&&k!==null&&(j=k,k=Vo(l,h),k!=null&&y.unshift(fl(l,k,j)),k=Vo(l,c),k!=null&&y.push(fl(l,k,j))),l=l.return}return y}function ds(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function bj(l,c,h,y,j){for(var k=c._reactName,C=[];h!==null&&h!==y;){var B=h,K=B.alternate,Z=B.stateNode;if(K!==null&&K===y)break;B.tag===5&&Z!==null&&(B=Z,j?(K=Vo(h,k),K!=null&&C.unshift(fl(h,K,B))):j||(K=Vo(h,k),K!=null&&C.push(fl(h,K,B)))),h=h.return}C.length!==0&&l.push({event:c,listeners:C})}var O3=/\r\n?/g,E3=/\u0000|\uFFFD/g;function wj(l){return(typeof l=="string"?l:""+l).replace(O3,`
`).replace(E3,"")}function Su(l,c,h){if(c=wj(c),wj(l)!==c&&h)throw Error(r(425))}function ku(){}var Nm=null,Sm=null;function km(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Am=typeof setTimeout=="function"?setTimeout:void 0,P3=typeof clearTimeout=="function"?clearTimeout:void 0,jj=typeof Promise=="function"?Promise:void 0,T3=typeof queueMicrotask=="function"?queueMicrotask:typeof jj<"u"?function(l){return jj.resolve(null).then(l).catch(C3)}:Am;function C3(l){setTimeout(function(){throw l})}function Om(l,c){var h=c,y=0;do{var j=h.nextSibling;if(l.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"){if(y===0){l.removeChild(j),rl(c);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=j}while(h);rl(c)}function ki(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function _j(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}var fs=Math.random().toString(36).slice(2),An="__reactFiber$"+fs,hl="__reactProps$"+fs,Hn="__reactContainer$"+fs,Em="__reactEvents$"+fs,I3="__reactListeners$"+fs,R3="__reactHandles$"+fs;function ca(l){var c=l[An];if(c)return c;for(var h=l.parentNode;h;){if(c=h[Hn]||h[An]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=_j(l);l!==null;){if(h=l[An])return h;l=_j(l)}return c}l=h,h=l.parentNode}return null}function ml(l){return l=l[An]||l[Hn],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function hs(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Au(l){return l[hl]||null}var Pm=[],ms=-1;function Ai(l){return{current:l}}function dt(l){0>ms||(l.current=Pm[ms],Pm[ms]=null,ms--)}function it(l,c){ms++,Pm[ms]=l.current,l.current=c}var Oi={},tr=Ai(Oi),mr=Ai(!1),ua=Oi;function ps(l,c){var h=l.type.contextTypes;if(!h)return Oi;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var j={},k;for(k in h)j[k]=c[k];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=j),j}function pr(l){return l=l.childContextTypes,l!=null}function Ou(){dt(mr),dt(tr)}function Nj(l,c,h){if(tr.current!==Oi)throw Error(r(168));it(tr,c),it(mr,h)}function Sj(l,c,h){var y=l.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var j in y)if(!(j in c))throw Error(r(108,ue(l)||"Unknown",j));return W({},h,y)}function Eu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Oi,ua=tr.current,it(tr,l),it(mr,mr.current),!0}function kj(l,c,h){var y=l.stateNode;if(!y)throw Error(r(169));h?(l=Sj(l,c,ua),y.__reactInternalMemoizedMergedChildContext=l,dt(mr),dt(tr),it(tr,l)):dt(mr),it(mr,h)}var Kn=null,Pu=!1,Tm=!1;function Aj(l){Kn===null?Kn=[l]:Kn.push(l)}function $3(l){Pu=!0,Aj(l)}function Ei(){if(!Tm&&Kn!==null){Tm=!0;var l=0,c=et;try{var h=Kn;for(et=1;l<h.length;l++){var y=h[l];do y=y(!0);while(y!==null)}Kn=null,Pu=!1}catch(j){throw Kn!==null&&(Kn=Kn.slice(l+1)),E1(Zh,Ei),j}finally{et=c,Tm=!1}}return null}var gs=[],ys=0,Tu=null,Cu=0,qr=[],Fr=0,da=null,Vn=1,Gn="";function fa(l,c){gs[ys++]=Cu,gs[ys++]=Tu,Tu=l,Cu=c}function Oj(l,c,h){qr[Fr++]=Vn,qr[Fr++]=Gn,qr[Fr++]=da,da=l;var y=Vn;l=Gn;var j=32-an(y)-1;y&=~(1<<j),h+=1;var k=32-an(c)+j;if(30<k){var C=j-j%5;k=(y&(1<<C)-1).toString(32),y>>=C,j-=C,Vn=1<<32-an(c)+j|h<<j|y,Gn=k+l}else Vn=1<<k|h<<j|y,Gn=l}function Cm(l){l.return!==null&&(fa(l,1),Oj(l,1,0))}function Im(l){for(;l===Tu;)Tu=gs[--ys],gs[ys]=null,Cu=gs[--ys],gs[ys]=null;for(;l===da;)da=qr[--Fr],qr[Fr]=null,Gn=qr[--Fr],qr[Fr]=null,Vn=qr[--Fr],qr[Fr]=null}var kr=null,Ar=null,mt=!1,on=null;function Ej(l,c){var h=Hr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=l,c=l.deletions,c===null?(l.deletions=[h],l.flags|=16):c.push(h)}function Pj(l,c){switch(l.tag){case 5:var h=l.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,kr=l,Ar=ki(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,kr=l,Ar=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=da!==null?{id:Vn,overflow:Gn}:null,l.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Hr(18,null,null,0),h.stateNode=c,h.return=l,l.child=h,kr=l,Ar=null,!0):!1;default:return!1}}function Rm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function $m(l){if(mt){var c=Ar;if(c){var h=c;if(!Pj(l,c)){if(Rm(l))throw Error(r(418));c=ki(h.nextSibling);var y=kr;c&&Pj(l,c)?Ej(y,h):(l.flags=l.flags&-4097|2,mt=!1,kr=l)}}else{if(Rm(l))throw Error(r(418));l.flags=l.flags&-4097|2,mt=!1,kr=l}}}function Tj(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;kr=l}function Iu(l){if(l!==kr)return!1;if(!mt)return Tj(l),mt=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!km(l.type,l.memoizedProps)),c&&(c=Ar)){if(Rm(l))throw Cj(),Error(r(418));for(;c;)Ej(l,c),c=ki(c.nextSibling)}if(Tj(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(c===0){Ar=ki(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}l=l.nextSibling}Ar=null}}else Ar=kr?ki(l.stateNode.nextSibling):null;return!0}function Cj(){for(var l=Ar;l;)l=ki(l.nextSibling)}function vs(){Ar=kr=null,mt=!1}function Mm(l){on===null?on=[l]:on.push(l)}var M3=E.ReactCurrentBatchConfig;function pl(l,c,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var y=h.stateNode}if(!y)throw Error(r(147,l));var j=y,k=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(C){var B=j.refs;C===null?delete B[k]:B[k]=C},c._stringRef=k,c)}if(typeof l!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,l))}return l}function Ru(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Ij(l){var c=l._init;return c(l._payload)}function Rj(l){function c(J,G){if(l){var Q=J.deletions;Q===null?(J.deletions=[G],J.flags|=16):Q.push(G)}}function h(J,G){if(!l)return null;for(;G!==null;)c(J,G),G=G.sibling;return null}function y(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function j(J,G){return J=Di(J,G),J.index=0,J.sibling=null,J}function k(J,G,Q){return J.index=Q,l?(Q=J.alternate,Q!==null?(Q=Q.index,Q<G?(J.flags|=2,G):Q):(J.flags|=2,G)):(J.flags|=1048576,G)}function C(J){return l&&J.alternate===null&&(J.flags|=2),J}function B(J,G,Q,ce){return G===null||G.tag!==6?(G=Ap(Q,J.mode,ce),G.return=J,G):(G=j(G,Q),G.return=J,G)}function K(J,G,Q,ce){var Ne=Q.type;return Ne===T?se(J,G,Q.props.children,ce,Q.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===H&&Ij(Ne)===G.type)?(ce=j(G,Q.props),ce.ref=pl(J,G,Q),ce.return=J,ce):(ce=id(Q.type,Q.key,Q.props,null,J.mode,ce),ce.ref=pl(J,G,Q),ce.return=J,ce)}function Z(J,G,Q,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Op(Q,J.mode,ce),G.return=J,G):(G=j(G,Q.children||[]),G.return=J,G)}function se(J,G,Q,ce,Ne){return G===null||G.tag!==7?(G=ba(Q,J.mode,ce,Ne),G.return=J,G):(G=j(G,Q),G.return=J,G)}function oe(J,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Ap(""+G,J.mode,Q),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return Q=id(G.type,G.key,G.props,null,J.mode,Q),Q.ref=pl(J,null,G),Q.return=J,Q;case O:return G=Op(G,J.mode,Q),G.return=J,G;case H:var ce=G._init;return oe(J,ce(G._payload),Q)}if(Br(G)||Y(G))return G=ba(G,J.mode,Q,null),G.return=J,G;Ru(J,G)}return null}function ie(J,G,Q,ce){var Ne=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ne!==null?null:B(J,G,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===Ne?K(J,G,Q,ce):null;case O:return Q.key===Ne?Z(J,G,Q,ce):null;case H:return Ne=Q._init,ie(J,G,Ne(Q._payload),ce)}if(Br(Q)||Y(Q))return Ne!==null?null:se(J,G,Q,ce,null);Ru(J,Q)}return null}function ye(J,G,Q,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return J=J.get(Q)||null,B(G,J,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case A:return J=J.get(ce.key===null?Q:ce.key)||null,K(G,J,ce,Ne);case O:return J=J.get(ce.key===null?Q:ce.key)||null,Z(G,J,ce,Ne);case H:var Ee=ce._init;return ye(J,G,Q,Ee(ce._payload),Ne)}if(Br(ce)||Y(ce))return J=J.get(Q)||null,se(G,J,ce,Ne,null);Ru(G,ce)}return null}function we(J,G,Q,ce){for(var Ne=null,Ee=null,Pe=G,Re=G=0,Wt=null;Pe!==null&&Re<Q.length;Re++){Pe.index>Re?(Wt=Pe,Pe=null):Wt=Pe.sibling;var He=ie(J,Pe,Q[Re],ce);if(He===null){Pe===null&&(Pe=Wt);break}l&&Pe&&He.alternate===null&&c(J,Pe),G=k(He,G,Re),Ee===null?Ne=He:Ee.sibling=He,Ee=He,Pe=Wt}if(Re===Q.length)return h(J,Pe),mt&&fa(J,Re),Ne;if(Pe===null){for(;Re<Q.length;Re++)Pe=oe(J,Q[Re],ce),Pe!==null&&(G=k(Pe,G,Re),Ee===null?Ne=Pe:Ee.sibling=Pe,Ee=Pe);return mt&&fa(J,Re),Ne}for(Pe=y(J,Pe);Re<Q.length;Re++)Wt=ye(Pe,J,Re,Q[Re],ce),Wt!==null&&(l&&Wt.alternate!==null&&Pe.delete(Wt.key===null?Re:Wt.key),G=k(Wt,G,Re),Ee===null?Ne=Wt:Ee.sibling=Wt,Ee=Wt);return l&&Pe.forEach(function(Li){return c(J,Li)}),mt&&fa(J,Re),Ne}function je(J,G,Q,ce){var Ne=Y(Q);if(typeof Ne!="function")throw Error(r(150));if(Q=Ne.call(Q),Q==null)throw Error(r(151));for(var Ee=Ne=null,Pe=G,Re=G=0,Wt=null,He=Q.next();Pe!==null&&!He.done;Re++,He=Q.next()){Pe.index>Re?(Wt=Pe,Pe=null):Wt=Pe.sibling;var Li=ie(J,Pe,He.value,ce);if(Li===null){Pe===null&&(Pe=Wt);break}l&&Pe&&Li.alternate===null&&c(J,Pe),G=k(Li,G,Re),Ee===null?Ne=Li:Ee.sibling=Li,Ee=Li,Pe=Wt}if(He.done)return h(J,Pe),mt&&fa(J,Re),Ne;if(Pe===null){for(;!He.done;Re++,He=Q.next())He=oe(J,He.value,ce),He!==null&&(G=k(He,G,Re),Ee===null?Ne=He:Ee.sibling=He,Ee=He);return mt&&fa(J,Re),Ne}for(Pe=y(J,Pe);!He.done;Re++,He=Q.next())He=ye(Pe,J,Re,He.value,ce),He!==null&&(l&&He.alternate!==null&&Pe.delete(He.key===null?Re:He.key),G=k(He,G,Re),Ee===null?Ne=He:Ee.sibling=He,Ee=He);return l&&Pe.forEach(function(p$){return c(J,p$)}),mt&&fa(J,Re),Ne}function St(J,G,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var Ne=Q.key,Ee=G;Ee!==null;){if(Ee.key===Ne){if(Ne=Q.type,Ne===T){if(Ee.tag===7){h(J,Ee.sibling),G=j(Ee,Q.props.children),G.return=J,J=G;break e}}else if(Ee.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===H&&Ij(Ne)===Ee.type){h(J,Ee.sibling),G=j(Ee,Q.props),G.ref=pl(J,Ee,Q),G.return=J,J=G;break e}h(J,Ee);break}else c(J,Ee);Ee=Ee.sibling}Q.type===T?(G=ba(Q.props.children,J.mode,ce,Q.key),G.return=J,J=G):(ce=id(Q.type,Q.key,Q.props,null,J.mode,ce),ce.ref=pl(J,G,Q),ce.return=J,J=ce)}return C(J);case O:e:{for(Ee=Q.key;G!==null;){if(G.key===Ee)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){h(J,G.sibling),G=j(G,Q.children||[]),G.return=J,J=G;break e}else{h(J,G);break}else c(J,G);G=G.sibling}G=Op(Q,J.mode,ce),G.return=J,J=G}return C(J);case H:return Ee=Q._init,St(J,G,Ee(Q._payload),ce)}if(Br(Q))return we(J,G,Q,ce);if(Y(Q))return je(J,G,Q,ce);Ru(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,G!==null&&G.tag===6?(h(J,G.sibling),G=j(G,Q),G.return=J,J=G):(h(J,G),G=Ap(Q,J.mode,ce),G.return=J,J=G),C(J)):h(J,G)}return St}var xs=Rj(!0),$j=Rj(!1),$u=Ai(null),Mu=null,bs=null,Dm=null;function Lm(){Dm=bs=Mu=null}function Bm(l){var c=$u.current;dt($u),l._currentValue=c}function qm(l,c,h){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===h)break;l=l.return}}function ws(l,c){Mu=l,Dm=bs=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(gr=!0),l.firstContext=null)}function Ur(l){var c=l._currentValue;if(Dm!==l)if(l={context:l,memoizedValue:c,next:null},bs===null){if(Mu===null)throw Error(r(308));bs=l,Mu.dependencies={lanes:0,firstContext:l}}else bs=bs.next=l;return c}var ha=null;function Fm(l){ha===null?ha=[l]:ha.push(l)}function Mj(l,c,h,y){var j=c.interleaved;return j===null?(h.next=h,Fm(c)):(h.next=j.next,j.next=h),c.interleaved=h,Xn(l,y)}function Xn(l,c){l.lanes|=c;var h=l.alternate;for(h!==null&&(h.lanes|=c),h=l,l=l.return;l!==null;)l.childLanes|=c,h=l.alternate,h!==null&&(h.childLanes|=c),h=l,l=l.return;return h.tag===3?h.stateNode:null}var Pi=!1;function Um(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dj(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Yn(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Ti(l,c,h){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ze&2)!==0){var j=y.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),y.pending=c,Xn(l,h)}return j=y.interleaved,j===null?(c.next=c,Fm(y)):(c.next=j.next,j.next=c),y.interleaved=c,Xn(l,h)}function Du(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var y=c.lanes;y&=l.pendingLanes,h|=y,c.lanes=h,rm(l,h)}}function Lj(l,c){var h=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var j=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var C={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?j=k=C:k=k.next=C,h=h.next}while(h!==null);k===null?j=k=c:k=k.next=c}else j=k=c;h={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:k,shared:y.shared,effects:y.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}function Lu(l,c,h,y){var j=l.updateQueue;Pi=!1;var k=j.firstBaseUpdate,C=j.lastBaseUpdate,B=j.shared.pending;if(B!==null){j.shared.pending=null;var K=B,Z=K.next;K.next=null,C===null?k=Z:C.next=Z,C=K;var se=l.alternate;se!==null&&(se=se.updateQueue,B=se.lastBaseUpdate,B!==C&&(B===null?se.firstBaseUpdate=Z:B.next=Z,se.lastBaseUpdate=K))}if(k!==null){var oe=j.baseState;C=0,se=Z=K=null,B=k;do{var ie=B.lane,ye=B.eventTime;if((y&ie)===ie){se!==null&&(se=se.next={eventTime:ye,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var we=l,je=B;switch(ie=c,ye=h,je.tag){case 1:if(we=je.payload,typeof we=="function"){oe=we.call(ye,oe,ie);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,ie=typeof we=="function"?we.call(ye,oe,ie):we,ie==null)break e;oe=W({},oe,ie);break e;case 2:Pi=!0}}B.callback!==null&&B.lane!==0&&(l.flags|=64,ie=j.effects,ie===null?j.effects=[B]:ie.push(B))}else ye={eventTime:ye,lane:ie,tag:B.tag,payload:B.payload,callback:B.callback,next:null},se===null?(Z=se=ye,K=oe):se=se.next=ye,C|=ie;if(B=B.next,B===null){if(B=j.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,j.lastBaseUpdate=ie,j.shared.pending=null}}while(!0);if(se===null&&(K=oe),j.baseState=K,j.firstBaseUpdate=Z,j.lastBaseUpdate=se,c=j.shared.interleaved,c!==null){j=c;do C|=j.lane,j=j.next;while(j!==c)}else k===null&&(j.shared.lanes=0);ga|=C,l.lanes=C,l.memoizedState=oe}}function Bj(l,c,h){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var y=l[c],j=y.callback;if(j!==null){if(y.callback=null,y=h,typeof j!="function")throw Error(r(191,j));j.call(y)}}}var gl={},On=Ai(gl),yl=Ai(gl),vl=Ai(gl);function ma(l){if(l===gl)throw Error(r(174));return l}function zm(l,c){switch(it(vl,c),it(yl,l),it(On,gl),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Wn(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=Wn(c,l)}dt(On),it(On,c)}function js(){dt(On),dt(yl),dt(vl)}function qj(l){ma(vl.current);var c=ma(On.current),h=Wn(c,l.type);c!==h&&(it(yl,l),it(On,h))}function Wm(l){yl.current===l&&(dt(On),dt(yl))}var yt=Ai(0);function Bu(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Hm=[];function Km(){for(var l=0;l<Hm.length;l++)Hm[l]._workInProgressVersionPrimary=null;Hm.length=0}var qu=E.ReactCurrentDispatcher,Vm=E.ReactCurrentBatchConfig,pa=0,vt=null,It=null,Ut=null,Fu=!1,xl=!1,bl=0,D3=0;function rr(){throw Error(r(321))}function Gm(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!sn(l[h],c[h]))return!1;return!0}function Xm(l,c,h,y,j,k){if(pa=k,vt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,qu.current=l===null||l.memoizedState===null?F3:U3,l=h(y,j),xl){k=0;do{if(xl=!1,bl=0,25<=k)throw Error(r(301));k+=1,Ut=It=null,c.updateQueue=null,qu.current=z3,l=h(y,j)}while(xl)}if(qu.current=Wu,c=It!==null&&It.next!==null,pa=0,Ut=It=vt=null,Fu=!1,c)throw Error(r(300));return l}function Ym(){var l=bl!==0;return bl=0,l}function En(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?vt.memoizedState=Ut=l:Ut=Ut.next=l,Ut}function zr(){if(It===null){var l=vt.alternate;l=l!==null?l.memoizedState:null}else l=It.next;var c=Ut===null?vt.memoizedState:Ut.next;if(c!==null)Ut=c,It=l;else{if(l===null)throw Error(r(310));It=l,l={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ut===null?vt.memoizedState=Ut=l:Ut=Ut.next=l}return Ut}function wl(l,c){return typeof c=="function"?c(l):c}function Jm(l){var c=zr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=It,j=y.baseQueue,k=h.pending;if(k!==null){if(j!==null){var C=j.next;j.next=k.next,k.next=C}y.baseQueue=j=k,h.pending=null}if(j!==null){k=j.next,y=y.baseState;var B=C=null,K=null,Z=k;do{var se=Z.lane;if((pa&se)===se)K!==null&&(K=K.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),y=Z.hasEagerState?Z.eagerState:l(y,Z.action);else{var oe={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};K===null?(B=K=oe,C=y):K=K.next=oe,vt.lanes|=se,ga|=se}Z=Z.next}while(Z!==null&&Z!==k);K===null?C=y:K.next=B,sn(y,c.memoizedState)||(gr=!0),c.memoizedState=y,c.baseState=C,c.baseQueue=K,h.lastRenderedState=y}if(l=h.interleaved,l!==null){j=l;do k=j.lane,vt.lanes|=k,ga|=k,j=j.next;while(j!==l)}else j===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Qm(l){var c=zr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=h.dispatch,j=h.pending,k=c.memoizedState;if(j!==null){h.pending=null;var C=j=j.next;do k=l(k,C.action),C=C.next;while(C!==j);sn(k,c.memoizedState)||(gr=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,y]}function Fj(){}function Uj(l,c){var h=vt,y=zr(),j=c(),k=!sn(y.memoizedState,j);if(k&&(y.memoizedState=j,gr=!0),y=y.queue,Zm(Hj.bind(null,h,y,l),[l]),y.getSnapshot!==c||k||Ut!==null&&Ut.memoizedState.tag&1){if(h.flags|=2048,jl(9,Wj.bind(null,h,y,j,c),void 0,null),zt===null)throw Error(r(349));(pa&30)!==0||zj(h,c,j)}return j}function zj(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=vt.updateQueue,c===null?(c={lastEffect:null,stores:null},vt.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function Wj(l,c,h,y){c.value=h,c.getSnapshot=y,Kj(c)&&Vj(l)}function Hj(l,c,h){return h(function(){Kj(c)&&Vj(l)})}function Kj(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!sn(l,h)}catch{return!0}}function Vj(l){var c=Xn(l,1);c!==null&&dn(c,l,1,-1)}function Gj(l){var c=En();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:l},c.queue=l,l=l.dispatch=q3.bind(null,vt,l),[c.memoizedState,l]}function jl(l,c,h,y){return l={tag:l,create:c,destroy:h,deps:y,next:null},c=vt.updateQueue,c===null?(c={lastEffect:null,stores:null},vt.updateQueue=c,c.lastEffect=l.next=l):(h=c.lastEffect,h===null?c.lastEffect=l.next=l:(y=h.next,h.next=l,l.next=y,c.lastEffect=l)),l}function Xj(){return zr().memoizedState}function Uu(l,c,h,y){var j=En();vt.flags|=l,j.memoizedState=jl(1|c,h,void 0,y===void 0?null:y)}function zu(l,c,h,y){var j=zr();y=y===void 0?null:y;var k=void 0;if(It!==null){var C=It.memoizedState;if(k=C.destroy,y!==null&&Gm(y,C.deps)){j.memoizedState=jl(c,h,k,y);return}}vt.flags|=l,j.memoizedState=jl(1|c,h,k,y)}function Yj(l,c){return Uu(8390656,8,l,c)}function Zm(l,c){return zu(2048,8,l,c)}function Jj(l,c){return zu(4,2,l,c)}function Qj(l,c){return zu(4,4,l,c)}function Zj(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function e_(l,c,h){return h=h!=null?h.concat([l]):null,zu(4,4,Zj.bind(null,c,l),h)}function ep(){}function t_(l,c){var h=zr();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&Gm(c,y[1])?y[0]:(h.memoizedState=[l,c],l)}function r_(l,c){var h=zr();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&Gm(c,y[1])?y[0]:(l=l(),h.memoizedState=[l,c],l)}function n_(l,c,h){return(pa&21)===0?(l.baseState&&(l.baseState=!1,gr=!0),l.memoizedState=h):(sn(h,c)||(h=I1(),vt.lanes|=h,ga|=h,l.baseState=!0),c)}function L3(l,c){var h=et;et=h!==0&&4>h?h:4,l(!0);var y=Vm.transition;Vm.transition={};try{l(!1),c()}finally{et=h,Vm.transition=y}}function i_(){return zr().memoizedState}function B3(l,c,h){var y=$i(l);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},a_(l))s_(c,h);else if(h=Mj(l,c,h,y),h!==null){var j=cr();dn(h,l,y,j),o_(h,c,y)}}function q3(l,c,h){var y=$i(l),j={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(a_(l))s_(c,j);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var C=c.lastRenderedState,B=k(C,h);if(j.hasEagerState=!0,j.eagerState=B,sn(B,C)){var K=c.interleaved;K===null?(j.next=j,Fm(c)):(j.next=K.next,K.next=j),c.interleaved=j;return}}catch{}finally{}h=Mj(l,c,j,y),h!==null&&(j=cr(),dn(h,l,y,j),o_(h,c,y))}}function a_(l){var c=l.alternate;return l===vt||c!==null&&c===vt}function s_(l,c){xl=Fu=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function o_(l,c,h){if((h&4194240)!==0){var y=c.lanes;y&=l.pendingLanes,h|=y,c.lanes=h,rm(l,h)}}var Wu={readContext:Ur,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},F3={readContext:Ur,useCallback:function(l,c){return En().memoizedState=[l,c===void 0?null:c],l},useContext:Ur,useEffect:Yj,useImperativeHandle:function(l,c,h){return h=h!=null?h.concat([l]):null,Uu(4194308,4,Zj.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Uu(4194308,4,l,c)},useInsertionEffect:function(l,c){return Uu(4,2,l,c)},useMemo:function(l,c){var h=En();return c=c===void 0?null:c,l=l(),h.memoizedState=[l,c],l},useReducer:function(l,c,h){var y=En();return c=h!==void 0?h(c):c,y.memoizedState=y.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},y.queue=l,l=l.dispatch=B3.bind(null,vt,l),[y.memoizedState,l]},useRef:function(l){var c=En();return l={current:l},c.memoizedState=l},useState:Gj,useDebugValue:ep,useDeferredValue:function(l){return En().memoizedState=l},useTransition:function(){var l=Gj(!1),c=l[0];return l=L3.bind(null,l[1]),En().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,h){var y=vt,j=En();if(mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),zt===null)throw Error(r(349));(pa&30)!==0||zj(y,c,h)}j.memoizedState=h;var k={value:h,getSnapshot:c};return j.queue=k,Yj(Hj.bind(null,y,k,l),[l]),y.flags|=2048,jl(9,Wj.bind(null,y,k,h,c),void 0,null),h},useId:function(){var l=En(),c=zt.identifierPrefix;if(mt){var h=Gn,y=Vn;h=(y&~(1<<32-an(y)-1)).toString(32)+h,c=":"+c+"R"+h,h=bl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=D3++,c=":"+c+"r"+h.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},U3={readContext:Ur,useCallback:t_,useContext:Ur,useEffect:Zm,useImperativeHandle:e_,useInsertionEffect:Jj,useLayoutEffect:Qj,useMemo:r_,useReducer:Jm,useRef:Xj,useState:function(){return Jm(wl)},useDebugValue:ep,useDeferredValue:function(l){var c=zr();return n_(c,It.memoizedState,l)},useTransition:function(){var l=Jm(wl)[0],c=zr().memoizedState;return[l,c]},useMutableSource:Fj,useSyncExternalStore:Uj,useId:i_,unstable_isNewReconciler:!1},z3={readContext:Ur,useCallback:t_,useContext:Ur,useEffect:Zm,useImperativeHandle:e_,useInsertionEffect:Jj,useLayoutEffect:Qj,useMemo:r_,useReducer:Qm,useRef:Xj,useState:function(){return Qm(wl)},useDebugValue:ep,useDeferredValue:function(l){var c=zr();return It===null?c.memoizedState=l:n_(c,It.memoizedState,l)},useTransition:function(){var l=Qm(wl)[0],c=zr().memoizedState;return[l,c]},useMutableSource:Fj,useSyncExternalStore:Uj,useId:i_,unstable_isNewReconciler:!1};function ln(l,c){if(l&&l.defaultProps){c=W({},c),l=l.defaultProps;for(var h in l)c[h]===void 0&&(c[h]=l[h]);return c}return c}function tp(l,c,h,y){c=l.memoizedState,h=h(y,c),h=h==null?c:W({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Hu={isMounted:function(l){return(l=l._reactInternals)?la(l)===l:!1},enqueueSetState:function(l,c,h){l=l._reactInternals;var y=cr(),j=$i(l),k=Yn(y,j);k.payload=c,h!=null&&(k.callback=h),c=Ti(l,k,j),c!==null&&(dn(c,l,j,y),Du(c,l,j))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var y=cr(),j=$i(l),k=Yn(y,j);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=Ti(l,k,j),c!==null&&(dn(c,l,j,y),Du(c,l,j))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=cr(),y=$i(l),j=Yn(h,y);j.tag=2,c!=null&&(j.callback=c),c=Ti(l,j,y),c!==null&&(dn(c,l,y,h),Du(c,l,y))}};function l_(l,c,h,y,j,k,C){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,k,C):c.prototype&&c.prototype.isPureReactComponent?!ll(h,y)||!ll(j,k):!0}function c_(l,c,h){var y=!1,j=Oi,k=c.contextType;return typeof k=="object"&&k!==null?k=Ur(k):(j=pr(c)?ua:tr.current,y=c.contextTypes,k=(y=y!=null)?ps(l,j):Oi),c=new c(h,k),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Hu,l.stateNode=c,c._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=j,l.__reactInternalMemoizedMaskedChildContext=k),c}function u_(l,c,h,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,y),c.state!==l&&Hu.enqueueReplaceState(c,c.state,null)}function rp(l,c,h,y){var j=l.stateNode;j.props=h,j.state=l.memoizedState,j.refs={},Um(l);var k=c.contextType;typeof k=="object"&&k!==null?j.context=Ur(k):(k=pr(c)?ua:tr.current,j.context=ps(l,k)),j.state=l.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(tp(l,c,k,h),j.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(c=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),c!==j.state&&Hu.enqueueReplaceState(j,j.state,null),Lu(l,h,j,y),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308)}function _s(l,c){try{var h="",y=c;do h+=fe(y),y=y.return;while(y);var j=h}catch(k){j=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:c,stack:j,digest:null}}function np(l,c,h){return{value:l,source:null,stack:h??null,digest:c??null}}function ip(l,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var W3=typeof WeakMap=="function"?WeakMap:Map;function d_(l,c,h){h=Yn(-1,h),h.tag=3,h.payload={element:null};var y=c.value;return h.callback=function(){Qu||(Qu=!0,xp=y),ip(l,c)},h}function f_(l,c,h){h=Yn(-1,h),h.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var j=c.value;h.payload=function(){return y(j)},h.callback=function(){ip(l,c)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){ip(l,c),typeof y!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})}),h}function h_(l,c,h){var y=l.pingCache;if(y===null){y=l.pingCache=new W3;var j=new Set;y.set(c,j)}else j=y.get(c),j===void 0&&(j=new Set,y.set(c,j));j.has(h)||(j.add(h),l=i$.bind(null,l,c,h),c.then(l,l))}function m_(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function p_(l,c,h,y,j){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Yn(-1,1),c.tag=2,Ti(h,c,1))),h.lanes|=1),l):(l.flags|=65536,l.lanes=j,l)}var H3=E.ReactCurrentOwner,gr=!1;function lr(l,c,h,y){c.child=l===null?$j(c,null,h,y):xs(c,l.child,h,y)}function g_(l,c,h,y,j){h=h.render;var k=c.ref;return ws(c,j),y=Xm(l,c,h,y,k,j),h=Ym(),l!==null&&!gr?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~j,Jn(l,c,j)):(mt&&h&&Cm(c),c.flags|=1,lr(l,c,y,j),c.child)}function y_(l,c,h,y,j){if(l===null){var k=h.type;return typeof k=="function"&&!kp(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=k,v_(l,c,k,y,j)):(l=id(h.type,null,y,c,c.mode,j),l.ref=c.ref,l.return=c,c.child=l)}if(k=l.child,(l.lanes&j)===0){var C=k.memoizedProps;if(h=h.compare,h=h!==null?h:ll,h(C,y)&&l.ref===c.ref)return Jn(l,c,j)}return c.flags|=1,l=Di(k,y),l.ref=c.ref,l.return=c,c.child=l}function v_(l,c,h,y,j){if(l!==null){var k=l.memoizedProps;if(ll(k,y)&&l.ref===c.ref)if(gr=!1,c.pendingProps=y=k,(l.lanes&j)!==0)(l.flags&131072)!==0&&(gr=!0);else return c.lanes=l.lanes,Jn(l,c,j)}return ap(l,c,h,y,j)}function x_(l,c,h){var y=c.pendingProps,j=y.children,k=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ss,Or),Or|=h;else{if((h&1073741824)===0)return l=k!==null?k.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,it(Ss,Or),Or|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=k!==null?k.baseLanes:h,it(Ss,Or),Or|=y}else k!==null?(y=k.baseLanes|h,c.memoizedState=null):y=h,it(Ss,Or),Or|=y;return lr(l,c,j,h),c.child}function b_(l,c){var h=c.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function ap(l,c,h,y,j){var k=pr(h)?ua:tr.current;return k=ps(c,k),ws(c,j),h=Xm(l,c,h,y,k,j),y=Ym(),l!==null&&!gr?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~j,Jn(l,c,j)):(mt&&y&&Cm(c),c.flags|=1,lr(l,c,h,j),c.child)}function w_(l,c,h,y,j){if(pr(h)){var k=!0;Eu(c)}else k=!1;if(ws(c,j),c.stateNode===null)Vu(l,c),c_(c,h,y),rp(c,h,y,j),y=!0;else if(l===null){var C=c.stateNode,B=c.memoizedProps;C.props=B;var K=C.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=Ur(Z):(Z=pr(h)?ua:tr.current,Z=ps(c,Z));var se=h.getDerivedStateFromProps,oe=typeof se=="function"||typeof C.getSnapshotBeforeUpdate=="function";oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==y||K!==Z)&&u_(c,C,y,Z),Pi=!1;var ie=c.memoizedState;C.state=ie,Lu(c,y,C,j),K=c.memoizedState,B!==y||ie!==K||mr.current||Pi?(typeof se=="function"&&(tp(c,h,se,y),K=c.memoizedState),(B=Pi||l_(c,h,B,y,ie,K,Z))?(oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=K),C.props=y,C.state=K,C.context=Z,y=B):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{C=c.stateNode,Dj(l,c),B=c.memoizedProps,Z=c.type===c.elementType?B:ln(c.type,B),C.props=Z,oe=c.pendingProps,ie=C.context,K=h.contextType,typeof K=="object"&&K!==null?K=Ur(K):(K=pr(h)?ua:tr.current,K=ps(c,K));var ye=h.getDerivedStateFromProps;(se=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==oe||ie!==K)&&u_(c,C,y,K),Pi=!1,ie=c.memoizedState,C.state=ie,Lu(c,y,C,j);var we=c.memoizedState;B!==oe||ie!==we||mr.current||Pi?(typeof ye=="function"&&(tp(c,h,ye,y),we=c.memoizedState),(Z=Pi||l_(c,h,Z,y,ie,we,K)||!1)?(se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,we,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,we,K)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===l.memoizedProps&&ie===l.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&ie===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=we),C.props=y,C.state=we,C.context=K,y=Z):(typeof C.componentDidUpdate!="function"||B===l.memoizedProps&&ie===l.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&ie===l.memoizedState||(c.flags|=1024),y=!1)}return sp(l,c,h,y,k,j)}function sp(l,c,h,y,j,k){b_(l,c);var C=(c.flags&128)!==0;if(!y&&!C)return j&&kj(c,h,!1),Jn(l,c,k);y=c.stateNode,H3.current=c;var B=C&&typeof h.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,l!==null&&C?(c.child=xs(c,l.child,null,k),c.child=xs(c,null,B,k)):lr(l,c,B,k),c.memoizedState=y.state,j&&kj(c,h,!0),c.child}function j_(l){var c=l.stateNode;c.pendingContext?Nj(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Nj(l,c.context,!1),zm(l,c.containerInfo)}function __(l,c,h,y,j){return vs(),Mm(j),c.flags|=256,lr(l,c,h,y),c.child}var op={dehydrated:null,treeContext:null,retryLane:0};function lp(l){return{baseLanes:l,cachePool:null,transitions:null}}function N_(l,c,h){var y=c.pendingProps,j=yt.current,k=!1,C=(c.flags&128)!==0,B;if((B=C)||(B=l!==null&&l.memoizedState===null?!1:(j&2)!==0),B?(k=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(j|=1),it(yt,j&1),l===null)return $m(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(C=y.children,l=y.fallback,k?(y=c.mode,k=c.child,C={mode:"hidden",children:C},(y&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=C):k=ad(C,y,0,null),l=ba(l,y,h,null),k.return=c,l.return=c,k.sibling=l,c.child=k,c.child.memoizedState=lp(h),c.memoizedState=op,l):cp(c,C));if(j=l.memoizedState,j!==null&&(B=j.dehydrated,B!==null))return K3(l,c,C,y,B,j,h);if(k){k=y.fallback,C=c.mode,j=l.child,B=j.sibling;var K={mode:"hidden",children:y.children};return(C&1)===0&&c.child!==j?(y=c.child,y.childLanes=0,y.pendingProps=K,c.deletions=null):(y=Di(j,K),y.subtreeFlags=j.subtreeFlags&14680064),B!==null?k=Di(B,k):(k=ba(k,C,h,null),k.flags|=2),k.return=c,y.return=c,y.sibling=k,c.child=y,y=k,k=c.child,C=l.child.memoizedState,C=C===null?lp(h):{baseLanes:C.baseLanes|h,cachePool:null,transitions:C.transitions},k.memoizedState=C,k.childLanes=l.childLanes&~h,c.memoizedState=op,y}return k=l.child,l=k.sibling,y=Di(k,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=h),y.return=c,y.sibling=null,l!==null&&(h=c.deletions,h===null?(c.deletions=[l],c.flags|=16):h.push(l)),c.child=y,c.memoizedState=null,y}function cp(l,c){return c=ad({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Ku(l,c,h,y){return y!==null&&Mm(y),xs(c,l.child,null,h),l=cp(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function K3(l,c,h,y,j,k,C){if(h)return c.flags&256?(c.flags&=-257,y=np(Error(r(422))),Ku(l,c,C,y)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(k=y.fallback,j=c.mode,y=ad({mode:"visible",children:y.children},j,0,null),k=ba(k,j,C,null),k.flags|=2,y.return=c,k.return=c,y.sibling=k,c.child=y,(c.mode&1)!==0&&xs(c,l.child,null,C),c.child.memoizedState=lp(C),c.memoizedState=op,k);if((c.mode&1)===0)return Ku(l,c,C,null);if(j.data==="$!"){if(y=j.nextSibling&&j.nextSibling.dataset,y)var B=y.dgst;return y=B,k=Error(r(419)),y=np(k,y,void 0),Ku(l,c,C,y)}if(B=(C&l.childLanes)!==0,gr||B){if(y=zt,y!==null){switch(C&-C){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(y.suspendedLanes|C))!==0?0:j,j!==0&&j!==k.retryLane&&(k.retryLane=j,Xn(l,j),dn(y,l,j,-1))}return Sp(),y=np(Error(r(421))),Ku(l,c,C,y)}return j.data==="$?"?(c.flags|=128,c.child=l.child,c=a$.bind(null,l),j._reactRetry=c,null):(l=k.treeContext,Ar=ki(j.nextSibling),kr=c,mt=!0,on=null,l!==null&&(qr[Fr++]=Vn,qr[Fr++]=Gn,qr[Fr++]=da,Vn=l.id,Gn=l.overflow,da=c),c=cp(c,y.children),c.flags|=4096,c)}function S_(l,c,h){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),qm(l.return,c,h)}function up(l,c,h,y,j){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:j}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=y,k.tail=h,k.tailMode=j)}function k_(l,c,h){var y=c.pendingProps,j=y.revealOrder,k=y.tail;if(lr(l,c,y.children,h),y=yt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&S_(l,h,c);else if(l.tag===19)S_(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(it(yt,y),(c.mode&1)===0)c.memoizedState=null;else switch(j){case"forwards":for(h=c.child,j=null;h!==null;)l=h.alternate,l!==null&&Bu(l)===null&&(j=h),h=h.sibling;h=j,h===null?(j=c.child,c.child=null):(j=h.sibling,h.sibling=null),up(c,!1,j,h,k);break;case"backwards":for(h=null,j=c.child,c.child=null;j!==null;){if(l=j.alternate,l!==null&&Bu(l)===null){c.child=j;break}l=j.sibling,j.sibling=h,h=j,j=l}up(c,!0,h,null,k);break;case"together":up(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Vu(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Jn(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),ga|=c.lanes,(h&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,h=Di(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=Di(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function V3(l,c,h){switch(c.tag){case 3:j_(c),vs();break;case 5:qj(c);break;case 1:pr(c.type)&&Eu(c);break;case 4:zm(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,j=c.memoizedProps.value;it($u,y._currentValue),y._currentValue=j;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(it(yt,yt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?N_(l,c,h):(it(yt,yt.current&1),l=Jn(l,c,h),l!==null?l.sibling:null);it(yt,yt.current&1);break;case 19:if(y=(h&c.childLanes)!==0,(l.flags&128)!==0){if(y)return k_(l,c,h);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),it(yt,yt.current),y)break;return null;case 22:case 23:return c.lanes=0,x_(l,c,h)}return Jn(l,c,h)}var A_,dp,O_,E_;A_=function(l,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},dp=function(){},O_=function(l,c,h,y){var j=l.memoizedProps;if(j!==y){l=c.stateNode,ma(On.current);var k=null;switch(h){case"input":j=Le(l,j),y=Le(l,y),k=[];break;case"select":j=W({},j,{value:void 0}),y=W({},y,{value:void 0}),k=[];break;case"textarea":j=hr(l,j),y=hr(l,y),k=[];break;default:typeof j.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=ku)}Hh(h,y);var C;h=null;for(Z in j)if(!y.hasOwnProperty(Z)&&j.hasOwnProperty(Z)&&j[Z]!=null)if(Z==="style"){var B=j[Z];for(C in B)B.hasOwnProperty(C)&&(h||(h={}),h[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?k||(k=[]):(k=k||[]).push(Z,null));for(Z in y){var K=y[Z];if(B=j!=null?j[Z]:void 0,y.hasOwnProperty(Z)&&K!==B&&(K!=null||B!=null))if(Z==="style")if(B){for(C in B)!B.hasOwnProperty(C)||K&&K.hasOwnProperty(C)||(h||(h={}),h[C]="");for(C in K)K.hasOwnProperty(C)&&B[C]!==K[C]&&(h||(h={}),h[C]=K[C])}else h||(k||(k=[]),k.push(Z,h)),h=K;else Z==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,B=B?B.__html:void 0,K!=null&&B!==K&&(k=k||[]).push(Z,K)):Z==="children"?typeof K!="string"&&typeof K!="number"||(k=k||[]).push(Z,""+K):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(K!=null&&Z==="onScroll"&&ut("scroll",l),k||B===K||(k=[])):(k=k||[]).push(Z,K))}h&&(k=k||[]).push("style",h);var Z=k;(c.updateQueue=Z)&&(c.flags|=4)}},E_=function(l,c,h,y){h!==y&&(c.flags|=4)};function _l(l,c){if(!mt)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function nr(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,y=0;if(c)for(var j=l.child;j!==null;)h|=j.lanes|j.childLanes,y|=j.subtreeFlags&14680064,y|=j.flags&14680064,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)h|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=y,l.childLanes=h,c}function G3(l,c,h){var y=c.pendingProps;switch(Im(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(c),null;case 1:return pr(c.type)&&Ou(),nr(c),null;case 3:return y=c.stateNode,js(),dt(mr),dt(tr),Km(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Iu(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,on!==null&&(jp(on),on=null))),dp(l,c),nr(c),null;case 5:Wm(c);var j=ma(vl.current);if(h=c.type,l!==null&&c.stateNode!=null)O_(l,c,h,y,j),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return nr(c),null}if(l=ma(On.current),Iu(c)){y=c.stateNode,h=c.type;var k=c.memoizedProps;switch(y[An]=c,y[hl]=k,l=(c.mode&1)!==0,h){case"dialog":ut("cancel",y),ut("close",y);break;case"iframe":case"object":case"embed":ut("load",y);break;case"video":case"audio":for(j=0;j<ul.length;j++)ut(ul[j],y);break;case"source":ut("error",y);break;case"img":case"image":case"link":ut("error",y),ut("load",y);break;case"details":ut("toggle",y);break;case"input":Ze(y,k),ut("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!k.multiple},ut("invalid",y);break;case"textarea":he(y,k),ut("invalid",y)}Hh(h,k),j=null;for(var C in k)if(k.hasOwnProperty(C)){var B=k[C];C==="children"?typeof B=="string"?y.textContent!==B&&(k.suppressHydrationWarning!==!0&&Su(y.textContent,B,l),j=["children",B]):typeof B=="number"&&y.textContent!==""+B&&(k.suppressHydrationWarning!==!0&&Su(y.textContent,B,l),j=["children",""+B]):i.hasOwnProperty(C)&&B!=null&&C==="onScroll"&&ut("scroll",y)}switch(h){case"input":Se(y),Zt(y,k,!0);break;case"textarea":Se(y),Xe(y);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(y.onclick=ku)}y=j,c.updateQueue=y,y!==null&&(c.flags|=4)}else{C=j.nodeType===9?j:j.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=gt(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=C.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=C.createElement(h,{is:y.is}):(l=C.createElement(h),h==="select"&&(C=l,y.multiple?C.multiple=!0:y.size&&(C.size=y.size))):l=C.createElementNS(l,h),l[An]=c,l[hl]=y,A_(l,c,!1,!1),c.stateNode=l;e:{switch(C=Kh(h,y),h){case"dialog":ut("cancel",l),ut("close",l),j=y;break;case"iframe":case"object":case"embed":ut("load",l),j=y;break;case"video":case"audio":for(j=0;j<ul.length;j++)ut(ul[j],l);j=y;break;case"source":ut("error",l),j=y;break;case"img":case"image":case"link":ut("error",l),ut("load",l),j=y;break;case"details":ut("toggle",l),j=y;break;case"input":Ze(l,y),j=Le(l,y),ut("invalid",l);break;case"option":j=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},j=W({},y,{value:void 0}),ut("invalid",l);break;case"textarea":he(l,y),j=hr(l,y),ut("invalid",l);break;default:j=y}Hh(h,j),B=j;for(k in B)if(B.hasOwnProperty(k)){var K=B[k];k==="style"?v1(l,K):k==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&vi(l,K)):k==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&oa(l,K):typeof K=="number"&&oa(l,""+K):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?K!=null&&k==="onScroll"&&ut("scroll",l):K!=null&&_(l,k,K,C))}switch(h){case"input":Se(l),Zt(l,y,!1);break;case"textarea":Se(l),Xe(l);break;case"option":y.value!=null&&l.setAttribute("value",""+de(y.value));break;case"select":l.multiple=!!y.multiple,k=y.value,k!=null?er(l,!!y.multiple,k,!1):y.defaultValue!=null&&er(l,!!y.multiple,y.defaultValue,!0);break;default:typeof j.onClick=="function"&&(l.onclick=ku)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return nr(c),null;case 6:if(l&&c.stateNode!=null)E_(l,c,l.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(h=ma(vl.current),ma(On.current),Iu(c)){if(y=c.stateNode,h=c.memoizedProps,y[An]=c,(k=y.nodeValue!==h)&&(l=kr,l!==null))switch(l.tag){case 3:Su(y.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Su(y.nodeValue,h,(l.mode&1)!==0)}k&&(c.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[An]=c,c.stateNode=y}return nr(c),null;case 13:if(dt(yt),y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(mt&&Ar!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Cj(),vs(),c.flags|=98560,k=!1;else if(k=Iu(c),y!==null&&y.dehydrated!==null){if(l===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[An]=c}else vs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nr(c),k=!1}else on!==null&&(jp(on),on=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(yt.current&1)!==0?Rt===0&&(Rt=3):Sp())),c.updateQueue!==null&&(c.flags|=4),nr(c),null);case 4:return js(),dp(l,c),l===null&&dl(c.stateNode.containerInfo),nr(c),null;case 10:return Bm(c.type._context),nr(c),null;case 17:return pr(c.type)&&Ou(),nr(c),null;case 19:if(dt(yt),k=c.memoizedState,k===null)return nr(c),null;if(y=(c.flags&128)!==0,C=k.rendering,C===null)if(y)_l(k,!1);else{if(Rt!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(C=Bu(l),C!==null){for(c.flags|=128,_l(k,!1),y=C.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=h,h=c.child;h!==null;)k=h,l=y,k.flags&=14680066,C=k.alternate,C===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=C.childLanes,k.lanes=C.lanes,k.child=C.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=C.memoizedProps,k.memoizedState=C.memoizedState,k.updateQueue=C.updateQueue,k.type=C.type,l=C.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return it(yt,yt.current&1|2),c.child}l=l.sibling}k.tail!==null&&Nt()>ks&&(c.flags|=128,y=!0,_l(k,!1),c.lanes=4194304)}else{if(!y)if(l=Bu(C),l!==null){if(c.flags|=128,y=!0,h=l.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),_l(k,!0),k.tail===null&&k.tailMode==="hidden"&&!C.alternate&&!mt)return nr(c),null}else 2*Nt()-k.renderingStartTime>ks&&h!==1073741824&&(c.flags|=128,y=!0,_l(k,!1),c.lanes=4194304);k.isBackwards?(C.sibling=c.child,c.child=C):(h=k.last,h!==null?h.sibling=C:c.child=C,k.last=C)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Nt(),c.sibling=null,h=yt.current,it(yt,y?h&1|2:h&1),c):(nr(c),null);case 22:case 23:return Np(),y=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Or&1073741824)!==0&&(nr(c),c.subtreeFlags&6&&(c.flags|=8192)):nr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function X3(l,c){switch(Im(c),c.tag){case 1:return pr(c.type)&&Ou(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return js(),dt(mr),dt(tr),Km(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return Wm(c),null;case 13:if(dt(yt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));vs()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return dt(yt),null;case 4:return js(),null;case 10:return Bm(c.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var Gu=!1,ir=!1,Y3=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ns(l,c){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){bt(l,c,y)}else h.current=null}function fp(l,c,h){try{h()}catch(y){bt(l,c,y)}}var P_=!1;function J3(l,c){if(Nm=mu,l=lj(),gm(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var j=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var C=0,B=-1,K=-1,Z=0,se=0,oe=l,ie=null;t:for(;;){for(var ye;oe!==h||j!==0&&oe.nodeType!==3||(B=C+j),oe!==k||y!==0&&oe.nodeType!==3||(K=C+y),oe.nodeType===3&&(C+=oe.nodeValue.length),(ye=oe.firstChild)!==null;)ie=oe,oe=ye;for(;;){if(oe===l)break t;if(ie===h&&++Z===j&&(B=C),ie===k&&++se===y&&(K=C),(ye=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=ye}h=B===-1||K===-1?null:{start:B,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(Sm={focusedElem:l,selectionRange:h},mu=!1,ve=c;ve!==null;)if(c=ve,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,ve=l;else for(;ve!==null;){c=ve;try{var we=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,St=we.memoizedState,J=c.stateNode,G=J.getSnapshotBeforeUpdate(c.elementType===c.type?je:ln(c.type,je),St);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Q=c.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ce){bt(c,c.return,ce)}if(l=c.sibling,l!==null){l.return=c.return,ve=l;break}ve=c.return}return we=P_,P_=!1,we}function Nl(l,c,h){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var j=y=y.next;do{if((j.tag&l)===l){var k=j.destroy;j.destroy=void 0,k!==void 0&&fp(c,h,k)}j=j.next}while(j!==y)}}function Xu(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&l)===l){var y=h.create;h.destroy=y()}h=h.next}while(h!==c)}}function hp(l){var c=l.ref;if(c!==null){var h=l.stateNode;switch(l.tag){case 5:l=h;break;default:l=h}typeof c=="function"?c(l):c.current=l}}function T_(l){var c=l.alternate;c!==null&&(l.alternate=null,T_(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[An],delete c[hl],delete c[Em],delete c[I3],delete c[R3])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function C_(l){return l.tag===5||l.tag===3||l.tag===4}function I_(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||C_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function mp(l,c,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(l,c):h.insertBefore(l,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(l,h)):(c=h,c.appendChild(l)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ku));else if(y!==4&&(l=l.child,l!==null))for(mp(l,c,h),l=l.sibling;l!==null;)mp(l,c,h),l=l.sibling}function pp(l,c,h){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(pp(l,c,h),l=l.sibling;l!==null;)pp(l,c,h),l=l.sibling}var Xt=null,cn=!1;function Ci(l,c,h){for(h=h.child;h!==null;)R_(l,c,h),h=h.sibling}function R_(l,c,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(lu,h)}catch{}switch(h.tag){case 5:ir||Ns(h,c);case 6:var y=Xt,j=cn;Xt=null,Ci(l,c,h),Xt=y,cn=j,Xt!==null&&(cn?(l=Xt,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):Xt.removeChild(h.stateNode));break;case 18:Xt!==null&&(cn?(l=Xt,h=h.stateNode,l.nodeType===8?Om(l.parentNode,h):l.nodeType===1&&Om(l,h),rl(l)):Om(Xt,h.stateNode));break;case 4:y=Xt,j=cn,Xt=h.stateNode.containerInfo,cn=!0,Ci(l,c,h),Xt=y,cn=j;break;case 0:case 11:case 14:case 15:if(!ir&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){j=y=y.next;do{var k=j,C=k.destroy;k=k.tag,C!==void 0&&((k&2)!==0||(k&4)!==0)&&fp(h,c,C),j=j.next}while(j!==y)}Ci(l,c,h);break;case 1:if(!ir&&(Ns(h,c),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(B){bt(h,c,B)}Ci(l,c,h);break;case 21:Ci(l,c,h);break;case 22:h.mode&1?(ir=(y=ir)||h.memoizedState!==null,Ci(l,c,h),ir=y):Ci(l,c,h);break;default:Ci(l,c,h)}}function $_(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new Y3),c.forEach(function(y){var j=s$.bind(null,l,y);h.has(y)||(h.add(y),y.then(j,j))})}}function un(l,c){var h=c.deletions;if(h!==null)for(var y=0;y<h.length;y++){var j=h[y];try{var k=l,C=c,B=C;e:for(;B!==null;){switch(B.tag){case 5:Xt=B.stateNode,cn=!1;break e;case 3:Xt=B.stateNode.containerInfo,cn=!0;break e;case 4:Xt=B.stateNode.containerInfo,cn=!0;break e}B=B.return}if(Xt===null)throw Error(r(160));R_(k,C,j),Xt=null,cn=!1;var K=j.alternate;K!==null&&(K.return=null),j.return=null}catch(Z){bt(j,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)M_(c,l),c=c.sibling}function M_(l,c){var h=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(un(c,l),Pn(l),y&4){try{Nl(3,l,l.return),Xu(3,l)}catch(je){bt(l,l.return,je)}try{Nl(5,l,l.return)}catch(je){bt(l,l.return,je)}}break;case 1:un(c,l),Pn(l),y&512&&h!==null&&Ns(h,h.return);break;case 5:if(un(c,l),Pn(l),y&512&&h!==null&&Ns(h,h.return),l.flags&32){var j=l.stateNode;try{oa(j,"")}catch(je){bt(l,l.return,je)}}if(y&4&&(j=l.stateNode,j!=null)){var k=l.memoizedProps,C=h!==null?h.memoizedProps:k,B=l.type,K=l.updateQueue;if(l.updateQueue=null,K!==null)try{B==="input"&&k.type==="radio"&&k.name!=null&&rt(j,k),Kh(B,C);var Z=Kh(B,k);for(C=0;C<K.length;C+=2){var se=K[C],oe=K[C+1];se==="style"?v1(j,oe):se==="dangerouslySetInnerHTML"?vi(j,oe):se==="children"?oa(j,oe):_(j,se,oe,Z)}switch(B){case"input":_t(j,k);break;case"textarea":Ae(j,k);break;case"select":var ie=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!k.multiple;var ye=k.value;ye!=null?er(j,!!k.multiple,ye,!1):ie!==!!k.multiple&&(k.defaultValue!=null?er(j,!!k.multiple,k.defaultValue,!0):er(j,!!k.multiple,k.multiple?[]:"",!1))}j[hl]=k}catch(je){bt(l,l.return,je)}}break;case 6:if(un(c,l),Pn(l),y&4){if(l.stateNode===null)throw Error(r(162));j=l.stateNode,k=l.memoizedProps;try{j.nodeValue=k}catch(je){bt(l,l.return,je)}}break;case 3:if(un(c,l),Pn(l),y&4&&h!==null&&h.memoizedState.isDehydrated)try{rl(c.containerInfo)}catch(je){bt(l,l.return,je)}break;case 4:un(c,l),Pn(l);break;case 13:un(c,l),Pn(l),j=l.child,j.flags&8192&&(k=j.memoizedState!==null,j.stateNode.isHidden=k,!k||j.alternate!==null&&j.alternate.memoizedState!==null||(vp=Nt())),y&4&&$_(l);break;case 22:if(se=h!==null&&h.memoizedState!==null,l.mode&1?(ir=(Z=ir)||se,un(c,l),ir=Z):un(c,l),Pn(l),y&8192){if(Z=l.memoizedState!==null,(l.stateNode.isHidden=Z)&&!se&&(l.mode&1)!==0)for(ve=l,se=l.child;se!==null;){for(oe=ve=se;ve!==null;){switch(ie=ve,ye=ie.child,ie.tag){case 0:case 11:case 14:case 15:Nl(4,ie,ie.return);break;case 1:Ns(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){y=ie,h=ie.return;try{c=y,we.props=c.memoizedProps,we.state=c.memoizedState,we.componentWillUnmount()}catch(je){bt(y,h,je)}}break;case 5:Ns(ie,ie.return);break;case 22:if(ie.memoizedState!==null){B_(oe);continue}}ye!==null?(ye.return=ie,ve=ye):B_(oe)}se=se.sibling}e:for(se=null,oe=l;;){if(oe.tag===5){if(se===null){se=oe;try{j=oe.stateNode,Z?(k=j.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(B=oe.stateNode,K=oe.memoizedProps.style,C=K!=null&&K.hasOwnProperty("display")?K.display:null,B.style.display=y1("display",C))}catch(je){bt(l,l.return,je)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(je){bt(l,l.return,je)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===l)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===l)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===l)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:un(c,l),Pn(l),y&4&&$_(l);break;case 21:break;default:un(c,l),Pn(l)}}function Pn(l){var c=l.flags;if(c&2){try{e:{for(var h=l.return;h!==null;){if(C_(h)){var y=h;break e}h=h.return}throw Error(r(160))}switch(y.tag){case 5:var j=y.stateNode;y.flags&32&&(oa(j,""),y.flags&=-33);var k=I_(l);pp(l,k,j);break;case 3:case 4:var C=y.stateNode.containerInfo,B=I_(l);mp(l,B,C);break;default:throw Error(r(161))}}catch(K){bt(l,l.return,K)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function Q3(l,c,h){ve=l,D_(l)}function D_(l,c,h){for(var y=(l.mode&1)!==0;ve!==null;){var j=ve,k=j.child;if(j.tag===22&&y){var C=j.memoizedState!==null||Gu;if(!C){var B=j.alternate,K=B!==null&&B.memoizedState!==null||ir;B=Gu;var Z=ir;if(Gu=C,(ir=K)&&!Z)for(ve=j;ve!==null;)C=ve,K=C.child,C.tag===22&&C.memoizedState!==null?q_(j):K!==null?(K.return=C,ve=K):q_(j);for(;k!==null;)ve=k,D_(k),k=k.sibling;ve=j,Gu=B,ir=Z}L_(l)}else(j.subtreeFlags&8772)!==0&&k!==null?(k.return=j,ve=k):L_(l)}}function L_(l){for(;ve!==null;){var c=ve;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ir||Xu(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!ir)if(h===null)y.componentDidMount();else{var j=c.elementType===c.type?h.memoizedProps:ln(c.type,h.memoizedProps);y.componentDidUpdate(j,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&Bj(c,k,y);break;case 3:var C=c.updateQueue;if(C!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Bj(c,C,h)}break;case 5:var B=c.stateNode;if(h===null&&c.flags&4){h=B;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&rl(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ir||c.flags&512&&hp(c)}catch(ie){bt(c,c.return,ie)}}if(c===l){ve=null;break}if(h=c.sibling,h!==null){h.return=c.return,ve=h;break}ve=c.return}}function B_(l){for(;ve!==null;){var c=ve;if(c===l){ve=null;break}var h=c.sibling;if(h!==null){h.return=c.return,ve=h;break}ve=c.return}}function q_(l){for(;ve!==null;){var c=ve;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Xu(4,c)}catch(K){bt(c,h,K)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var j=c.return;try{y.componentDidMount()}catch(K){bt(c,j,K)}}var k=c.return;try{hp(c)}catch(K){bt(c,k,K)}break;case 5:var C=c.return;try{hp(c)}catch(K){bt(c,C,K)}}}catch(K){bt(c,c.return,K)}if(c===l){ve=null;break}var B=c.sibling;if(B!==null){B.return=c.return,ve=B;break}ve=c.return}}var Z3=Math.ceil,Yu=E.ReactCurrentDispatcher,gp=E.ReactCurrentOwner,Wr=E.ReactCurrentBatchConfig,ze=0,zt=null,At=null,Yt=0,Or=0,Ss=Ai(0),Rt=0,Sl=null,ga=0,Ju=0,yp=0,kl=null,yr=null,vp=0,ks=1/0,Qn=null,Qu=!1,xp=null,Ii=null,Zu=!1,Ri=null,ed=0,Al=0,bp=null,td=-1,rd=0;function cr(){return(ze&6)!==0?Nt():td!==-1?td:td=Nt()}function $i(l){return(l.mode&1)===0?1:(ze&2)!==0&&Yt!==0?Yt&-Yt:M3.transition!==null?(rd===0&&(rd=I1()),rd):(l=et,l!==0||(l=window.event,l=l===void 0?16:U1(l.type)),l)}function dn(l,c,h,y){if(50<Al)throw Al=0,bp=null,Error(r(185));Jo(l,h,y),((ze&2)===0||l!==zt)&&(l===zt&&((ze&2)===0&&(Ju|=h),Rt===4&&Mi(l,Yt)),vr(l,y),h===1&&ze===0&&(c.mode&1)===0&&(ks=Nt()+500,Pu&&Ei()))}function vr(l,c){var h=l.callbackNode;M5(l,c);var y=du(l,l===zt?Yt:0);if(y===0)h!==null&&P1(h),l.callbackNode=null,l.callbackPriority=0;else if(c=y&-y,l.callbackPriority!==c){if(h!=null&&P1(h),c===1)l.tag===0?$3(U_.bind(null,l)):Aj(U_.bind(null,l)),T3(function(){(ze&6)===0&&Ei()}),h=null;else{switch(R1(y)){case 1:h=Zh;break;case 4:h=T1;break;case 16:h=ou;break;case 536870912:h=C1;break;default:h=ou}h=Y_(h,F_.bind(null,l))}l.callbackPriority=c,l.callbackNode=h}}function F_(l,c){if(td=-1,rd=0,(ze&6)!==0)throw Error(r(327));var h=l.callbackNode;if(As()&&l.callbackNode!==h)return null;var y=du(l,l===zt?Yt:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||c)c=nd(l,y);else{c=y;var j=ze;ze|=2;var k=W_();(zt!==l||Yt!==c)&&(Qn=null,ks=Nt()+500,va(l,c));do try{r$();break}catch(B){z_(l,B)}while(!0);Lm(),Yu.current=k,ze=j,At!==null?c=0:(zt=null,Yt=0,c=Rt)}if(c!==0){if(c===2&&(j=em(l),j!==0&&(y=j,c=wp(l,j))),c===1)throw h=Sl,va(l,0),Mi(l,y),vr(l,Nt()),h;if(c===6)Mi(l,y);else{if(j=l.current.alternate,(y&30)===0&&!e$(j)&&(c=nd(l,y),c===2&&(k=em(l),k!==0&&(y=k,c=wp(l,k))),c===1))throw h=Sl,va(l,0),Mi(l,y),vr(l,Nt()),h;switch(l.finishedWork=j,l.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:xa(l,yr,Qn);break;case 3:if(Mi(l,y),(y&130023424)===y&&(c=vp+500-Nt(),10<c)){if(du(l,0)!==0)break;if(j=l.suspendedLanes,(j&y)!==y){cr(),l.pingedLanes|=l.suspendedLanes&j;break}l.timeoutHandle=Am(xa.bind(null,l,yr,Qn),c);break}xa(l,yr,Qn);break;case 4:if(Mi(l,y),(y&4194240)===y)break;for(c=l.eventTimes,j=-1;0<y;){var C=31-an(y);k=1<<C,C=c[C],C>j&&(j=C),y&=~k}if(y=j,y=Nt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Z3(y/1960))-y,10<y){l.timeoutHandle=Am(xa.bind(null,l,yr,Qn),y);break}xa(l,yr,Qn);break;case 5:xa(l,yr,Qn);break;default:throw Error(r(329))}}}return vr(l,Nt()),l.callbackNode===h?F_.bind(null,l):null}function wp(l,c){var h=kl;return l.current.memoizedState.isDehydrated&&(va(l,c).flags|=256),l=nd(l,c),l!==2&&(c=yr,yr=h,c!==null&&jp(c)),l}function jp(l){yr===null?yr=l:yr.push.apply(yr,l)}function e$(l){for(var c=l;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var j=h[y],k=j.getSnapshot;j=j.value;try{if(!sn(k(),j))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Mi(l,c){for(c&=~yp,c&=~Ju,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var h=31-an(c),y=1<<h;l[h]=-1,c&=~y}}function U_(l){if((ze&6)!==0)throw Error(r(327));As();var c=du(l,0);if((c&1)===0)return vr(l,Nt()),null;var h=nd(l,c);if(l.tag!==0&&h===2){var y=em(l);y!==0&&(c=y,h=wp(l,y))}if(h===1)throw h=Sl,va(l,0),Mi(l,c),vr(l,Nt()),h;if(h===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,xa(l,yr,Qn),vr(l,Nt()),null}function _p(l,c){var h=ze;ze|=1;try{return l(c)}finally{ze=h,ze===0&&(ks=Nt()+500,Pu&&Ei())}}function ya(l){Ri!==null&&Ri.tag===0&&(ze&6)===0&&As();var c=ze;ze|=1;var h=Wr.transition,y=et;try{if(Wr.transition=null,et=1,l)return l()}finally{et=y,Wr.transition=h,ze=c,(ze&6)===0&&Ei()}}function Np(){Or=Ss.current,dt(Ss)}function va(l,c){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,P3(h)),At!==null)for(h=At.return;h!==null;){var y=h;switch(Im(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ou();break;case 3:js(),dt(mr),dt(tr),Km();break;case 5:Wm(y);break;case 4:js();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Bm(y.type._context);break;case 22:case 23:Np()}h=h.return}if(zt=l,At=l=Di(l.current,null),Yt=Or=c,Rt=0,Sl=null,yp=Ju=ga=0,yr=kl=null,ha!==null){for(c=0;c<ha.length;c++)if(h=ha[c],y=h.interleaved,y!==null){h.interleaved=null;var j=y.next,k=h.pending;if(k!==null){var C=k.next;k.next=j,y.next=C}h.pending=y}ha=null}return l}function z_(l,c){do{var h=At;try{if(Lm(),qu.current=Wu,Fu){for(var y=vt.memoizedState;y!==null;){var j=y.queue;j!==null&&(j.pending=null),y=y.next}Fu=!1}if(pa=0,Ut=It=vt=null,xl=!1,bl=0,gp.current=null,h===null||h.return===null){Rt=1,Sl=c,At=null;break}e:{var k=l,C=h.return,B=h,K=c;if(c=Yt,B.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var Z=K,se=B,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ye=m_(C);if(ye!==null){ye.flags&=-257,p_(ye,C,B,k,c),ye.mode&1&&h_(k,Z,c),c=ye,K=Z;var we=c.updateQueue;if(we===null){var je=new Set;je.add(K),c.updateQueue=je}else we.add(K);break e}else{if((c&1)===0){h_(k,Z,c),Sp();break e}K=Error(r(426))}}else if(mt&&B.mode&1){var St=m_(C);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),p_(St,C,B,k,c),Mm(_s(K,B));break e}}k=K=_s(K,B),Rt!==4&&(Rt=2),kl===null?kl=[k]:kl.push(k),k=C;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var J=d_(k,K,c);Lj(k,J);break e;case 1:B=K;var G=k.type,Q=k.stateNode;if((k.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ii===null||!Ii.has(Q)))){k.flags|=65536,c&=-c,k.lanes|=c;var ce=f_(k,B,c);Lj(k,ce);break e}}k=k.return}while(k!==null)}K_(h)}catch(Ne){c=Ne,At===h&&h!==null&&(At=h=h.return);continue}break}while(!0)}function W_(){var l=Yu.current;return Yu.current=Wu,l===null?Wu:l}function Sp(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),zt===null||(ga&268435455)===0&&(Ju&268435455)===0||Mi(zt,Yt)}function nd(l,c){var h=ze;ze|=2;var y=W_();(zt!==l||Yt!==c)&&(Qn=null,va(l,c));do try{t$();break}catch(j){z_(l,j)}while(!0);if(Lm(),ze=h,Yu.current=y,At!==null)throw Error(r(261));return zt=null,Yt=0,Rt}function t$(){for(;At!==null;)H_(At)}function r$(){for(;At!==null&&!A5();)H_(At)}function H_(l){var c=X_(l.alternate,l,Or);l.memoizedProps=l.pendingProps,c===null?K_(l):At=c,gp.current=null}function K_(l){var c=l;do{var h=c.alternate;if(l=c.return,(c.flags&32768)===0){if(h=G3(h,c,Or),h!==null){At=h;return}}else{if(h=X3(h,c),h!==null){h.flags&=32767,At=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Rt=6,At=null;return}}if(c=c.sibling,c!==null){At=c;return}At=c=l}while(c!==null);Rt===0&&(Rt=5)}function xa(l,c,h){var y=et,j=Wr.transition;try{Wr.transition=null,et=1,n$(l,c,h,y)}finally{Wr.transition=j,et=y}return null}function n$(l,c,h,y){do As();while(Ri!==null);if((ze&6)!==0)throw Error(r(327));h=l.finishedWork;var j=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var k=h.lanes|h.childLanes;if(D5(l,k),l===zt&&(At=zt=null,Yt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Zu||(Zu=!0,Y_(ou,function(){return As(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=Wr.transition,Wr.transition=null;var C=et;et=1;var B=ze;ze|=4,gp.current=null,J3(l,h),M_(h,l),_3(Sm),mu=!!Nm,Sm=Nm=null,l.current=h,Q3(h),O5(),ze=B,et=C,Wr.transition=k}else l.current=h;if(Zu&&(Zu=!1,Ri=l,ed=j),k=l.pendingLanes,k===0&&(Ii=null),T5(h.stateNode),vr(l,Nt()),c!==null)for(y=l.onRecoverableError,h=0;h<c.length;h++)j=c[h],y(j.value,{componentStack:j.stack,digest:j.digest});if(Qu)throw Qu=!1,l=xp,xp=null,l;return(ed&1)!==0&&l.tag!==0&&As(),k=l.pendingLanes,(k&1)!==0?l===bp?Al++:(Al=0,bp=l):Al=0,Ei(),null}function As(){if(Ri!==null){var l=R1(ed),c=Wr.transition,h=et;try{if(Wr.transition=null,et=16>l?16:l,Ri===null)var y=!1;else{if(l=Ri,Ri=null,ed=0,(ze&6)!==0)throw Error(r(331));var j=ze;for(ze|=4,ve=l.current;ve!==null;){var k=ve,C=k.child;if((ve.flags&16)!==0){var B=k.deletions;if(B!==null){for(var K=0;K<B.length;K++){var Z=B[K];for(ve=Z;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:Nl(8,se,k)}var oe=se.child;if(oe!==null)oe.return=se,ve=oe;else for(;ve!==null;){se=ve;var ie=se.sibling,ye=se.return;if(T_(se),se===Z){ve=null;break}if(ie!==null){ie.return=ye,ve=ie;break}ve=ye}}}var we=k.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var St=je.sibling;je.sibling=null,je=St}while(je!==null)}}ve=k}}if((k.subtreeFlags&2064)!==0&&C!==null)C.return=k,ve=C;else e:for(;ve!==null;){if(k=ve,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Nl(9,k,k.return)}var J=k.sibling;if(J!==null){J.return=k.return,ve=J;break e}ve=k.return}}var G=l.current;for(ve=G;ve!==null;){C=ve;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,ve=Q;else e:for(C=G;ve!==null;){if(B=ve,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Xu(9,B)}}catch(Ne){bt(B,B.return,Ne)}if(B===C){ve=null;break e}var ce=B.sibling;if(ce!==null){ce.return=B.return,ve=ce;break e}ve=B.return}}if(ze=j,Ei(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(lu,l)}catch{}y=!0}return y}finally{et=h,Wr.transition=c}}return!1}function V_(l,c,h){c=_s(h,c),c=d_(l,c,1),l=Ti(l,c,1),c=cr(),l!==null&&(Jo(l,1,c),vr(l,c))}function bt(l,c,h){if(l.tag===3)V_(l,l,h);else for(;c!==null;){if(c.tag===3){V_(c,l,h);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ii===null||!Ii.has(y))){l=_s(h,l),l=f_(c,l,1),c=Ti(c,l,1),l=cr(),c!==null&&(Jo(c,1,l),vr(c,l));break}}c=c.return}}function i$(l,c,h){var y=l.pingCache;y!==null&&y.delete(c),c=cr(),l.pingedLanes|=l.suspendedLanes&h,zt===l&&(Yt&h)===h&&(Rt===4||Rt===3&&(Yt&130023424)===Yt&&500>Nt()-vp?va(l,0):yp|=h),vr(l,c)}function G_(l,c){c===0&&((l.mode&1)===0?c=1:(c=uu,uu<<=1,(uu&130023424)===0&&(uu=4194304)));var h=cr();l=Xn(l,c),l!==null&&(Jo(l,c,h),vr(l,h))}function a$(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),G_(l,h)}function s$(l,c){var h=0;switch(l.tag){case 13:var y=l.stateNode,j=l.memoizedState;j!==null&&(h=j.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),G_(l,h)}var X_;X_=function(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps||mr.current)gr=!0;else{if((l.lanes&h)===0&&(c.flags&128)===0)return gr=!1,V3(l,c,h);gr=(l.flags&131072)!==0}else gr=!1,mt&&(c.flags&1048576)!==0&&Oj(c,Cu,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Vu(l,c),l=c.pendingProps;var j=ps(c,tr.current);ws(c,h),j=Xm(null,c,y,l,j,h);var k=Ym();return c.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,pr(y)?(k=!0,Eu(c)):k=!1,c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Um(c),j.updater=Hu,c.stateNode=j,j._reactInternals=c,rp(c,y,l,h),c=sp(null,c,y,!0,k,h)):(c.tag=0,mt&&k&&Cm(c),lr(null,c,j,h),c=c.child),c;case 16:y=c.elementType;e:{switch(Vu(l,c),l=c.pendingProps,j=y._init,y=j(y._payload),c.type=y,j=c.tag=l$(y),l=ln(y,l),j){case 0:c=ap(null,c,y,l,h);break e;case 1:c=w_(null,c,y,l,h);break e;case 11:c=g_(null,c,y,l,h);break e;case 14:c=y_(null,c,y,ln(y.type,l),h);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ln(y,j),ap(l,c,y,j,h);case 1:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ln(y,j),w_(l,c,y,j,h);case 3:e:{if(j_(c),l===null)throw Error(r(387));y=c.pendingProps,k=c.memoizedState,j=k.element,Dj(l,c),Lu(c,y,null,h);var C=c.memoizedState;if(y=C.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){j=_s(Error(r(423)),c),c=__(l,c,y,h,j);break e}else if(y!==j){j=_s(Error(r(424)),c),c=__(l,c,y,h,j);break e}else for(Ar=ki(c.stateNode.containerInfo.firstChild),kr=c,mt=!0,on=null,h=$j(c,null,y,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vs(),y===j){c=Jn(l,c,h);break e}lr(l,c,y,h)}c=c.child}return c;case 5:return qj(c),l===null&&$m(c),y=c.type,j=c.pendingProps,k=l!==null?l.memoizedProps:null,C=j.children,km(y,j)?C=null:k!==null&&km(y,k)&&(c.flags|=32),b_(l,c),lr(l,c,C,h),c.child;case 6:return l===null&&$m(c),null;case 13:return N_(l,c,h);case 4:return zm(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=xs(c,null,y,h):lr(l,c,y,h),c.child;case 11:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ln(y,j),g_(l,c,y,j,h);case 7:return lr(l,c,c.pendingProps,h),c.child;case 8:return lr(l,c,c.pendingProps.children,h),c.child;case 12:return lr(l,c,c.pendingProps.children,h),c.child;case 10:e:{if(y=c.type._context,j=c.pendingProps,k=c.memoizedProps,C=j.value,it($u,y._currentValue),y._currentValue=C,k!==null)if(sn(k.value,C)){if(k.children===j.children&&!mr.current){c=Jn(l,c,h);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var B=k.dependencies;if(B!==null){C=k.child;for(var K=B.firstContext;K!==null;){if(K.context===y){if(k.tag===1){K=Yn(-1,h&-h),K.tag=2;var Z=k.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?K.next=K:(K.next=se.next,se.next=K),Z.pending=K}}k.lanes|=h,K=k.alternate,K!==null&&(K.lanes|=h),qm(k.return,h,c),B.lanes|=h;break}K=K.next}}else if(k.tag===10)C=k.type===c.type?null:k.child;else if(k.tag===18){if(C=k.return,C===null)throw Error(r(341));C.lanes|=h,B=C.alternate,B!==null&&(B.lanes|=h),qm(C,h,c),C=k.sibling}else C=k.child;if(C!==null)C.return=k;else for(C=k;C!==null;){if(C===c){C=null;break}if(k=C.sibling,k!==null){k.return=C.return,C=k;break}C=C.return}k=C}lr(l,c,j.children,h),c=c.child}return c;case 9:return j=c.type,y=c.pendingProps.children,ws(c,h),j=Ur(j),y=y(j),c.flags|=1,lr(l,c,y,h),c.child;case 14:return y=c.type,j=ln(y,c.pendingProps),j=ln(y.type,j),y_(l,c,y,j,h);case 15:return v_(l,c,c.type,c.pendingProps,h);case 17:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ln(y,j),Vu(l,c),c.tag=1,pr(y)?(l=!0,Eu(c)):l=!1,ws(c,h),c_(c,y,j),rp(c,y,j,h),sp(null,c,y,!0,l,h);case 19:return k_(l,c,h);case 22:return x_(l,c,h)}throw Error(r(156,c.tag))};function Y_(l,c){return E1(l,c)}function o$(l,c,h,y){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(l,c,h,y){return new o$(l,c,h,y)}function kp(l){return l=l.prototype,!(!l||!l.isReactComponent)}function l$(l){if(typeof l=="function")return kp(l)?1:0;if(l!=null){if(l=l.$$typeof,l===z)return 11;if(l===q)return 14}return 2}function Di(l,c){var h=l.alternate;return h===null?(h=Hr(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function id(l,c,h,y,j,k){var C=2;if(y=l,typeof l=="function")kp(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case T:return ba(h.children,j,k,c);case R:C=8,j|=8;break;case $:return l=Hr(12,h,c,j|2),l.elementType=$,l.lanes=k,l;case U:return l=Hr(13,h,c,j),l.elementType=U,l.lanes=k,l;case D:return l=Hr(19,h,c,j),l.elementType=D,l.lanes=k,l;case ee:return ad(h,j,k,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:C=10;break e;case M:C=9;break e;case z:C=11;break e;case q:C=14;break e;case H:C=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=Hr(C,h,c,j),c.elementType=l,c.type=y,c.lanes=k,c}function ba(l,c,h,y){return l=Hr(7,l,y,c),l.lanes=h,l}function ad(l,c,h,y){return l=Hr(22,l,y,c),l.elementType=ee,l.lanes=h,l.stateNode={isHidden:!1},l}function Ap(l,c,h){return l=Hr(6,l,null,c),l.lanes=h,l}function Op(l,c,h){return c=Hr(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function c$(l,c,h,y,j){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=y,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Ep(l,c,h,y,j,k,C,B,K){return l=new c$(l,c,h,B,K),c===1?(c=1,k===!0&&(c|=8)):c=0,k=Hr(3,null,null,c),l.current=k,k.stateNode=l,k.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(k),l}function u$(l,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:l,containerInfo:c,implementation:h}}function J_(l){if(!l)return Oi;l=l._reactInternals;e:{if(la(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(pr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var h=l.type;if(pr(h))return Sj(l,h,c)}return c}function Q_(l,c,h,y,j,k,C,B,K){return l=Ep(h,y,!0,l,j,k,C,B,K),l.context=J_(null),h=l.current,y=cr(),j=$i(h),k=Yn(y,j),k.callback=c??null,Ti(h,k,j),l.current.lanes=j,Jo(l,j,y),vr(l,y),l}function sd(l,c,h,y){var j=c.current,k=cr(),C=$i(j);return h=J_(h),c.context===null?c.context=h:c.pendingContext=h,c=Yn(k,C),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ti(j,c,C),l!==null&&(dn(l,j,C,k),Du(l,j,C)),C}function od(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Z_(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Pp(l,c){Z_(l,c),(l=l.alternate)&&Z_(l,c)}function d$(){return null}var eN=typeof reportError=="function"?reportError:function(l){console.error(l)};function Tp(l){this._internalRoot=l}ld.prototype.render=Tp.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));sd(l,c,null,null)},ld.prototype.unmount=Tp.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;ya(function(){sd(null,l,null,null)}),c[Hn]=null}};function ld(l){this._internalRoot=l}ld.prototype.unstable_scheduleHydration=function(l){if(l){var c=D1();l={blockedOn:null,target:l,priority:c};for(var h=0;h<_i.length&&c!==0&&c<_i[h].priority;h++);_i.splice(h,0,l),h===0&&q1(l)}};function Cp(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function cd(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function tN(){}function f$(l,c,h,y,j){if(j){if(typeof y=="function"){var k=y;y=function(){var Z=od(C);k.call(Z)}}var C=Q_(c,y,l,0,null,!1,!1,"",tN);return l._reactRootContainer=C,l[Hn]=C.current,dl(l.nodeType===8?l.parentNode:l),ya(),C}for(;j=l.lastChild;)l.removeChild(j);if(typeof y=="function"){var B=y;y=function(){var Z=od(K);B.call(Z)}}var K=Ep(l,0,!1,null,null,!1,!1,"",tN);return l._reactRootContainer=K,l[Hn]=K.current,dl(l.nodeType===8?l.parentNode:l),ya(function(){sd(c,K,h,y)}),K}function ud(l,c,h,y,j){var k=h._reactRootContainer;if(k){var C=k;if(typeof j=="function"){var B=j;j=function(){var K=od(C);B.call(K)}}sd(c,C,l,j)}else C=f$(h,c,l,j,y);return od(C)}$1=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var h=Yo(c.pendingLanes);h!==0&&(rm(c,h|1),vr(c,Nt()),(ze&6)===0&&(ks=Nt()+500,Ei()))}break;case 13:ya(function(){var y=Xn(l,1);if(y!==null){var j=cr();dn(y,l,1,j)}}),Pp(l,1)}},nm=function(l){if(l.tag===13){var c=Xn(l,134217728);if(c!==null){var h=cr();dn(c,l,134217728,h)}Pp(l,134217728)}},M1=function(l){if(l.tag===13){var c=$i(l),h=Xn(l,c);if(h!==null){var y=cr();dn(h,l,c,y)}Pp(l,c)}},D1=function(){return et},L1=function(l,c){var h=et;try{return et=l,c()}finally{et=h}},Xh=function(l,c,h){switch(c){case"input":if(_t(l,h),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var y=h[c];if(y!==l&&y.form===l.form){var j=Au(y);if(!j)throw Error(r(90));ne(y),_t(y,j)}}}break;case"textarea":Ae(l,h);break;case"select":c=h.value,c!=null&&er(l,!!h.multiple,c,!1)}},j1=_p,_1=ya;var h$={usingClientEntryPoint:!1,Events:[ml,hs,Au,b1,w1,_p]},Ol={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m$={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=A1(l),l===null?null:l.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||d$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{lu=dd.inject(m$),kn=dd}catch{}}return xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h$,xr.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cp(c))throw Error(r(200));return u$(l,c,null,h)},xr.createRoot=function(l,c){if(!Cp(l))throw Error(r(299));var h=!1,y="",j=eN;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),c=Ep(l,1,!1,null,null,h,!1,y,j),l[Hn]=c.current,dl(l.nodeType===8?l.parentNode:l),new Tp(c)},xr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=A1(c),l=l===null?null:l.stateNode,l},xr.flushSync=function(l){return ya(l)},xr.hydrate=function(l,c,h){if(!cd(c))throw Error(r(200));return ud(null,l,c,!0,h)},xr.hydrateRoot=function(l,c,h){if(!Cp(l))throw Error(r(405));var y=h!=null&&h.hydratedSources||null,j=!1,k="",C=eN;if(h!=null&&(h.unstable_strictMode===!0&&(j=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(C=h.onRecoverableError)),c=Q_(c,null,l,1,h??null,j,!1,k,C),l[Hn]=c.current,dl(l),y)for(l=0;l<y.length;l++)h=y[l],j=h._getVersion,j=j(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,j]:c.mutableSourceEagerHydrationData.push(h,j);return new ld(c)},xr.render=function(l,c,h){if(!cd(c))throw Error(r(200));return ud(null,l,c,!1,h)},xr.unmountComponentAtNode=function(l){if(!cd(l))throw Error(r(40));return l._reactRootContainer?(ya(function(){ud(null,null,l,!1,function(){l._reactRootContainer=null,l[Hn]=null})}),!0):!1},xr.unstable_batchedUpdates=_p,xr.unstable_renderSubtreeIntoContainer=function(l,c,h,y){if(!cd(h))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return ud(l,c,h,!1,y)},xr.version="18.3.1-next-f1338f8080-20240426",xr}var cN;function mT(){if(cN)return $p.exports;cN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$p.exports=S$(),$p.exports}var uN;function k$(){if(uN)return hd;uN=1;var t=mT();return hd.createRoot=t.createRoot,hd.hydrateRoot=t.hydrateRoot,hd}var A$=k$();mT();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nc.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const dN="popstate";function O$(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:u}=n.location;return Qv("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vd(i)}return P$(e,r,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E$(){return Math.random().toString(36).substr(2,8)}function fN(t,e){return{usr:t.state,key:t.key,idx:e}}function Qv(t,e,r,n){return r===void 0&&(r=null),nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:r,key:e&&e.key||n||E$()})}function Vd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Po(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function P$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,u=Hi.Pop,d=null,f=p();f==null&&(f=0,o.replaceState(nc({},o.state,{idx:f}),""));function p(){return(o.state||{idx:null}).idx}function m(){u=Hi.Pop;let b=p(),S=b==null?null:b-f;f=b,d&&d({action:u,location:x.location,delta:S})}function g(b,S){u=Hi.Push;let N=Qv(x.location,b,S);f=p()+1;let _=fN(N,f),E=x.createHref(N);try{o.pushState(_,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(E)}a&&d&&d({action:u,location:x.location,delta:1})}function v(b,S){u=Hi.Replace;let N=Qv(x.location,b,S);f=p();let _=fN(N,f),E=x.createHref(N);o.replaceState(_,"",E),a&&d&&d({action:u,location:x.location,delta:0})}function w(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof b=="string"?b:Vd(b);return N=N.replace(/ $/,"%20"),Tt(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let x={get action(){return u},get location(){return t(i,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(dN,m),d=b,()=>{i.removeEventListener(dN,m),d=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let S=w(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(b){return o.go(b)}};return x}var hN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hN||(hN={}));function T$(t,e,r){return r===void 0&&(r="/"),C$(t,e,r)}function C$(t,e,r,n){let i=typeof e=="string"?Po(e):e,a=Xb(i.pathname||"/",r);if(a==null)return null;let o=gT(t);I$(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let f=H$(a);u=U$(o[d],f)}return u}function gT(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=Gi([n,d.relativePath]),p=r.concat(d);a.children&&a.children.length>0&&(Tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),gT(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:q$(f,a.index),routesMeta:p})};return t.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,o);else for(let d of yT(a.path))i(a,o,d)}),e}function yT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=yT(n.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function I$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:F$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const R$=/^:[\w-]+$/,$$=3,M$=2,D$=1,L$=10,B$=-2,mN=t=>t==="*";function q$(t,e){let r=t.split("/"),n=r.length;return r.some(mN)&&(n+=B$),e&&(n+=M$),r.filter(i=>!mN(i)).reduce((i,a)=>i+(R$.test(a)?$$:a===""?D$:L$),n)}function F$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function U$(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=z$({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Gi([a,m.pathname]),pathnameBase:X$(Gi([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Gi([a,m.pathnameBase]))}return o}function z$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=W$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:g,isOptional:v}=p;if(g==="*"){let x=u[m]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[m];return v&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function W$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function H$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function K$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Po(t):t;return{pathname:r?r.startsWith("/")?r:V$(r,e):e,search:Y$(n),hash:J$(i)}}function V$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vT(t,e){let r=G$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Po(t):(i=nc({},t),Tt(!i.pathname||!i.pathname.includes("?"),Lp("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Lp("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Lp("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}u=m>=0?e[m]:"/"}let d=K$(i,u),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),X$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bT=["post","put","patch","delete"];new Set(bT);const Z$=["get",...bT];new Set(Z$);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ic.apply(this,arguments)}const Yb=P.createContext(null),e6=P.createContext(null),Ya=P.createContext(null),rh=P.createContext(null),hi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),wT=P.createContext(null);function t6(t,e){let{relative:r}=e===void 0?{}:e;Hc()||Tt(!1);let{basename:n,navigator:i}=P.useContext(Ya),{hash:a,pathname:o,search:u}=_T(t,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:Gi([n,o])),i.createHref({pathname:d,search:u,hash:a})}function Hc(){return P.useContext(rh)!=null}function Kc(){return Hc()||Tt(!1),P.useContext(rh).location}function jT(t){P.useContext(Ya).static||P.useLayoutEffect(t)}function To(){let{isDataRoute:t}=P.useContext(hi);return t?y6():r6()}function r6(){Hc()||Tt(!1);let t=P.useContext(Yb),{basename:e,future:r,navigator:n}=P.useContext(Ya),{matches:i}=P.useContext(hi),{pathname:a}=Kc(),o=JSON.stringify(vT(i,r.v7_relativeSplatPath)),u=P.useRef(!1);return jT(()=>{u.current=!0}),P.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=xT(f,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Gi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,a,t])}const n6=P.createContext(null);function i6(t){let e=P.useContext(hi).outlet;return e&&P.createElement(n6.Provider,{value:t},e)}function a6(){let{matches:t}=P.useContext(hi),e=t[t.length-1];return e?e.params:{}}function _T(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(Ya),{matches:i}=P.useContext(hi),{pathname:a}=Kc(),o=JSON.stringify(vT(i,n.v7_relativeSplatPath));return P.useMemo(()=>xT(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function s6(t,e){return o6(t,e)}function o6(t,e,r,n){Hc()||Tt(!1);let{navigator:i}=P.useContext(Ya),{matches:a}=P.useContext(hi),o=a[a.length-1],u=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=Kc(),p;if(e){var m;let b=typeof e=="string"?Po(e):e;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Tt(!1),p=b}else p=f;let g=p.pathname||"/",v=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=T$(t,{pathname:v}),x=f6(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Gi([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Gi([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&x?P.createElement(rh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Hi.Pop}},x):x}function l6(){let t=g6(),e=Q$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const c6=P.createElement(l6,null);class u6 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(hi.Provider,{value:this.props.routeContext},P.createElement(wT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d6(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(Yb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(hi.Provider,{value:e},n)}function f6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let p=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Tt(!1),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:v}=r,w=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,m,g)=>{let v,w=!1,x=null,b=null;r&&(v=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||c6,d&&(f<0&&g===0?(v6("route-fallback"),w=!0,b=null):f===g&&(w=!0,b=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),N=()=>{let _;return v?_=x:w?_=b:m.route.Component?_=P.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,P.createElement(d6,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?P.createElement(u6,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var NT=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(NT||{}),ST=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ST||{});function h6(t){let e=P.useContext(Yb);return e||Tt(!1),e}function m6(t){let e=P.useContext(e6);return e||Tt(!1),e}function p6(t){let e=P.useContext(hi);return e||Tt(!1),e}function kT(t){let e=p6(),r=e.matches[e.matches.length-1];return r.route.id||Tt(!1),r.route.id}function g6(){var t;let e=P.useContext(wT),r=m6(),n=kT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function y6(){let{router:t}=h6(NT.UseNavigateStable),e=kT(ST.UseNavigateStable),r=P.useRef(!1);return jT(()=>{r.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ic({fromRouteId:e},a)))},[t,e])}const pN={};function v6(t,e,r){pN[t]||(pN[t]=!0)}const gN={};function x6(t,e){gN[e]||(gN[e]=!0,console.warn(e))}const yN=(t,e,r)=>x6(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function b6(t,e){t!=null&&t.v7_startTransition||yN("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),t!=null&&t.v7_relativeSplatPath||yN("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function w6(t){return i6(t.context)}function Ge(t){Tt(!1)}function j6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Hi.Pop,navigator:a,static:o=!1,future:u}=t;Hc()&&Tt(!1);let d=e.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:d,navigator:a,static:o,future:ic({v7_relativeSplatPath:!1},u)}),[d,u,a,o]);typeof n=="string"&&(n=Po(n));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:w="default"}=n,x=P.useMemo(()=>{let b=Xb(p,d);return b==null?null:{location:{pathname:b,search:m,hash:g,state:v,key:w},navigationType:i}},[d,p,m,g,v,w,i]);return x==null?null:P.createElement(Ya.Provider,{value:f},P.createElement(rh.Provider,{children:r,value:x}))}function _6(t){let{children:e,location:r}=t;return s6(Zv(e),r)}new Promise(()=>{});function Zv(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let a=[...e,i];if(n.type===P.Fragment){r.push.apply(r,Zv(n.props.children,a));return}n.type!==Ge&&Tt(!1),!n.props.index||!n.props.children||Tt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}function N6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function S6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k6(t,e){return t.button===0&&(!e||e==="_self")&&!S6(t)}const A6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O6="6";try{window.__reactRouterVersion=O6}catch{}const E6="startTransition",vN=j$[E6];function P6(t){let{basename:e,children:r,future:n,window:i}=t,a=P.useRef();a.current==null&&(a.current=O$({window:i,v5Compat:!0}));let o=a.current,[u,d]=P.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},p=P.useCallback(m=>{f&&vN?vN(()=>d(m)):d(m)},[d,f]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.useEffect(()=>b6(n),[n]),P.createElement(j6,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:o,future:n})}const T6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=e,g=N6(e,A6),{basename:v}=P.useContext(Ya),w,x=!1;if(typeof f=="string"&&C6.test(f)&&(w=f,T6))try{let _=new URL(window.location.href),E=f.startsWith("//")?new URL(_.protocol+f):new URL(f),A=Xb(E.pathname,v);E.origin===_.origin&&A!=null?f=A+E.search+E.hash:x=!0}catch{}let b=t6(f,{relative:i}),S=I6(f,{replace:o,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:m});function N(_){n&&n(_),_.defaultPrevented||S(_)}return P.createElement("a",ex({},g,{href:w||b,onClick:x||a?n:N,ref:r,target:d}))});var xN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xN||(xN={}));var bN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bN||(bN={}));function I6(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:u}=e===void 0?{}:e,d=To(),f=Kc(),p=_T(t,{relative:o});return P.useCallback(m=>{if(k6(m,r)){m.preventDefault();let g=n!==void 0?n:Vd(f)===Vd(p);d(t,{replace:g,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,p,n,i,r,t,a,o,u])}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),wN=t=>{const e=$6(t);return e.charAt(0).toUpperCase()+e.slice(1)},AT=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),M6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},d)=>P.createElement("svg",{ref:d,...D6,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:AT("lucide",i),...!a&&!M6(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,p])=>P.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(L6,{ref:a,iconNode:e,className:AT(`lucide-${R6(wN(t))}`,`lucide-${t}`,n),...i}));return r.displayName=wN(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],si=pe("activity",B6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Co=pe("arrow-left",q6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],U6=pe("arrow-right",F6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Jb=pe("award",z6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OT=pe("bell",W6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ri=pe("bot",H6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Fa=pe("brain",K6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ci=pe("calendar",V6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],X6=pe("camera",G6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zr=pe("chart-column",Y6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Q6=pe("chevron-left",J6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ET=pe("chevron-right",Z6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tx=pe("circle-alert",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jr=pe("circle-check-big",tM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ac=pe("circle-x",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jt=pe("clock",nM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aM=pe("compass",iM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PT=pe("download",sM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lM=pe("external-link",oM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rx=pe("eye-off",cM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ys=pe("eye",uM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],TT=pe("flame",dM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qb=pe("funnel",fM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],tn=pe("heart",hM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pM=pe("history",mM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yM=pe("house",gM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xM=pe("info",vM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wM=pe("key",bM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],In=pe("loader-circle",jM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nx=pe("lock",_M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jN=pe("log-out",NM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gd=pe("mail",SM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ue=pe("map-pin",kM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],OM=pe("medal",AM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],PM=pe("menu",EM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Js=pe("message-circle",TM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Qs=pe("message-square",CM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Zs=pe("navigation",IM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],CT=pe("pause",RM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],MM=pe("pen-line",$M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],en=pe("phone",DM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ua=pe("play",LM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_N=pe("plus",BM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NN=pe("refresh-cw",qM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UM=pe("rotate-ccw",FM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],sc=pe("route",zM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IT=pe("save",WM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nh=pe("search",HM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],RT=pe("send",KM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ih=pe("settings",VM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],XM=pe("share-2",GM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lt=pe("shield",YM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],$T=pe("sparkles",JM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZM=pe("square-pen",QM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tD=pe("square",eD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wr=pe("star",rD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iD=pe("tag",nD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Rn=pe("target",aD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],oD=pe("thermometer",sD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],ix=pe("thumbs-down",lD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ax=pe("thumbs-up",cD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dD=pe("trash-2",uD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wn=pe("trending-up",fD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],We=pe("triangle-alert",hD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Xi=pe("trophy",mD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eo=pe("user",pD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qt=pe("users",gD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vD=pe("volume-2",yD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],bD=pe("volume-x",xD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],SN=pe("wifi-off",wD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],_D=pe("wifi",jD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],SD=pe("wind",ND);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vc=pe("x",kD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$n=pe("zap",AD),OD=()=>{const t=Kc(),e=To(),[r,n]=P.useState(!1),i=[{name:"",href:"/",icon:yM},{name:"",href:"/run",icon:si},{name:"",href:"/stats",icon:Zr},{name:"",href:"/routes",icon:sc},{name:"",href:"/recommendations",icon:Fa},{name:"",href:"/safety",icon:lt},{name:"AI",href:"/ai",icon:ri},{name:"",href:"/challenges",icon:Xi},{name:"",href:"/profile",icon:eo}],a=async()=>{console.log("");try{console.log("signOut..."),console.log("signOut"),e("/login")}catch(o){console.error(":",o),e("/login")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900",children:""}),s.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?s.jsx(Vc,{className:"h-6 w-6"}):s.jsx(PM,{className:"h-6 w-6"})})]})}),r&&s.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>n(!1)}),s.jsx("div",{className:"fixed top-0 right-0 bottom-0 w-64 bg-white shadow-xl",children:s.jsxs("div",{className:"flex flex-col h-full pt-16",children:[s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:i.map(o=>{const u=t.pathname===o.href;return s.jsxs(Vt,{to:o.href,onClick:()=>n(!1),className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg ${u?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(o.icon,{className:`mr-3 h-5 w-5 flex-shrink-0 ${u?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),o.name]},o.name)})}),s.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:s.jsxs("button",{onClick:a,className:"group flex w-full items-center px-3 py-3 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900",children:[s.jsx(jN,{className:"mr-3 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500"}),""]})})]})})]}),s.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:s.jsx("div",{className:"flex min-h-0 flex-1 flex-col bg-white shadow-lg",children:s.jsxs("div",{className:"flex flex-1 flex-col overflow-y-auto pt-5 pb-4",children:[s.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""})}),s.jsx("nav",{className:"mt-8 flex-1 space-y-1 px-2",children:i.map(o=>{const u=t.pathname===o.href;return s.jsxs(Vt,{to:o.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(o.icon,{className:`mr-3 h-6 w-6 flex-shrink-0 ${u?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),o.name]},o.name)})}),s.jsx("div",{className:"flex-shrink-0 px-2",children:s.jsxs("button",{onClick:a,className:"group flex w-full items-center px-2 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900",children:[s.jsx(jN,{className:"mr-3 h-6 w-6 flex-shrink-0 text-gray-400 group-hover:text-gray-500"}),""]})})]})})}),s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:s.jsx("div",{className:"grid grid-cols-5 h-16",children:[i[0],i[1],i[2],i[6],i[8]].map(o=>{const u=t.pathname===o.href;return s.jsxs(Vt,{to:o.href,className:`flex flex-col items-center justify-center transition-colors ${u?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[s.jsx(o.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs mt-1 font-medium",children:o.name})]},o.name)})})}),s.jsx("div",{className:"lg:pl-64",children:s.jsx("main",{className:"pt-16 pb-16 lg:pt-0 lg:pb-0 min-h-screen",children:s.jsx(w6,{})})})]})},ED=({images:t,autoPlayInterval:e=5e3,height:r="350px",className:n=""})=>{const[i,a]=P.useState(0),[o,u]=P.useState(!0);P.useEffect(()=>{if(!o||t.length<=1)return;const v=setInterval(()=>{a(w=>(w+1)%t.length)},e);return()=>clearInterval(v)},[t.length,e,o]);const d=()=>{a(v=>v===0?t.length-1:v-1)},f=()=>{a(v=>(v+1)%t.length)},p=v=>{a(v)},m=()=>{u(!1)},g=()=>{u(!0)};return t.length===0?s.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${n}`,style:{height:r},children:s.jsx("p",{className:"text-gray-500",children:""})}):s.jsxs("div",{className:`relative overflow-hidden rounded-lg shadow-lg ${n}`,style:{height:r},onMouseEnter:m,onMouseLeave:g,children:[s.jsxs("div",{className:"relative w-full h-full",children:[t.map((v,w)=>s.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${w===i?"opacity-100":"opacity-0"}`,children:s.jsx("img",{src:v,alt:` ${w+1}`,className:"w-full h-full object-cover",loading:w===0?"eager":"lazy"})},w)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"})]}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:d,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 transition-all duration-200 hover:scale-110 shadow-lg backdrop-blur-sm","aria-label":"",children:s.jsx(Q6,{className:"h-5 w-5"})}),s.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 transition-all duration-200 hover:scale-110 shadow-lg backdrop-blur-sm","aria-label":"",children:s.jsx(ET,{className:"h-5 w-5"})})]}),t.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:t.map((v,w)=>s.jsx("button",{onClick:()=>p(w),className:`w-3 h-3 rounded-full transition-all duration-200 ${w===i?"bg-white scale-110 shadow-lg":"bg-white/60 hover:bg-white/80"}`,"aria-label":` ${w+1} `},w))}),t.length>1&&s.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:[i+1," / ",t.length]})]})},PD=()=>{const t=["https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Bund%20skyline%20at%20sunset%20with%20dramatic%20purple%20and%20orange%20clouds%2C%20Huangpu%20River%20reflecting%20city%20lights%2C%20modern%20skyscrapers%20and%20historic%20buildings%2C%20cinematic%20photography%2C%20ultra%20wide%20angle%2C%20vibrant%20colors%2C%20professional%20cityscape&image_size=landscape_16_9","https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Oriental%20Pearl%20Tower%20and%20Lujiazui%20financial%20district%20in%20winter%20morning%2C%20misty%20atmosphere%2C%20snow%20covered%20ground%2C%20modern%20architecture%2C%20soft%20natural%20lighting%2C%20peaceful%20urban%20landscape%2C%20minimalist%20composition&image_size=landscape_16_9","https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Century%20Park%20lake%20view%20with%20city%20skyline%20in%20background%2C%20summer%20afternoon%2C%20lush%20green%20trees%2C%20calm%20water%20reflection%2C%20rocks%20and%20stones%20along%20shoreline%2C%20natural%20landscape%20meets%20urban%20architecture%2C%20serene%20atmosphere&image_size=landscape_16_9"],e=[{label:"",value:"128.5",unit:"km",icon:Zr,color:"text-blue-500"},{label:"",value:"15",unit:"",icon:jt,color:"text-green-500"},{label:"",value:"3",unit:"",icon:Xi,color:"text-orange-500"},{label:"",value:"42",unit:"",icon:Qt,color:"text-purple-500"}],r=[{name:"",href:"/run",icon:si,color:"bg-gradient-to-br from-blue-500 to-blue-600"},{name:"",href:"/stats",icon:Zr,color:"bg-gradient-to-br from-green-500 to-green-600"},{name:"",href:"/routes",icon:sc,color:"bg-gradient-to-br from-purple-500 to-purple-600"},{name:"",href:"/challenges",icon:Xi,color:"bg-gradient-to-br from-orange-500 to-orange-600"}],n=[{date:"2024-01-15",distance:5.2,duration:"28:30",pace:"5:28",location:""},{date:"2024-01-13",distance:3.8,duration:"21:45",pace:"5:43",location:""},{date:"2024-01-11",distance:7.1,duration:"39:20",pace:"5:32",location:""}],i={target:5,completed:0,percentage:0};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"w-full",children:s.jsx(ED,{images:t,height:"350px",autoPlayInterval:5e3,className:"w-full"})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 rounded-xl p-6 lg:p-8 text-white mb-6 lg:mb-8 shadow-lg",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"mb-4 lg:mb-0",children:[s.jsx("h1",{className:"text-xl lg:text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-blue-100 text-sm lg:text-base",children:""})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-4 lg:p-6 min-w-0 lg:min-w-[200px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-blue-100",children:""}),s.jsx(Rn,{className:"h-4 w-4 text-blue-200"})]}),s.jsxs("div",{className:"text-lg lg:text-xl font-bold",children:[i.completed,"/",i.target," km"]}),s.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300",style:{width:`${i.percentage}%`}})})]})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-6 lg:mb-8",children:e.map((a,o)=>{const u=a.icon;return s.jsx("div",{className:"bg-white rounded-lg lg:rounded-xl p-4 lg:p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs lg:text-sm text-gray-600 mb-1 truncate",children:a.label}),s.jsxs("p",{className:"text-lg lg:text-2xl font-bold text-gray-900",children:[a.value,s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-1",children:a.unit})]})]}),s.jsx(u,{className:`h-6 w-6 lg:h-8 lg:w-8 ${a.color} flex-shrink-0 ml-2`})]})},o)})}),s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 px-1",children:""}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:r.map((a,o)=>{const u=a.icon;return s.jsxs(Vt,{to:a.href,className:`${a.color} rounded-lg lg:rounded-xl p-4 lg:p-6 text-white hover:scale-105 active:scale-95 transition-all duration-200 shadow-lg hover:shadow-xl`,children:[s.jsx(u,{className:"h-6 w-6 lg:h-8 lg:w-8 mb-2 lg:mb-3"}),s.jsx("p",{className:"font-medium text-sm lg:text-base",children:a.name})]},o)})})]}),s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-lg",children:[s.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),s.jsx(Vt,{to:"/stats",className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:""})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:n.map((a,o)=>s.jsx("div",{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4 min-w-0 flex-1",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 flex-shrink-0",children:s.jsx(ci,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:a.date}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Ue,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"truncate",children:a.location})]})]}),s.jsxs("p",{className:"text-xs lg:text-sm text-gray-500",children:[": ",a.distance," km"]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:a.duration}),s.jsxs("p",{className:"text-xs lg:text-sm text-gray-500",children:[": ",a.pace,"/km"]})]})]})},o))}),n.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(si,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:""}),s.jsxs(Vt,{to:"/run",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),""]})]})]})]})]})},TD=[{id:"fudan-jiangwan",name:"",description:"",lat:31.3346,lng:121.5019,category:"university"},{id:"fudan-handan",name:"",description:"",lat:31.2989,lng:121.5033,category:"university"},{id:"sjtu-minhang",name:"",description:"",lat:31.0249,lng:121.4338,category:"university"},{id:"tongji-siping",name:"",description:"",lat:31.2818,lng:121.5045,category:"university"},{id:"peoples-square",name:"",description:"",lat:31.2317,lng:121.4753,category:"landmark"},{id:"lujiazui",name:"",description:"",lat:31.2397,lng:121.4994,category:"landmark"},{id:"the-bund",name:"",description:"",lat:31.2396,lng:121.4906,category:"landmark"},{id:"century-park",name:"",description:"",lat:31.2198,lng:121.5531,category:"park"},{id:"zhongshan-park",name:"",description:"",lat:31.2225,lng:121.4194,category:"park"},{id:"fuxing-park",name:"",description:"",lat:31.2206,lng:121.4661,category:"park"},{id:"nanjing-road",name:"",description:"",lat:31.2342,lng:121.4753,category:"commercial"},{id:"xintiandi",name:"",description:"",lat:31.2196,lng:121.4753,category:"commercial"}],kN=t=>TD.filter(e=>e.category===t),CD=({isRunning:t,currentPosition:e,positions:r,distance:n,duration:i,pace:a,onMapReady:o,onError:u,onPositionCorrect:d,className:f="",height:p="400px",showReplay:m=!1,accuracy:g,gpsSignalQuality:v="unknown"})=>{var hr;const w=P.useRef(null),[x,b]=P.useState(null),[S,N]=P.useState(!1),[_,E]=P.useState(!0),[A,O]=P.useState(null),[T,R]=P.useState(!1),[$,I]=P.useState(0),[M,z]=P.useState(1),U=P.useRef(null),[D,q]=P.useState(!1),[H,ee]=P.useState(null),[X,Y]=P.useState(!1),W=P.useRef(null),L=P.useRef(null),V=P.useRef(null),ae=P.useRef(null),ge=P.useRef(null),fe=P.useRef([]),be=P.useCallback(()=>new Promise((he,Ae)=>{if(window.AMap){he();return}const Xe="b4bbc4d6ac83b3431412e4f99c4d7b26",gt=document.createElement("script");gt.src=`https://webapi.amap.com/maps?v=2.0&key=${Xe}&plugin=AMap.Scale,AMap.ToolBar`,gt.async=!0,gt.onload=()=>{console.log("API"),he()},gt.onerror=()=>{Ae(new Error("API"))},document.head.appendChild(gt)}),[]);P.useEffect(()=>((async()=>{try{if(E(!0),O(null),await be(),!w.current)throw new Error("");const Ae=new window.AMap.Map(w.current,{zoom:16,center:[121.4737,31.2304],mapStyle:"amap://styles/normal",showLabel:!0,showBuildingBlock:!0,viewMode:"2D",features:["bg","road","building","point"],resizeEnable:!0});Ae.addControl(new window.AMap.Scale),Ae.addControl(new window.AMap.ToolBar({visible:!1})),Ae.on("complete",()=>{console.log(""),N(!0),o==null||o()}),b(Ae)}catch(Ae){const Xe=Ae instanceof Error?Ae.message:"";O(Xe),u==null||u(Xe),console.error(":",Ae)}finally{E(!1)}})(),()=>{x&&(L.current&&x.remove(L.current),V.current&&x.remove(V.current),ae.current&&x.remove(ae.current),ge.current&&x.remove(ge.current),W.current&&x.remove(W.current),fe.current.forEach(Ae=>{Ae.marker&&x.remove(Ae.marker)}),x.destroy())}),[be]);const ue=P.useCallback(he=>{if(!x||!S)return;ae.current&&x.remove(ae.current);const Ae=new window.AMap.Marker({position:[he.lng,he.lat],icon:new window.AMap.Icon({image:"data:image/svg+xml;base64,"+btoa(`
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="9" fill="#60AB43" stroke="#fff" stroke-width="3"/>
            <circle cx="12" cy="12" r="3" fill="#fff"/>
          </svg>
        `),size:new window.AMap.Size(24,24),anchor:"center"}),title:"",zIndex:100});x.add(Ae),ae.current=Ae},[x,S]),de=P.useCallback(he=>{if(!x||!S)return;L.current&&x.remove(L.current),V.current&&x.remove(V.current);const Ae=g||he.accuracy;if(Ae&&Ae>0){const gt=new window.AMap.Circle({center:[he.lng,he.lat],radius:Ae,strokeColor:v==="excellent"?"#52c41a":v==="good"?"#1890ff":v==="fair"?"#faad14":v==="poor"?"#ff4d4f":"#d9d9d9",strokeWeight:2,strokeOpacity:.8,fillColor:v==="excellent"?"#52c41a":v==="good"?"#1890ff":v==="fair"?"#faad14":v==="poor"?"#ff4d4f":"#d9d9d9",fillOpacity:.1,zIndex:50});x.add(gt),V.current=gt}const Xe=new window.AMap.Marker({position:[he.lng,he.lat],icon:new window.AMap.Icon({image:"data:image/svg+xml;base64,"+btoa(`
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="9" fill="#1890ff" stroke="#fff" stroke-width="3"/>
            <circle cx="12" cy="12" r="3" fill="#fff"/>
            <circle cx="12" cy="12" r="12" fill="none" stroke="#1890ff" stroke-width="1" opacity="0.3">
              <animate attributeName="r" values="12;20;12" dur="2s" repeatCount="indefinite"/>
              <animate attributeName="opacity" values="0.3;0;0.3" dur="2s" repeatCount="indefinite"/>
            </circle>
          </svg>
        `),size:new window.AMap.Size(24,24),anchor:"center"}),title:` (: ${Ae?Math.round(Ae):"--"}m)`,zIndex:200});x.add(Xe),L.current=Xe},[x,S,g,v]),te=P.useCallback((he,Ae)=>{if(!x||!S)return;const Xe=new window.AMap.Marker({position:he,content:`
        <div class="running-distance">
          <span class="running-number">${Ae}</span>km
        </div>
      `,anchor:"bottom-right",zIndex:150});return x.add(Xe),Xe},[x,S]),me=P.useCallback(he=>he<4?"#00ff00":he<5?"#7fff00":he<6?"#ffff00":he<7?"#ff7f00":"#ff0000",[]),Se=P.useCallback(()=>{if(!x||!S||r.length<2)return;W.current&&x.remove(W.current);const he=r.map(Xe=>[Xe.lng,Xe.lat]),Ae=new window.AMap.Polyline({path:he,strokeColor:me(a),strokeWeight:6,strokeOpacity:.8,strokeStyle:"solid",lineJoin:"round",lineCap:"round",zIndex:50});x.add(Ae),W.current=Ae,he.length>1&&x.setFitView([Ae],!1,[20,20,20,20])},[x,S,r,a,me]),ne=P.useCallback(()=>{if(!x||!S||r.length<2)return;const he=Math.floor(n),Ae=fe.current.length;if(he>Ae&&he>0){const Xe=he*1e3;let gt=r[0],Wn=1/0;for(let vi=1;vi<r.length;vi++){const oa=Ve(r[0],r[vi]),xi=Math.abs(oa-Xe);xi<Wn&&(Wn=xi,gt=r[vi])}const Sn=te([gt.lng,gt.lat],he);Sn&&fe.current.push({position:[gt.lng,gt.lat],distance:he,marker:Sn})}},[x,S,r,n,te]),Ve=P.useCallback((he,Ae)=>{const gt=(Ae.lat-he.lat)*Math.PI/180,Wn=(Ae.lng-he.lng)*Math.PI/180,Sn=Math.sin(gt/2)*Math.sin(gt/2)+Math.cos(he.lat*Math.PI/180)*Math.cos(Ae.lat*Math.PI/180)*Math.sin(Wn/2)*Math.sin(Wn/2);return 6371e3*(2*Math.atan2(Math.sqrt(Sn),Math.sqrt(1-Sn)))},[]);P.useEffect(()=>{!e||!x||!S||(de(e),r.length===1&&(ue(e),x.setCenter([e.lng,e.lat])),t&&r.length>1&&(Se(),ne()))},[e,r,t,x,S,de,ue,Se,ne]);const Le=P.useCallback(()=>{if(r.length===0)return;R(!0),I(0),W.current&&(x.remove(W.current),W.current=null),fe.current.forEach(Ae=>{Ae.marker&&x.remove(Ae.marker)}),fe.current=[];const he=1e3/M;U.current=setInterval(()=>{I(Ae=>{const Xe=Ae+1;return Xe>=r.length?(R(!1),U.current&&(clearInterval(U.current),U.current=null),Ae):Xe})},he)},[r,x,M]),Ze=P.useCallback(()=>{U.current&&(clearInterval(U.current),U.current=null),R(!1)},[]),rt=P.useCallback(()=>{Ze(),I(0),r.length>0&&x&&Se()},[Ze,r,x,Se]);P.useEffect(()=>{if(T&&$>0&&x&&r.length>0){const he=r.slice(0,$+1);if(W.current&&x.remove(W.current),he.length>1){const Xe=he.map(gt=>[gt.lng,gt.lat]);W.current=new window.AMap.Polyline({path:Xe,strokeColor:"#1890ff",strokeWeight:4,strokeOpacity:.8,lineJoin:"round",lineCap:"round"}),x.add(W.current)}const Ae=r[$];L.current&&L.current.setPosition([Ae.lng,Ae.lat]),x.setCenter([Ae.lng,Ae.lat])}},[T,$,x,r]),P.useEffect(()=>()=>{U.current&&clearInterval(U.current)},[]),P.useEffect(()=>()=>{x&&(W.current&&x.remove(W.current),L.current&&x.remove(L.current),ae.current&&x.remove(ae.current),ge.current&&x.remove(ge.current),fe.current.forEach(({marker:he})=>{he&&x.remove(he)}),fe.current=[])},[x]);const _t=P.useCallback(async()=>{O(null),E(!0);try{if(await be(),!w.current)throw new Error("");const he=new window.AMap.Map(w.current,{zoom:16,center:[121.4737,31.2304],mapStyle:"amap://styles/normal",showLabel:!0,showBuildingBlock:!0,viewMode:"2D",features:["bg","road","building","point"],resizeEnable:!0});he.addControl(new window.AMap.Scale),he.addControl(new window.AMap.ToolBar({visible:!1})),he.on("complete",()=>{console.log(""),N(!0),o==null||o()}),b(he)}catch(he){const Ae=he instanceof Error?he.message:"";O(Ae),u==null||u(Ae),console.error(":",he)}finally{E(!1)}},[be,o,u]),Zt=P.useCallback(he=>{if(!X)return;const{lng:Ae,lat:Xe}=he.lnglat;console.log(":",{lat:Xe,lng:Ae}),d==null||d(Xe,Ae),Y(!1)},[X,d]);P.useEffect(()=>(x&&S&&(X?(x.on("click",Zt),x.getContainer().style.cursor="crosshair"):(x.off("click",Zt),x.getContainer().style.cursor="default")),()=>{x&&(x.off("click",Zt),x.getContainer().style.cursor="default")}),[x,S,X,Zt]);const Nr=P.useCallback(he=>{console.log(":",he),d==null||d(he.lat,he.lng),ee(he),q(!1)},[d]),Br=P.useCallback(he=>{switch(he){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"fair":return"text-yellow-600";case"poor":return"text-red-600";default:return"text-gray-600"}},[]),er=P.useCallback(he=>{switch(he){case"excellent":return"";case"good":return"";case"fair":return"";case"poor":return"";default:return""}},[]);return A?s.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded-lg ${f}`,style:{height:p},children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(Ue,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:""}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:A}),s.jsx("button",{onClick:_t,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:""})]})}):s.jsxs("div",{className:`relative ${f}`,children:[s.jsx("div",{ref:w,className:"w-full rounded-lg overflow-hidden",style:{height:p}}),_&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 backdrop-blur-sm rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),s.jsx("div",{className:"absolute inset-0 w-10 h-10 border-2 border-blue-200 rounded-full animate-pulse"})]}),s.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"..."}),s.jsx("p",{className:"text-sm text-gray-500",children:""})]})}),S&&s.jsx("div",{className:"absolute top-4 left-4 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:s.jsxs("div",{className:"space-y-2",children:[e&&s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(si,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("span",{className:"font-medium",children:[((hr=g||e.accuracy)==null?void 0:hr.toFixed(0))||"--","m"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${v==="excellent"?"bg-green-500":v==="good"?"bg-blue-500":v==="fair"?"bg-yellow-500":v==="poor"?"bg-red-500":"bg-gray-500"}`}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("span",{className:`font-medium ${Br(v)}`,children:er(v)})]}),e.speed&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zs,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("span",{className:"font-medium",children:[(e.speed*3.6).toFixed(1)," km/h"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>q(!D),className:"flex items-center space-x-1 px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",title:"",children:[s.jsx(Rn,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}),s.jsxs("button",{onClick:()=>Y(!X),className:`flex items-center space-x-1 px-2 py-1 text-xs rounded transition-colors ${X?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-600 text-white hover:bg-gray-700"}`,title:X?"":"",children:[s.jsx(ih,{className:"w-3 h-3"}),s.jsx("span",{children:X?"":""})]})]}),X&&s.jsx("div",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded",children:""})]})}),m&&r.length>0&&!t&&s.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:T?Ze:Le,className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:T?"":"",children:T?s.jsx(CT,{className:"h-4 w-4"}):s.jsx(Ua,{className:"h-4 w-4"})}),s.jsx("button",{onClick:rt,className:"flex items-center justify-center w-8 h-8 bg-gray-600 text-white rounded-full hover:bg-gray-700 transition-colors",title:"",children:s.jsx(UM,{className:"h-4 w-4"})}),s.jsx("div",{className:"text-xs text-gray-600 ml-2",children:T?`${$}/${r.length}`:""})]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:":"}),[.5,1,2,4].map(he=>s.jsxs("button",{onClick:()=>z(he),className:`px-2 py-1 text-xs rounded ${M===he?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[he,"x"]},he))]})]}),D&&s.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-95 backdrop-blur-sm rounded-lg p-4 shadow-lg max-w-xs",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-800",children:""}),s.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-600",children:""}),s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:[kN("university").map(he=>s.jsx("button",{onClick:()=>Nr(he),className:`w-full text-left px-2 py-1 text-xs rounded transition-colors ${(H==null?void 0:H.id)===he.id?"bg-blue-100 text-blue-800":"hover:bg-gray-100 text-gray-700"}`,children:he.name},he.id)),kN("landmark").slice(0,3).map(he=>s.jsx("button",{onClick:()=>Nr(he),className:`w-full text-left px-2 py-1 text-xs rounded transition-colors ${(H==null?void 0:H.id)===he.id?"bg-blue-100 text-blue-800":"hover:bg-gray-100 text-gray-700"}`,children:he.name},he.id))]})]}),H&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs",children:[s.jsx("p",{className:"font-medium text-blue-800",children:H.name}),s.jsxs("p",{className:"text-blue-600",children:[H.lat.toFixed(4),", ",H.lng.toFixed(4)]}),s.jsx("button",{onClick:()=>{d&&d(H.lat,H.lng),q(!1),ee(null)},className:"mt-1 w-full bg-blue-600 text-white py-1 rounded hover:bg-blue-700 transition-colors",children:""})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsx("p",{className:"text-xs text-gray-500",children:""})})]})}),r.length>1&&s.jsx("div",{className:"absolute bottom-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"font-medium",children:r.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"font-medium",children:[(n/1e3).toFixed(2)," km"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"font-medium",style:{color:me(a)},children:[a.toFixed(1)," min/km"]})]})]})}),s.jsx("style",{children:`
        .running-distance {
          background-color: #000;
          font-size: 12px;
          font-family: 'Arial', sans-serif;
          color: #fff;
          min-width: 50px;
          height: 24px;
          line-height: 24px;
          text-align: center;
          border-top-left-radius: 12px;
          border-bottom-left-radius: 12px;
          position: relative;
          white-space: nowrap;
          padding: 0 8px;
          font-weight: bold;
        }
        
        .running-distance:after {
          content: "";
          right: -12px;
          top: 0;
          position: absolute;
          height: 0;
          width: 0;
          border: 12px solid transparent;
          border-left-color: #000;
        }
        
        .running-distance .running-number {
          color: #83DD00;
          font-weight: bold;
        }
      `})]})},ID=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=6e4,maximumAge:n=0,trackingInterval:i=1e3,autoInitialize:a=!1}=t,[o,u]=P.useState(null),[d,f]=P.useState([]),[p,m]=P.useState(!1),[g,v]=P.useState(!1),[w,x]=P.useState(null),[b,S]=P.useState(null),[N,_]=P.useState(null),[E,A]=P.useState(0),O=P.useRef(null),T=P.useRef(null),R=P.useRef(null),$=P.useRef(!1),I=P.useRef(null);P.useEffect(()=>{$.current=p},[p]);const M=P.useCallback(()=>"geolocation"in navigator,[]),z=P.useCallback(async()=>{if("permissions"in navigator)try{const ue=await navigator.permissions.query({name:"geolocation"});return _(ue.state),console.log("GPS:",ue.state),ue.onchange=()=>{_(ue.state),console.log("GPS:",ue.state)},ue.state}catch(ue){return console.warn("GPS:",ue),"unknown"}return"unknown"},[]),U=P.useCallback(async()=>{if(!M()){x("GPS");return}try{if(await z()==="denied"){x("GPS");return}const de=await new Promise((te,me)=>{navigator.geolocation.getCurrentPosition(te,me,{enableHighAccuracy:!1,timeout:1e4,maximumAge:0})});console.log("GPS"),X(de)}catch(ue){console.error("GPS:",ue),Y(ue)}},[M,z]),D=P.useCallback((ue,de,te,me)=>{const ne=ue*Math.PI/180,Ve=te*Math.PI/180,Le=(te-ue)*Math.PI/180,Ze=(me-de)*Math.PI/180,rt=Math.sin(Le/2)*Math.sin(Le/2)+Math.cos(ne)*Math.cos(Ve)*Math.sin(Ze/2)*Math.sin(Ze/2);return 6371e3*(2*Math.atan2(Math.sqrt(rt),Math.sqrt(1-rt)))},[]),q=P.useCallback(()=>{if(d.length<2)return 0;let ue=0;for(let de=1;de<d.length;de++)ue+=D(d[de-1].lat,d[de-1].lng,d[de].lat,d[de].lng);return ue},[d,D]),H=P.useCallback(()=>{const ue=q(),de=ee();return de===0?0:ue/1e3/(de/3600)},[q]),ee=P.useCallback(()=>{if(d.length<2)return 0;const ue=d[0].timestamp;return(d[d.length-1].timestamp-ue)/1e3},[d]),X=P.useCallback(ue=>{console.log("GPS:",ue);const de={lat:ue.coords.latitude,lng:ue.coords.longitude,timestamp:ue.timestamp,accuracy:ue.coords.accuracy,speed:ue.coords.speed||void 0,heading:ue.coords.heading||void 0};u(de),S(ue.coords.accuracy),x(null),v(!0),A(0),$.current&&f(te=>{if(de.accuracy&&de.accuracy>30)return console.log("GPS:",de.accuracy),te;if(te.length===0)return[de];const me=te[te.length-1];return D(me.lat,me.lng,de.lat,de.lng)<5&&de.timestamp-me.timestamp<5e3?te:[...te,de]})},[D]),Y=P.useCallback(ue=>{console.error("GPS:",ue);let de="",te=!1;switch(ue.code){case ue.PERMISSION_DENIED:de="GPS",_("denied");break;case ue.POSITION_UNAVAILABLE:de="GPSGPS",te=!0;break;case ue.TIMEOUT:de="GPS...",te=!0;break;default:de="GPS",te=!0;break}x(de),v(!1),A(me=>me+1),te&&E<8&&(console.log(`GPS3000ms (${E+1})`),I.current=setTimeout(()=>{W()},3e3))},[E]),W=P.useCallback(()=>{console.log("GPS..."),I.current&&(clearTimeout(I.current),I.current=null),L()},[]),L=P.useCallback(async()=>{if(!M()){x("GPS"),v(!1);return}if(console.log("GPS..."),x(null),v(!1),await z()==="denied"){x("GPS");return}const de=async te=>{const me={enableHighAccuracy:te,timeout:te?r:15e3,maximumAge:n};return console.log(`GPS (: ${te})...`),new Promise((Se,ne)=>{navigator.geolocation.getCurrentPosition(Se,ne,me)})};try{let te;try{te=await de(e),console.log("GPS")}catch(Se){console.warn("GPS:",Se),te=await de(!1),console.log("GPS")}X(te);const me={enableHighAccuracy:!1,timeout:2e4,maximumAge:5e3};R.current=navigator.geolocation.watchPosition(X,Y,me)}catch(te){console.error("GPS:",te),Y(te)}},[M,e,r,n,X,Y,z]),V=P.useCallback(()=>{if(!M()){x("GPS");return}console.log("GPS..."),m(!0),x(null);const ue={enableHighAccuracy:!1,timeout:2e4,maximumAge:1e3};g||L(),O.current=navigator.geolocation.watchPosition(X,Y,ue),T.current=setInterval(()=>{navigator.geolocation.getCurrentPosition(X,Y,ue)},i)},[M,i,X,Y,g,L]),ae=P.useCallback(()=>{console.log("GPS..."),m(!1),O.current!==null&&(navigator.geolocation.clearWatch(O.current),O.current=null),T.current!==null&&(clearInterval(T.current),T.current=null)},[]),ge=P.useCallback(()=>{f([])},[]);P.useEffect(()=>(a&&(console.log("GPS..."),setTimeout(()=>{L()},1e3)),()=>{O.current!==null&&navigator.geolocation.clearWatch(O.current),T.current!==null&&clearInterval(T.current),R.current!==null&&navigator.geolocation.clearWatch(R.current),I.current!==null&&clearTimeout(I.current)}),[a,L]);const fe=P.useCallback((ue,de)=>{console.log(":",{lat:ue,lng:de});const te={lat:ue,lng:de,timestamp:Date.now(),accuracy:5,speed:0,heading:0};u(te),S(5),x(null),v(!0),$.current&&f(me=>[...me,te])},[]),be=P.useCallback(()=>b?b<=5?"excellent":b<=10?"good":b<=20?"fair":"poor":"unknown",[b]);return{currentPosition:o,positions:d,isTracking:p,isGPSReady:g,error:w,accuracy:b,permissionStatus:N,connectionAttempts:E,startTracking:V,stopTracking:ae,clearPositions:ge,getDistance:q,getAverageSpeed:H,getDuration:ee,initializeGPS:L,requestPermission:U,retryConnection:W,setManualPosition:fe,getGPSSignalQuality:be}},AN=t=>{let e;const r=new Set,n=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const g=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(v=>v(e,g))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=e=t(n,i,u);return u},RD=(t=>t?AN(t):AN),$D=t=>t;function MD(t,e=$D){const r=F.useSyncExternalStore(t.subscribe,F.useCallback(()=>e(t.getState()),[t,e]),F.useCallback(()=>e(t.getInitialState()),[t,e]));return F.useDebugValue(r),r}const ON=t=>{const e=RD(t),r=n=>MD(e,n);return Object.assign(r,e),r},Io=(t=>t?ON(t):ON),DD=Io(t=>({user:null,isAuthenticated:!1,isLoading:!1,setUser:e=>t({user:e}),setAuthenticated:e=>t({isAuthenticated:e}),setLoading:e=>t({isLoading:e}),logout:()=>t({user:null,isAuthenticated:!1})})),MT=Io(t=>({currentRun:null,isRunning:!1,isPaused:!1,runs:[],setCurrentRun:e=>t({currentRun:e}),setRunning:e=>t({isRunning:e}),setPaused:e=>t({isPaused:e}),addRun:e=>t(r=>({runs:[...r.runs,e]})),setRuns:e=>t({runs:e})}));Io(t=>({routes:[],selectedRoute:null,setRoutes:e=>t({routes:e}),setSelectedRoute:e=>t({selectedRoute:e}),addRoute:e=>t(r=>({routes:[...r.routes,e]}))}));Io(t=>({challenges:[],activeChallenges:[],setChallenges:e=>t({challenges:e}),setActiveChallenges:e=>t({activeChallenges:e}),addChallenge:e=>t(r=>({challenges:[...r.challenges,e]}))}));Io(t=>({isLoading:!1,error:null,setLoading:e=>t({isLoading:e}),setError:e=>t({error:e})}));const Kl=t=>t<1e3?`${Math.round(t)}m`:`${(t/1e3).toFixed(2)}km`,Xd=t=>{const e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%60);return e>0?`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},Yd=t=>{if(!t||t===1/0)return`--'--"`;const e=Math.floor(t),r=Math.floor((t-e)*60);return`${e}'${r.toString().padStart(2,"0")}"`},EN=(t,e,r)=>{if(e===0)return 0;const n=t/e*60;let i=8.3;return n>=16?i=14.5:n>=14?i=12.3:n>=12?i=11:n>=10?i=9.8:n>=8?i=8.3:i=6,i*r*(e/60)},PN=t=>t.toLocaleString("zh-CN"),LD=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[i,a]=P.useState(null),[o,u]=P.useState(0),[d,f]=P.useState(0),[p,m]=P.useState(null),{currentPosition:g,positions:v,isGPSReady:w,error:x,accuracy:b,permissionStatus:S,connectionAttempts:N,startTracking:_,stopTracking:E,clearPositions:A,getDistance:O,getAverageSpeed:T,initializeGPS:R,requestPermission:$,retryConnection:I,setManualPosition:M,getGPSSignalQuality:z}=ID({autoInitialize:!0}),{setCurrentRun:U,addRun:D}=MT();P.useEffect(()=>{let fe;return t&&!r&&i&&(fe=setInterval(()=>{u(Date.now()-i-d)},100)),()=>clearInterval(fe)},[t,r,i,d]);const q=()=>{if(!w)return;const fe=Date.now();a(fe),e(!0),n(!1),m(null),u(0),f(0),_(),U({id:Date.now().toString(),user_id:"default-user",startTime:fe,distance:0,duration:0,calories:0,route:[],route_data:{coordinates:[]},average_pace:0,created_at:new Date().toISOString(),status:"idle"})},H=()=>{if(r){const fe=Date.now();f(be=>be+(fe-(i||0)-o)),n(!1),_()}else n(!0),E()},ee=()=>{if(!i)return;const fe=new Date;m(fe),e(!1),n(!1),E();const be=O()/1e3,ue=o/1e3,de=be>0?ue/be/60:0,te=EN(be,ue,70),me={id:Date.now().toString(),user_id:"temp-user",route_data:{coordinates:v.map(Se=>[Se.lng,Se.lat])},distance:be,duration:ue,average_pace:de,calories:te,startTime:i,endTime:fe.getTime(),status:"completed",created_at:new Date().toISOString()};D(me),U(null)},X=()=>{e(!1),n(!1),a(null),u(0),f(0),m(null),A(),U(null)},Y=O()/1e3,W=o/1e3,L=Y>0?W/Y/60:0,V=t&&Y>0?EN(Y,W/60,70):0,ae=[{label:"",value:Xd(W),icon:jt,color:"text-blue-500",bgColor:"bg-blue-50"},{label:"",value:Kl(Y*1e3),icon:Ue,color:"text-green-500",bgColor:"bg-green-50"},{label:"",value:Yd(L),icon:si,color:"text-orange-500",bgColor:"bg-orange-50"},{label:"",value:Math.round(V).toString(),icon:$n,color:"text-red-500",bgColor:"bg-red-50"}],ge=()=>x?s.jsx("div",{className:"gps-status error bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"status-icon",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"status-title font-medium text-red-800",children:"GPS"}),s.jsx("div",{className:"status-detail text-sm text-red-600 mt-1",children:x}),N>0&&s.jsxs("div",{className:"status-attempts text-xs text-red-500 mt-1",children:[": ",N,"/5"]}),s.jsxs("div",{className:"status-actions mt-3 space-x-2",children:[S==="denied"?s.jsx("button",{className:"retry-btn permission-btn px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",onClick:()=>{alert('""')},children:""}):s.jsx("button",{className:"retry-btn px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",onClick:I,children:""}),s.jsx("button",{className:"retry-btn px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",onClick:$,children:""})]})]})]})}):w?s.jsx("div",{className:"gps-status ready bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"status-icon",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"status-title font-medium text-green-800",children:"GPS"}),s.jsxs("div",{className:"status-detail text-sm text-green-600 mt-1",children:[": ",b?`${Math.round(b)}`:""]})]})]})}):s.jsx("div",{className:"gps-status connecting bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"status-icon",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"status-title font-medium text-yellow-800",children:"GPS..."}),s.jsxs("div",{className:"status-detail text-sm text-yellow-600 mt-1",children:[S==="prompt"&&"",S==="granted"&&"",!S&&"GPS"]}),N>0&&s.jsxs("div",{className:"status-attempts text-xs text-yellow-500 mt-1",children:[": ",N]}),s.jsx("div",{className:"status-actions mt-3",children:s.jsx("button",{className:"retry-btn px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700",onClick:R,children:""})})]})]})});return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[s.jsx("div",{className:"header mb-6",children:s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:""})}),ge(),s.jsx("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm mb-4 lg:mb-6 overflow-hidden",children:s.jsx("div",{className:"h-48 sm:h-64 lg:h-96 flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("div",{className:"text-lg font-medium mb-2",children:""}),s.jsx("div",{className:"text-sm",children:""}),g&&s.jsxs("div",{className:"text-xs mt-2 text-gray-500",children:[": ",g.lat.toFixed(4),", ",g.lng.toFixed(4)]})]})})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-4 lg:mb-6",children:ae.map((fe,be)=>{const ue=fe.icon;return s.jsxs("div",{className:`${fe.bgColor} rounded-lg lg:rounded-xl p-4 lg:p-6 text-center border border-opacity-20`,children:[s.jsx(ue,{className:`h-6 w-6 lg:h-8 lg:w-8 ${fe.color} mx-auto mb-2 lg:mb-3`}),s.jsx("p",{className:"text-lg lg:text-2xl font-bold text-gray-900 mb-1",children:fe.value}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-600 font-medium",children:fe.label})]},be)})}),s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl p-4 lg:p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2 text-blue-600"}),""]}),s.jsx(CD,{isRunning:t,currentPosition:g,positions:v,distance:O(),duration:W,pace:L,height:"400px",className:"w-full",showReplay:!t&&v.length>0,accuracy:b,gpsSignalQuality:z(),onMapReady:()=>console.log(""),onError:fe=>console.error(":",fe),onPositionCorrect:(fe,be)=>{console.log(":",{lat:fe,lng:be}),M(fe,be)}})]}),s.jsx("div",{className:"bg-white rounded-lg lg:rounded-xl p-4 lg:p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[t?s.jsxs("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto space-y-3 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:H,className:`flex items-center justify-center px-6 py-3 rounded-lg transition-colors font-medium ${r?"bg-green-600 text-white hover:bg-green-700":"bg-yellow-600 text-white hover:bg-yellow-700"}`,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"h-5 w-5 mr-2"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(CT,{className:"h-5 w-5 mr-2"}),""]})}),s.jsxs("button",{onClick:ee,className:"flex items-center justify-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:[s.jsx(tD,{className:"h-5 w-5 mr-2"}),""]})]}):s.jsxs("button",{onClick:q,disabled:!w,className:"w-full sm:w-auto flex items-center justify-center px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:[s.jsx(Ua,{className:"h-5 w-5 mr-2"}),w?"":"GPS..."]}),(p||!t&&(Y>0||W>0))&&s.jsx("button",{onClick:X,className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:""})]})}),p&&s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Xd(W)}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Kl(Y*1e3)}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Yd(L)}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Math.round(V)}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})]}),t&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"ml-2 font-medium",children:[T().toFixed(1)," km/h"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsx("span",{className:"ml-2 font-medium",children:v.length})]}),g&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"ml-2 font-medium",children:[g.speed?(g.speed*3.6).toFixed(1):"0.0"," km/h"]})]})]})]})]})})};function DT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=DT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=DT(t))&&(n&&(n+=" "),n+=e);return n}var Bp,TN;function _r(){if(TN)return Bp;TN=1;var t=Array.isArray;return Bp=t,Bp}var qp,CN;function LT(){if(CN)return qp;CN=1;var t=typeof fd=="object"&&fd&&fd.Object===Object&&fd;return qp=t,qp}var Fp,IN;function Un(){if(IN)return Fp;IN=1;var t=LT(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Fp=r,Fp}var Up,RN;function Gc(){if(RN)return Up;RN=1;var t=Un(),e=t.Symbol;return Up=e,Up}var zp,$N;function BD(){if($N)return zp;$N=1;var t=Gc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(u?o[i]=d:delete o[i]),p}return zp=a,zp}var Wp,MN;function qD(){if(MN)return Wp;MN=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Wp=r,Wp}var Hp,DN;function mi(){if(DN)return Hp;DN=1;var t=Gc(),e=BD(),r=qD(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Hp=o,Hp}var Kp,LN;function pi(){if(LN)return Kp;LN=1;function t(e){return e!=null&&typeof e=="object"}return Kp=t,Kp}var Vp,BN;function Ro(){if(BN)return Vp;BN=1;var t=mi(),e=pi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Vp=n,Vp}var Gp,qN;function Zb(){if(qN)return Gp;qN=1;var t=_r(),e=Ro(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Gp=i,Gp}var Xp,FN;function ea(){if(FN)return Xp;FN=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Xp=t,Xp}var Yp,UN;function ew(){if(UN)return Yp;UN=1;var t=mi(),e=ea(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==a}return Yp=o,Yp}var Jp,zN;function FD(){if(zN)return Jp;zN=1;var t=Un(),e=t["__core-js_shared__"];return Jp=e,Jp}var Qp,WN;function UD(){if(WN)return Qp;WN=1;var t=FD(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Qp=r,Qp}var Zp,HN;function BT(){if(HN)return Zp;HN=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Zp=r,Zp}var eg,KN;function zD(){if(KN)return eg;KN=1;var t=ew(),e=UD(),r=ea(),n=BT(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var v=t(g)?p:a;return v.test(n(g))}return eg=m,eg}var tg,VN;function WD(){if(VN)return tg;VN=1;function t(e,r){return e==null?void 0:e[r]}return tg=t,tg}var rg,GN;function Ja(){if(GN)return rg;GN=1;var t=zD(),e=WD();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return rg=r,rg}var ng,XN;function ah(){if(XN)return ng;XN=1;var t=Ja(),e=t(Object,"create");return ng=e,ng}var ig,YN;function HD(){if(YN)return ig;YN=1;var t=ah();function e(){this.__data__=t?t(null):{},this.size=0}return ig=e,ig}var ag,JN;function KD(){if(JN)return ag;JN=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ag=t,ag}var sg,QN;function VD(){if(QN)return sg;QN=1;var t=ah(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return sg=i,sg}var og,ZN;function GD(){if(ZN)return og;ZN=1;var t=ah(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return og=n,og}var lg,eS;function XD(){if(eS)return lg;eS=1;var t=ah(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return lg=r,lg}var cg,tS;function YD(){if(tS)return cg;tS=1;var t=HD(),e=KD(),r=VD(),n=GD(),i=XD();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,cg=a,cg}var ug,rS;function JD(){if(rS)return ug;rS=1;function t(){this.__data__=[],this.size=0}return ug=t,ug}var dg,nS;function tw(){if(nS)return dg;nS=1;function t(e,r){return e===r||e!==e&&r!==r}return dg=t,dg}var fg,iS;function sh(){if(iS)return fg;iS=1;var t=tw();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return fg=e,fg}var hg,aS;function QD(){if(aS)return hg;aS=1;var t=sh(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return hg=n,hg}var mg,sS;function ZD(){if(sS)return mg;sS=1;var t=sh();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return mg=e,mg}var pg,oS;function eL(){if(oS)return pg;oS=1;var t=sh();function e(r){return t(this.__data__,r)>-1}return pg=e,pg}var gg,lS;function tL(){if(lS)return gg;lS=1;var t=sh();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return gg=e,gg}var yg,cS;function oh(){if(cS)return yg;cS=1;var t=JD(),e=QD(),r=ZD(),n=eL(),i=tL();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yg=a,yg}var vg,uS;function rw(){if(uS)return vg;uS=1;var t=Ja(),e=Un(),r=t(e,"Map");return vg=r,vg}var xg,dS;function rL(){if(dS)return xg;dS=1;var t=YD(),e=oh(),r=rw();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return xg=n,xg}var bg,fS;function nL(){if(fS)return bg;fS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return bg=t,bg}var wg,hS;function lh(){if(hS)return wg;hS=1;var t=nL();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return wg=e,wg}var jg,mS;function iL(){if(mS)return jg;mS=1;var t=lh();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return jg=e,jg}var _g,pS;function aL(){if(pS)return _g;pS=1;var t=lh();function e(r){return t(this,r).get(r)}return _g=e,_g}var Ng,gS;function sL(){if(gS)return Ng;gS=1;var t=lh();function e(r){return t(this,r).has(r)}return Ng=e,Ng}var Sg,yS;function oL(){if(yS)return Sg;yS=1;var t=lh();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Sg=e,Sg}var kg,vS;function nw(){if(vS)return kg;vS=1;var t=rL(),e=iL(),r=aL(),n=sL(),i=oL();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,kg=a,kg}var Ag,xS;function qT(){if(xS)return Ag;xS=1;var t=nw(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=a.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return a.cache=d.set(u,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,Ag=r,Ag}var Og,bS;function lL(){if(bS)return Og;bS=1;var t=qT(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Og=r,Og}var Eg,wS;function cL(){if(wS)return Eg;wS=1;var t=lL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,d,f){a.push(d?f.replace(r,"$1"):u||o)}),a});return Eg=n,Eg}var Pg,jS;function iw(){if(jS)return Pg;jS=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Pg=t,Pg}var Tg,_S;function uL(){if(_S)return Tg;_S=1;var t=Gc(),e=iw(),r=_r(),n=Ro(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Tg=o,Tg}var Cg,NS;function FT(){if(NS)return Cg;NS=1;var t=uL();function e(r){return r==null?"":t(r)}return Cg=e,Cg}var Ig,SS;function UT(){if(SS)return Ig;SS=1;var t=_r(),e=Zb(),r=cL(),n=FT();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return Ig=i,Ig}var Rg,kS;function ch(){if(kS)return Rg;kS=1;var t=Ro();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Rg=e,Rg}var $g,AS;function aw(){if(AS)return $g;AS=1;var t=UT(),e=ch();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return $g=r,$g}var Mg,OS;function zT(){if(OS)return Mg;OS=1;var t=aw();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Mg=e,Mg}var dL=zT();const Dr=Qe(dL);var Dg,ES;function fL(){if(ES)return Dg;ES=1;function t(e){return e==null}return Dg=t,Dg}var hL=fL();const $e=Qe(hL);var Lg,PS;function mL(){if(PS)return Lg;PS=1;var t=mi(),e=_r(),r=pi(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Lg=i,Lg}var pL=mL();const za=Qe(pL);var gL=ew();const Ie=Qe(gL);var yL=ea();const $o=Qe(yL);var Bg={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function vL(){if(TS)return Ye;TS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case t:switch(b=b.type,b){case r:case i:case n:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case d:case g:case m:case a:return b;default:return S}}case e:return S}}}return Ye.ContextConsumer=o,Ye.ContextProvider=a,Ye.Element=t,Ye.ForwardRef=d,Ye.Fragment=r,Ye.Lazy=g,Ye.Memo=m,Ye.Portal=e,Ye.Profiler=i,Ye.StrictMode=n,Ye.Suspense=f,Ye.SuspenseList=p,Ye.isAsyncMode=function(){return!1},Ye.isConcurrentMode=function(){return!1},Ye.isContextConsumer=function(b){return x(b)===o},Ye.isContextProvider=function(b){return x(b)===a},Ye.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Ye.isForwardRef=function(b){return x(b)===d},Ye.isFragment=function(b){return x(b)===r},Ye.isLazy=function(b){return x(b)===g},Ye.isMemo=function(b){return x(b)===m},Ye.isPortal=function(b){return x(b)===e},Ye.isProfiler=function(b){return x(b)===i},Ye.isStrictMode=function(b){return x(b)===n},Ye.isSuspense=function(b){return x(b)===f},Ye.isSuspenseList=function(b){return x(b)===p},Ye.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===p||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===m||b.$$typeof===a||b.$$typeof===o||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},Ye.typeOf=x,Ye}var CS;function xL(){return CS||(CS=1,Bg.exports=vL()),Bg.exports}var bL=xL(),qg,IS;function WT(){if(IS)return qg;IS=1;var t=mi(),e=pi(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return qg=n,qg}var Fg,RS;function wL(){if(RS)return Fg;RS=1;var t=WT();function e(r){return t(r)&&r!=+r}return Fg=e,Fg}var jL=wL();const Mo=Qe(jL);var _L=WT();const NL=Qe(_L);var ur=function(e){return e===0?0:e>0?1:-1},Ca=function(e){return za(e)&&e.indexOf("%")===e.length-1},le=function(e){return NL(e)&&!Mo(e)},SL=function(e){return $e(e)},Bt=function(e){return le(e)||za(e)},kL=0,Qa=function(e){var r=++kL;return"".concat(e||"").concat(r)},dr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!za(e))return n;var a;if(Ca(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Mo(a)&&(a=n),i&&a>r&&(a=r),a},zi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},AL=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Lt=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Jd(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Dr(n,e))===r})}var OL=function(e,r){return le(e)&&le(r)?e-r:za(e)&&za(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}var EL=["viewBox","children"],PL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$S=["points","pathLength"],Ug={svg:EL,polygon:$S,polyline:$S},sw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!$o(n))return null;var i={};return Object.keys(n).forEach(function(a){sw.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},TL=function(e,r,n){return function(i){return e(r,n,i),null}},Wa=function(e,r,n){if(!$o(e)||sx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];sw.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=TL(o,r,n))}),i},CL=["children"],IL=["children"];function MS(t,e){if(t==null)return{};var r=RL(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}var DS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LS=null,zg=null,ow=function t(e){if(e===LS&&Array.isArray(zg))return zg;var r=[];return P.Children.forEach(e,function(n){$e(n)||(bL.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),zg=r,LS=e,r};function Lr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return oi(i)}):n=[oi(e)],ow(t).forEach(function(i){var a=Dr(i,"type.displayName")||Dr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Cr(t,e){var r=Lr(t,e);return r&&r[0]}var BS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},$L=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ML=function(e){return e&&e.type&&za(e.type)&&$L.indexOf(e.type)>=0},HT=function(e){return e&&ox(e)==="object"&&"clipDot"in e},DL=function(e,r,n,i){var a,o=(a=Ug==null?void 0:Ug[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ie(e)&&(i&&o.includes(r)||PL.includes(r))||n&&sw.includes(r)},ke=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!$o(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;DL((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(a[o]=i[o])}),a},lx=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return qS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!qS(a,o))return!1}return!0},qS=function(e,r){if($e(e)&&$e(r))return!0;if(!$e(e)&&!$e(r)){var n=e.props||{},i=n.children,a=MS(n,CL),o=r.props||{},u=o.children,d=MS(o,IL);return i&&u?Hs(a,d)&&lx(i,u):!i&&!u?Hs(a,d):!1}return!1},FS=function(e,r){var n=[],i={};return ow(e).forEach(function(a,o){if(ML(a))n.push(a);else if(a){var u=oi(a.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var m=f(a,u,o);n.push(m),i[u]=!0}}}),n},LL=function(e){var r=e&&e.type;return r&&DS[r]?DS[r]:null},BL=function(e,r){return ow(r).indexOf(e)},qL=["children","width","height","viewBox","className","style","title","desc"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}function FL(t,e){if(t==null)return{};var r=UL(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ux(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,d=t.desc,f=FL(t,qL),p=i||{width:r,height:n,x:0,y:0},m=De("recharts-surface",a);return F.createElement("svg",cx({},ke(f,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),F.createElement("title",null,u),F.createElement("desc",null,d),e)}var zL=["children","className"];function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dx.apply(this,arguments)}function WL(t,e){if(t==null)return{};var r=HL(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HL(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qe=F.forwardRef(function(t,e){var r=t.children,n=t.className,i=WL(t,zL),a=De("recharts-layer",n);return F.createElement("g",dx({className:a},ke(i,!0),{ref:e}),r)}),bn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Wg,US;function KL(){if(US)return Wg;US=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return Wg=t,Wg}var Hg,zS;function VL(){if(zS)return Hg;zS=1;var t=KL();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Hg=e,Hg}var Kg,WS;function KT(){if(WS)return Kg;WS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function d(f){return u.test(f)}return Kg=d,Kg}var Vg,HS;function GL(){if(HS)return Vg;HS=1;function t(e){return e.split("")}return Vg=t,Vg}var Gg,KS;function XL(){if(KS)return Gg;KS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=f+"?",x="["+a+"]?",b="(?:"+v+"(?:"+[p,m,g].join("|")+")"+x+w+")*",S=x+w+b,N="(?:"+[p+u+"?",u,m,g,o].join("|")+")",_=RegExp(d+"(?="+d+")|"+N+S,"g");function E(A){return A.match(_)||[]}return Gg=E,Gg}var Xg,VS;function YL(){if(VS)return Xg;VS=1;var t=GL(),e=KT(),r=XL();function n(i){return e(i)?r(i):t(i)}return Xg=n,Xg}var Yg,GS;function JL(){if(GS)return Yg;GS=1;var t=VL(),e=KT(),r=YL(),n=FT();function i(a){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[a]()+f}}return Yg=i,Yg}var Jg,XS;function QL(){if(XS)return Jg;XS=1;var t=JL(),e=t("toUpperCase");return Jg=e,Jg}var ZL=QL();const uh=Qe(ZL);function ot(t){return function(){return t}}const VT=Math.cos,Zd=Math.sin,_n=Math.sqrt,ef=Math.PI,dh=2*ef,fx=Math.PI,hx=2*fx,ka=1e-6,e8=hx-ka;function GT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function t8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return GT;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class r8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?GT:t8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,p=o-e,m=u-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>ka)if(!(Math.abs(m*d-f*p)>ka)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,w=i-u,x=d*d+f*f,b=v*v+w*w,S=Math.sqrt(x),N=Math.sqrt(g),_=a*Math.tan((fx-Math.acos((x+g-b)/(2*S*N)))/2),E=_/N,A=_/S;Math.abs(E-1)>ka&&this._append`L${e+E*p},${r+E*m}`,this._append`A${a},${a},0,0,${+(m*v>p*w)},${this._x1=e+A*d},${this._y1=r+A*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,p=r+d,m=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ka||Math.abs(this._y1-p)>ka)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%hx+hx),g>e8?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:g>ka&&this._append`A${n},${n},0,${+(g>=fx)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lw(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new r8(e)}function cw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XT(t){this._context=t}XT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fh(t){return new XT(t)}function YT(t){return t[0]}function JT(t){return t[1]}function QT(t,e){var r=ot(!0),n=null,i=fh,a=null,o=lw(u);t=typeof t=="function"?t:t===void 0?YT:ot(t),e=typeof e=="function"?e:e===void 0?JT:ot(e);function u(d){var f,p=(d=cw(d)).length,m,g=!1,v;for(n==null&&(a=i(v=o())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(m,f,d),+e(m,f,d));if(v)return a=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:ot(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function md(t,e,r){var n=null,i=ot(!0),a=null,o=fh,u=null,d=lw(f);t=typeof t=="function"?t:t===void 0?YT:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?JT:ot(+r);function f(m){var g,v,w,x=(m=cw(m)).length,b,S=!1,N,_=new Array(x),E=new Array(x);for(a==null&&(u=o(N=d())),g=0;g<=x;++g){if(!(g<x&&i(b=m[g],g,m))===S)if(S=!S)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=v;--w)u.point(_[w],E[w]);u.lineEnd(),u.areaEnd()}S&&(_[g]=+t(b,g,m),E[g]=+e(b,g,m),u.point(n?+n(b,g,m):_[g],r?+r(b,g,m):E[g]))}if(N)return u=null,N+""||null}function p(){return QT().defined(i).curve(o).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ot(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ot(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ot(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),f):o},f.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),f):a},f}class ZT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function n8(t){return new ZT(t,!0)}function i8(t){return new ZT(t,!1)}const uw={draw(t,e){const r=_n(e/ef);t.moveTo(r,0),t.arc(0,0,r,0,dh)}},a8={draw(t,e){const r=_n(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},eC=_n(1/3),s8=eC*2,o8={draw(t,e){const r=_n(e/s8),n=r*eC;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},l8={draw(t,e){const r=_n(e),n=-r/2;t.rect(n,n,r,r)}},c8=.8908130915292852,tC=Zd(ef/10)/Zd(7*ef/10),u8=Zd(dh/10)*tC,d8=-VT(dh/10)*tC,f8={draw(t,e){const r=_n(e*c8),n=u8*r,i=d8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=dh*a/5,u=VT(o),d=Zd(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},Qg=_n(3),h8={draw(t,e){const r=-_n(e/(Qg*3));t.moveTo(0,r*2),t.lineTo(-Qg*r,-r),t.lineTo(Qg*r,-r),t.closePath()}},Kr=-.5,Vr=_n(3)/2,mx=1/_n(12),m8=(mx/2+1)*3,p8={draw(t,e){const r=_n(e/m8),n=r/2,i=r*mx,a=n,o=r*mx+r,u=-a,d=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(u,d),t.lineTo(Kr*n-Vr*i,Vr*n+Kr*i),t.lineTo(Kr*a-Vr*o,Vr*a+Kr*o),t.lineTo(Kr*u-Vr*d,Vr*u+Kr*d),t.lineTo(Kr*n+Vr*i,Kr*i-Vr*n),t.lineTo(Kr*a+Vr*o,Kr*o-Vr*a),t.lineTo(Kr*u+Vr*d,Kr*d-Vr*u),t.closePath()}};function g8(t,e){let r=null,n=lw(i);t=typeof t=="function"?t:ot(t||uw),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function tf(){}function rf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function rC(t){this._context=t}rC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y8(t){return new rC(t)}function nC(t){this._context=t}nC.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v8(t){return new nC(t)}function iC(t){this._context=t}iC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function x8(t){return new iC(t)}function aC(t){this._context=t}aC.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b8(t){return new aC(t)}function YS(t){return t<0?-1:1}function JS(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(YS(a)+YS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function QS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Zg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,o-u*r,a,o)}function nf(t){this._context=t}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zg(this,this._t0,QS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zg(this,QS(this,r=JS(this,t,e)),r);break;default:Zg(this,this._t0,r=JS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function sC(t){this._context=new oC(t)}(sC.prototype=Object.create(nf.prototype)).point=function(t,e){nf.prototype.point.call(this,e,t)};function oC(t){this._context=t}oC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function w8(t){return new nf(t)}function j8(t){return new sC(t)}function lC(t){this._context=t}lC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ZS(t),i=ZS(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZS(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function _8(t){return new lC(t)}function hh(t,e){this._context=t,this._t=e}hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function N8(t){return new hh(t,.5)}function S8(t){return new hh(t,0)}function k8(t){return new hh(t,1)}function to(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,u=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function px(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function A8(t,e){return t[e]}function O8(t){const e=[];return e.key=t,e}function E8(){var t=ot([]),e=px,r=to,n=A8;function i(a){var o=Array.from(t.apply(this,arguments),O8),u,d=o.length,f=-1,p;for(const m of a)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(m,o[u].key,f,a)]).data=m;for(u=0,p=cw(e(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?px:typeof a=="function"?a:ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??to,i):r},i}function P8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}to(t,e)}}function T8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}to(t,e)}}function C8(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],m=p[n][1]||0,g=p[n-1][1]||0,v=(m-g)/2,w=0;w<u;++w){var x=t[e[w]],b=x[n][1]||0,S=x[n-1][1]||0;v+=b-S}d+=m,f+=v*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,to(t,e)}}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}var I8=["type","size","sizeType"];function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){R8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R8(t,e,r){return e=$8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $8(t){var e=M8(t,"string");return oc(e)=="symbol"?e:e+""}function M8(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D8(t,e){if(t==null)return{};var r=L8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cC={symbolCircle:uw,symbolCross:a8,symbolDiamond:o8,symbolSquare:l8,symbolStar:f8,symbolTriangle:h8,symbolWye:p8},B8=Math.PI/180,q8=function(e){var r="symbol".concat(uh(e));return cC[r]||uw},F8=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*B8;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},U8=function(e,r){cC["symbol".concat(uh(e))]=r},dw=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=D8(e,I8),f=t2(t2({},d),{},{type:n,size:a,sizeType:u}),p=function(){var b=q8(n),S=g8().type(b).size(F8(a,u,n));return S()},m=f.className,g=f.cx,v=f.cy,w=ke(f,!0);return g===+g&&v===+v&&a===+a?F.createElement("path",gx({},w,{className:De("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};dw.registerSymbol=U8;function ro(t){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){lc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dC(n.key),n)}}function K8(t,e,r){return e&&H8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V8(t,e,r){return e=af(e),G8(t,uC()?Reflect.construct(e,r||[],af(t).constructor):e.apply(t,r))}function G8(t,e){if(e&&(ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8(t)}function X8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(t)}function Y8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(t,e)}function lc(t,e,r){return e=dC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dC(t){var e=J8(t,"string");return ro(e)=="symbol"?e:e+""}function J8(t,e){if(ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gr=32,fw=(function(t){function e(){return W8(this,e),V8(this,e,arguments)}return Y8(e,t),K8(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Gr/2,o=Gr/6,u=Gr/3,d=n.inactive?i:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Gr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Gr,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Gr/8,"h").concat(Gr,"v").concat(Gr*3/4,"h").concat(-Gr,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var f=z8({},n);return delete f.legendIcon,F.cloneElement(n.legendIcon,f)}return F.createElement(dw,{fill:d,cx:a,cy:a,size:Gr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Gr,height:Gr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,w){var x=v.formatter||d,b=De(lc(lc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Ie(v.value)?null:v.value;bn(!Ie(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?f:v.color;return F.createElement("li",yx({className:b,style:m,key:"legend-item-".concat(w)},Wa(n.props,v,w)),F.createElement(ux,{width:o,height:o,viewBox:p,style:g},n.renderIcon(v)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},x?x(S,v,w):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(P.PureComponent);lc(fw,"displayName","Legend");lc(fw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ey,n2;function Q8(){if(n2)return ey;n2=1;var t=oh();function e(){this.__data__=new t,this.size=0}return ey=e,ey}var ty,i2;function Z8(){if(i2)return ty;i2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ty=t,ty}var ry,a2;function eB(){if(a2)return ry;a2=1;function t(e){return this.__data__.get(e)}return ry=t,ry}var ny,s2;function tB(){if(s2)return ny;s2=1;function t(e){return this.__data__.has(e)}return ny=t,ny}var iy,o2;function rB(){if(o2)return iy;o2=1;var t=oh(),e=rw(),r=nw(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(a,o),this.size=u.size,this}return iy=i,iy}var ay,l2;function fC(){if(l2)return ay;l2=1;var t=oh(),e=Q8(),r=Z8(),n=eB(),i=tB(),a=rB();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,ay=o,ay}var sy,c2;function nB(){if(c2)return sy;c2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sy=e,sy}var oy,u2;function iB(){if(u2)return oy;u2=1;function t(e){return this.__data__.has(e)}return oy=t,oy}var ly,d2;function hC(){if(d2)return ly;d2=1;var t=nw(),e=nB(),r=iB();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ly=n,ly}var cy,f2;function mC(){if(f2)return cy;f2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return cy=t,cy}var uy,h2;function pC(){if(h2)return uy;h2=1;function t(e,r){return e.has(r)}return uy=t,uy}var dy,m2;function gC(){if(m2)return dy;m2=1;var t=hC(),e=mC(),r=pC(),n=1,i=2;function a(o,u,d,f,p,m){var g=d&n,v=o.length,w=u.length;if(v!=w&&!(g&&w>v))return!1;var x=m.get(o),b=m.get(u);if(x&&b)return x==u&&b==o;var S=-1,N=!0,_=d&i?new t:void 0;for(m.set(o,u),m.set(u,o);++S<v;){var E=o[S],A=u[S];if(f)var O=g?f(A,E,S,u,o,m):f(E,A,S,o,u,m);if(O!==void 0){if(O)continue;N=!1;break}if(_){if(!e(u,function(T,R){if(!r(_,R)&&(E===T||p(E,T,d,f,m)))return _.push(R)})){N=!1;break}}else if(!(E===A||p(E,A,d,f,m))){N=!1;break}}return m.delete(o),m.delete(u),N}return dy=a,dy}var fy,p2;function aB(){if(p2)return fy;p2=1;var t=Un(),e=t.Uint8Array;return fy=e,fy}var hy,g2;function sB(){if(g2)return hy;g2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return hy=t,hy}var my,y2;function hw(){if(y2)return my;y2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return my=t,my}var py,v2;function oB(){if(v2)return py;v2=1;var t=Gc(),e=aB(),r=tw(),n=gC(),i=sB(),a=hw(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",x="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",_=t?t.prototype:void 0,E=_?_.valueOf:void 0;function A(O,T,R,$,I,M,z){switch(R){case N:if(O.byteLength!=T.byteLength||O.byteOffset!=T.byteOffset)return!1;O=O.buffer,T=T.buffer;case S:return!(O.byteLength!=T.byteLength||!M(new e(O),new e(T)));case d:case f:case g:return r(+O,+T);case p:return O.name==T.name&&O.message==T.message;case v:case x:return O==T+"";case m:var U=i;case w:var D=$&o;if(U||(U=a),O.size!=T.size&&!D)return!1;var q=z.get(O);if(q)return q==T;$|=u,z.set(O,T);var H=n(U(O),U(T),$,I,M,z);return z.delete(O),H;case b:if(E)return E.call(O)==E.call(T)}return!1}return py=A,py}var gy,x2;function yC(){if(x2)return gy;x2=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return gy=t,gy}var yy,b2;function lB(){if(b2)return yy;b2=1;var t=yC(),e=_r();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return yy=r,yy}var vy,w2;function cB(){if(w2)return vy;w2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return vy=t,vy}var xy,j2;function uB(){if(j2)return xy;j2=1;function t(){return[]}return xy=t,xy}var by,_2;function dB(){if(_2)return by;_2=1;var t=cB(),e=uB(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return by=a,by}var wy,N2;function fB(){if(N2)return wy;N2=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return wy=t,wy}var jy,S2;function hB(){if(S2)return jy;S2=1;var t=mi(),e=pi(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return jy=n,jy}var _y,k2;function mw(){if(k2)return _y;k2=1;var t=hB(),e=pi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return _y=a,_y}var Fl={exports:{}},Ny,A2;function mB(){if(A2)return Ny;A2=1;function t(){return!1}return Ny=t,Ny}Fl.exports;var O2;function vC(){return O2||(O2=1,(function(t,e){var r=Un(),n=mB(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f})(Fl,Fl.exports)),Fl.exports}var Sy,E2;function pw(){if(E2)return Sy;E2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Sy=r,Sy}var ky,P2;function gw(){if(P2)return ky;P2=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ky=e,ky}var Ay,T2;function pB(){if(T2)return Ay;T2=1;var t=mi(),e=gw(),r=pi(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",$="[object Uint16Array]",I="[object Uint32Array]",M={};M[N]=M[_]=M[E]=M[A]=M[O]=M[T]=M[R]=M[$]=M[I]=!0,M[n]=M[i]=M[b]=M[a]=M[S]=M[o]=M[u]=M[d]=M[f]=M[p]=M[m]=M[g]=M[v]=M[w]=M[x]=!1;function z(U){return r(U)&&e(U.length)&&!!M[t(U)]}return Ay=z,Ay}var Oy,C2;function xC(){if(C2)return Oy;C2=1;function t(e){return function(r){return e(r)}}return Oy=t,Oy}var Ul={exports:{}};Ul.exports;var I2;function gB(){return I2||(I2=1,(function(t,e){var r=LT(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(Ul,Ul.exports)),Ul.exports}var Ey,R2;function bC(){if(R2)return Ey;R2=1;var t=pB(),e=xC(),r=gB(),n=r&&r.isTypedArray,i=n?e(n):t;return Ey=i,Ey}var Py,$2;function yB(){if($2)return Py;$2=1;var t=fB(),e=mw(),r=_r(),n=vC(),i=pw(),a=bC(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var m=r(f),g=!m&&e(f),v=!m&&!g&&n(f),w=!m&&!g&&!v&&a(f),x=m||g||v||w,b=x?t(f.length,String):[],S=b.length;for(var N in f)(p||u.call(f,N))&&!(x&&(N=="length"||v&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&b.push(N);return b}return Py=d,Py}var Ty,M2;function vB(){if(M2)return Ty;M2=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ty=e,Ty}var Cy,D2;function wC(){if(D2)return Cy;D2=1;function t(e,r){return function(n){return e(r(n))}}return Cy=t,Cy}var Iy,L2;function xB(){if(L2)return Iy;L2=1;var t=wC(),e=t(Object.keys,Object);return Iy=e,Iy}var Ry,B2;function bB(){if(B2)return Ry;B2=1;var t=vB(),e=xB(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return Ry=i,Ry}var $y,q2;function Xc(){if(q2)return $y;q2=1;var t=ew(),e=gw();function r(n){return n!=null&&e(n.length)&&!t(n)}return $y=r,$y}var My,F2;function mh(){if(F2)return My;F2=1;var t=yB(),e=bB(),r=Xc();function n(i){return r(i)?t(i):e(i)}return My=n,My}var Dy,U2;function wB(){if(U2)return Dy;U2=1;var t=lB(),e=dB(),r=mh();function n(i){return t(i,r,e)}return Dy=n,Dy}var Ly,z2;function jB(){if(z2)return Ly;z2=1;var t=wB(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,d,f,p){var m=u&e,g=t(a),v=g.length,w=t(o),x=w.length;if(v!=x&&!m)return!1;for(var b=v;b--;){var S=g[b];if(!(m?S in o:n.call(o,S)))return!1}var N=p.get(a),_=p.get(o);if(N&&_)return N==o&&_==a;var E=!0;p.set(a,o),p.set(o,a);for(var A=m;++b<v;){S=g[b];var O=a[S],T=o[S];if(d)var R=m?d(T,O,S,o,a,p):d(O,T,S,a,o,p);if(!(R===void 0?O===T||f(O,T,u,d,p):R)){E=!1;break}A||(A=S=="constructor")}if(E&&!A){var $=a.constructor,I=o.constructor;$!=I&&"constructor"in a&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof I=="function"&&I instanceof I)&&(E=!1)}return p.delete(a),p.delete(o),E}return Ly=i,Ly}var By,W2;function _B(){if(W2)return By;W2=1;var t=Ja(),e=Un(),r=t(e,"DataView");return By=r,By}var qy,H2;function NB(){if(H2)return qy;H2=1;var t=Ja(),e=Un(),r=t(e,"Promise");return qy=r,qy}var Fy,K2;function jC(){if(K2)return Fy;K2=1;var t=Ja(),e=Un(),r=t(e,"Set");return Fy=r,Fy}var Uy,V2;function SB(){if(V2)return Uy;V2=1;var t=Ja(),e=Un(),r=t(e,"WeakMap");return Uy=r,Uy}var zy,G2;function kB(){if(G2)return zy;G2=1;var t=_B(),e=rw(),r=NB(),n=jC(),i=SB(),a=mi(),o=BT(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",v=o(t),w=o(e),x=o(r),b=o(n),S=o(i),N=a;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=u||r&&N(r.resolve())!=f||n&&N(new n)!=p||i&&N(new i)!=m)&&(N=function(_){var E=a(_),A=E==d?_.constructor:void 0,O=A?o(A):"";if(O)switch(O){case v:return g;case w:return u;case x:return f;case b:return p;case S:return m}return E}),zy=N,zy}var Wy,X2;function AB(){if(X2)return Wy;X2=1;var t=fC(),e=gC(),r=oB(),n=jB(),i=kB(),a=_r(),o=vC(),u=bC(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(x,b,S,N,_,E){var A=a(x),O=a(b),T=A?p:i(x),R=O?p:i(b);T=T==f?m:T,R=R==f?m:R;var $=T==m,I=R==m,M=T==R;if(M&&o(x)){if(!o(b))return!1;A=!0,$=!1}if(M&&!$)return E||(E=new t),A||u(x)?e(x,b,S,N,_,E):r(x,b,T,S,N,_,E);if(!(S&d)){var z=$&&v.call(x,"__wrapped__"),U=I&&v.call(b,"__wrapped__");if(z||U){var D=z?x.value():x,q=U?b.value():b;return E||(E=new t),_(D,q,S,N,E)}}return M?(E||(E=new t),n(x,b,S,N,_,E)):!1}return Wy=w,Wy}var Hy,Y2;function yw(){if(Y2)return Hy;Y2=1;var t=AB(),e=pi();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return Hy=r,Hy}var Ky,J2;function OB(){if(J2)return Ky;J2=1;var t=fC(),e=yw(),r=1,n=2;function i(a,o,u,d){var f=u.length,p=f,m=!d;if(a==null)return!p;for(a=Object(a);f--;){var g=u[f];if(m&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<p;){g=u[f];var v=g[0],w=a[v],x=g[1];if(m&&g[2]){if(w===void 0&&!(v in a))return!1}else{var b=new t;if(d)var S=d(w,x,v,a,o,b);if(!(S===void 0?e(x,w,r|n,d,b):S))return!1}}return!0}return Ky=i,Ky}var Vy,Q2;function _C(){if(Q2)return Vy;Q2=1;var t=ea();function e(r){return r===r&&!t(r)}return Vy=e,Vy}var Gy,Z2;function EB(){if(Z2)return Gy;Z2=1;var t=_C(),e=mh();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return Gy=r,Gy}var Xy,ek;function NC(){if(ek)return Xy;ek=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Xy=t,Xy}var Yy,tk;function PB(){if(tk)return Yy;tk=1;var t=OB(),e=EB(),r=NC();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Yy=n,Yy}var Jy,rk;function TB(){if(rk)return Jy;rk=1;function t(e,r){return e!=null&&r in Object(e)}return Jy=t,Jy}var Qy,nk;function CB(){if(nk)return Qy;nk=1;var t=UT(),e=mw(),r=_r(),n=pw(),i=gw(),a=ch();function o(u,d,f){d=t(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var v=a(d[p]);if(!(g=u!=null&&f(u,v)))break;u=u[v]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&i(m)&&n(v,m)&&(r(u)||e(u)))}return Qy=o,Qy}var Zy,ik;function IB(){if(ik)return Zy;ik=1;var t=TB(),e=CB();function r(n,i){return n!=null&&e(n,i,t)}return Zy=r,Zy}var e0,ak;function RB(){if(ak)return e0;ak=1;var t=yw(),e=zT(),r=IB(),n=Zb(),i=_C(),a=NC(),o=ch(),u=1,d=2;function f(p,m){return n(p)&&i(m)?a(o(p),m):function(g){var v=e(g,p);return v===void 0&&v===m?r(g,p):t(m,v,u|d)}}return e0=f,e0}var t0,sk;function Do(){if(sk)return t0;sk=1;function t(e){return e}return t0=t,t0}var r0,ok;function $B(){if(ok)return r0;ok=1;function t(e){return function(r){return r==null?void 0:r[e]}}return r0=t,r0}var n0,lk;function MB(){if(lk)return n0;lk=1;var t=aw();function e(r){return function(n){return t(n,r)}}return n0=e,n0}var i0,ck;function DB(){if(ck)return i0;ck=1;var t=$B(),e=MB(),r=Zb(),n=ch();function i(a){return r(a)?t(n(a)):e(a)}return i0=i,i0}var a0,uk;function zn(){if(uk)return a0;uk=1;var t=PB(),e=RB(),r=Do(),n=_r(),i=DB();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return a0=a,a0}var s0,dk;function SC(){if(dk)return s0;dk=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return s0=t,s0}var o0,fk;function LB(){if(fk)return o0;fk=1;function t(e){return e!==e}return o0=t,o0}var l0,hk;function BB(){if(hk)return l0;hk=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return l0=t,l0}var c0,mk;function qB(){if(mk)return c0;mk=1;var t=SC(),e=LB(),r=BB();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return c0=n,c0}var u0,pk;function FB(){if(pk)return u0;pk=1;var t=qB();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return u0=e,u0}var d0,gk;function UB(){if(gk)return d0;gk=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return d0=t,d0}var f0,yk;function zB(){if(yk)return f0;yk=1;function t(){}return f0=t,f0}var h0,vk;function WB(){if(vk)return h0;vk=1;var t=jC(),e=zB(),r=hw(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return h0=i,h0}var m0,xk;function HB(){if(xk)return m0;xk=1;var t=hC(),e=FB(),r=UB(),n=pC(),i=WB(),a=hw(),o=200;function u(d,f,p){var m=-1,g=e,v=d.length,w=!0,x=[],b=x;if(p)w=!1,g=r;else if(v>=o){var S=f?null:i(d);if(S)return a(S);w=!1,g=n,b=new t}else b=f?[]:x;e:for(;++m<v;){var N=d[m],_=f?f(N):N;if(N=p||N!==0?N:0,w&&_===_){for(var E=b.length;E--;)if(b[E]===_)continue e;f&&b.push(_),x.push(N)}else g(b,_,p)||(b!==x&&b.push(_),x.push(N))}return x}return m0=u,m0}var p0,bk;function KB(){if(bk)return p0;bk=1;var t=zn(),e=HB();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return p0=r,p0}var VB=KB();const wk=Qe(VB);function kC(t,e,r){return e===!0?wk(t,r):Ie(e)?wk(t,e):t}function no(t){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(t)}var GB=["ref"];function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OC(n.key),n)}}function YB(t,e,r){return e&&_k(t.prototype,e),r&&_k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JB(t,e,r){return e=sf(e),QB(t,AC()?Reflect.construct(e,r||[],sf(t).constructor):e.apply(t,r))}function QB(t,e){if(e&&(no(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZB(t)}function ZB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AC=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(t)}function eq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xx(t,e)}function ph(t,e,r){return e=OC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OC(t){var e=tq(t,"string");return no(e)=="symbol"?e:e+""}function tq(t,e){if(no(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rq(t,e){if(t==null)return{};var r=nq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iq(t){return t.value}function aq(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var r=rq(e,GB);return F.createElement(fw,r)}var Nk=1,Ks=(function(t){function e(){var r;XB(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=JB(this,e,[].concat(i)),ph(r,"lastBoundingBox",{width:-1,height:-1}),r}return eq(e,t),YB(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Nk||Math.abs(i.height-this.lastBoundingBox.height)>Nk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((p||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Zn(Zn({},m),g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,m=Zn(Zn({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return F.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},aq(a,Zn(Zn({},this.props),{},{payload:kC(p,f,iq)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Zn(Zn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(P.PureComponent);ph(Ks,"displayName","Legend");ph(Ks,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g0,Sk;function sq(){if(Sk)return g0;Sk=1;var t=Gc(),e=mw(),r=_r(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return g0=i,g0}var y0,kk;function EC(){if(kk)return y0;kk=1;var t=yC(),e=sq();function r(n,i,a,o,u){var d=-1,f=n.length;for(a||(a=e),u||(u=[]);++d<f;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,o,u):t(u,p):o||(u[u.length]=p)}return u}return y0=r,y0}var v0,Ak;function oq(){if(Ak)return v0;Ak=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++a];if(n(o[f],f,o)===!1)break}return r}}return v0=t,v0}var x0,Ok;function lq(){if(Ok)return x0;Ok=1;var t=oq(),e=t();return x0=e,x0}var b0,Ek;function PC(){if(Ek)return b0;Ek=1;var t=lq(),e=mh();function r(n,i){return n&&t(n,i,e)}return b0=r,b0}var w0,Pk;function cq(){if(Pk)return w0;Pk=1;var t=Xc();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&a(d[u],u,d)!==!1;);return i}}return w0=e,w0}var j0,Tk;function vw(){if(Tk)return j0;Tk=1;var t=PC(),e=cq(),r=e(t);return j0=r,j0}var _0,Ck;function TC(){if(Ck)return _0;Ck=1;var t=vw(),e=Xc();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++a]=i(u,d,f)}),o}return _0=r,_0}var N0,Ik;function uq(){if(Ik)return N0;Ik=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return N0=t,N0}var S0,Rk;function dq(){if(Rk)return S0;Rk=1;var t=Ro();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,p=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||a&&d&&p||!i&&p||!o)return 1;if(!a&&!u&&!m&&r<n||m&&i&&o&&!a&&!u||f&&i&&o||!d&&o||!p)return-1}return 0}return S0=e,S0}var k0,$k;function fq(){if($k)return k0;$k=1;var t=dq();function e(r,n,i){for(var a=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],u[a]);if(p){if(a>=f)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return k0=e,k0}var A0,Mk;function hq(){if(Mk)return A0;Mk=1;var t=iw(),e=aw(),r=zn(),n=TC(),i=uq(),a=xC(),o=fq(),u=Do(),d=_r();function f(p,m,g){m.length?m=t(m,function(x){return d(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):m=[u];var v=-1;m=t(m,a(r));var w=n(p,function(x,b,S){var N=t(m,function(_){return _(x)});return{criteria:N,index:++v,value:x}});return i(w,function(x,b){return o(x,b,g)})}return A0=f,A0}var O0,Dk;function mq(){if(Dk)return O0;Dk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return O0=t,O0}var E0,Lk;function pq(){if(Lk)return E0;Lk=1;var t=mq(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=o[u];return p[i]=a(f),t(n,this,p)}}return E0=r,E0}var P0,Bk;function gq(){if(Bk)return P0;Bk=1;function t(e){return function(){return e}}return P0=t,P0}var T0,qk;function CC(){if(qk)return T0;qk=1;var t=Ja(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return T0=e,T0}var C0,Fk;function yq(){if(Fk)return C0;Fk=1;var t=gq(),e=CC(),r=Do(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return C0=n,C0}var I0,Uk;function vq(){if(Uk)return I0;Uk=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return I0=n,I0}var R0,zk;function xq(){if(zk)return R0;zk=1;var t=yq(),e=vq(),r=e(t);return R0=r,R0}var $0,Wk;function bq(){if(Wk)return $0;Wk=1;var t=Do(),e=pq(),r=xq();function n(i,a){return r(e(i,a,t),i+"")}return $0=n,$0}var M0,Hk;function gh(){if(Hk)return M0;Hk=1;var t=tw(),e=Xc(),r=pw(),n=ea();function i(a,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],a):!1}return M0=i,M0}var D0,Kk;function wq(){if(Kk)return D0;Kk=1;var t=EC(),e=hq(),r=bq(),n=gh(),i=r(function(a,o){if(a==null)return[];var u=o.length;return u>1&&n(a,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return D0=i,D0}var jq=wq();const xw=Qe(jq);function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function _q(t,e){return Aq(t)||kq(t,e)||Sq(t,e)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(t,e){if(t){if(typeof t=="string")return Vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Aq(t){if(Array.isArray(t))return t}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){Oq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oq(t,e,r){return e=Eq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eq(t){var e=Pq(t,"string");return cc(e)=="symbol"?e:e+""}function Pq(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tq(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var Cq=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,m=e.formatter,g=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,x=e.label,b=e.labelFormatter,S=e.accessibilityLayer,N=S===void 0?!1:S,_=function(){if(p&&p.length){var z={padding:0,margin:0},U=(g?xw(p,g):p).map(function(D,q){if(D.type==="none")return null;var H=L0({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},u),ee=D.formatter||m||Tq,X=D.value,Y=D.name,W=X,L=Y;if(ee&&W!=null&&L!=null){var V=ee(X,Y,D,q,p);if(Array.isArray(V)){var ae=_q(V,2);W=ae[0],L=ae[1]}else W=V}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:H},Bt(L)?F.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Bt(L)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},W),F.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:z},U)}return null},E=L0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=L0({margin:0},f),O=!$e(x),T=O?x:"",R=De("recharts-default-tooltip",v),$=De("recharts-tooltip-label",w);O&&b&&p!==void 0&&p!==null&&(T=b(x,p));var I=N?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",bx({className:R,style:E},I),F.createElement("p",{className:$,style:A},F.isValidElement(T)?T:"".concat(T)),_())};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function pd(t,e,r){return e=Iq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iq(t){var e=Rq(t,"string");return uc(e)=="symbol"?e:e+""}function Rq(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pl="recharts-tooltip-wrapper",$q={visibility:"hidden"};function Mq(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return De(Pl,pd(pd(pd(pd({},"".concat(Pl,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(Pl,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(Pl,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(Pl,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function Xk(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&le(a[n]))return a[n];var p=r[n]-u-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var g=p,v=d[n];return g<v?Math.max(m,d[n]):Math.max(p,d[n])}var w=m+u,x=d[n]+f;return w>x?Math.max(p,d[n]):Math.max(m,d[n])}function Dq(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Lq(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,m;return o.height>0&&o.width>0&&r?(p=Xk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=Xk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Dq({translateX:p,translateY:m,useTranslate3d:u})):f=$q,{cssProperties:f,cssClasses:Mq({translateX:p,translateY:m,coordinate:r})}}function io(t){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(t)}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){jx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RC(n.key),n)}}function Fq(t,e,r){return e&&qq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uq(t,e,r){return e=of(e),zq(t,IC()?Reflect.construct(e,r||[],of(t).constructor):e.apply(t,r))}function zq(t,e){if(e&&(io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wq(t)}function Wq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IC=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(t)}function Hq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wx(t,e)}function jx(t,e,r){return e=RC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RC(t){var e=Kq(t,"string");return io(e)=="symbol"?e:e+""}function Kq(t,e){if(io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qk=1,Vq=(function(t){function e(){var r;Bq(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Uq(this,e,[].concat(i)),jx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jx(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return Hq(e,t),Fq(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Qk||Math.abs(n.height-this.state.lastBoundingBox.height)>Qk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,v=i.offset,w=i.position,x=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,_=Lq({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:v,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),E=_.cssClasses,A=_.cssProperties,O=Jk(Jk({transition:g&&a?"transform ".concat(u,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},N);return F.createElement("div",{tabIndex:-1,className:E,style:O,ref:function(R){n.wrapperNode=R}},f)}}])})(P.PureComponent),Gq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ta={isSsr:Gq()};function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MC(n.key),n)}}function Jq(t,e,r){return e&&Yq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qq(t,e,r){return e=lf(e),Zq(t,$C()?Reflect.construct(e,r||[],lf(t).constructor):e.apply(t,r))}function Zq(t,e){if(e&&(ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e7(t)}function e7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(t)}function t7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_x(t,e)}function bw(t,e,r){return e=MC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MC(t){var e=r7(t,"string");return ao(e)=="symbol"?e:e+""}function r7(t,e){if(ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function n7(t){return t.dataKey}function i7(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(Cq,e)}var Ir=(function(t){function e(){return Xq(this,e),Qq(this,e,arguments)}return t7(e,t),Jq(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,m=i.filterNull,g=i.isAnimationActive,v=i.offset,w=i.payload,x=i.payloadUniqBy,b=i.position,S=i.reverseDirection,N=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,A=w??[];m&&A.length&&(A=kC(w.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),x,n7));var O=A.length>0;return F.createElement(Vq,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:g,active:a,coordinate:p,hasPayload:O,offset:v,position:b,reverseDirection:S,useTranslate3d:N,viewBox:_,wrapperStyle:E},i7(f,eA(eA({},this.props),{},{payload:A})))}}])})(P.PureComponent);bw(Ir,"displayName","Tooltip");bw(Ir,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ta.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var B0,tA;function a7(){if(tA)return B0;tA=1;var t=Un(),e=function(){return t.Date.now()};return B0=e,B0}var q0,rA;function s7(){if(rA)return q0;rA=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return q0=e,q0}var F0,nA;function o7(){if(nA)return F0;nA=1;var t=s7(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return F0=r,F0}var U0,iA;function DC(){if(iA)return U0;iA=1;var t=o7(),e=ea(),r=Ro(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||o.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return U0=d,U0}var z0,aA;function l7(){if(aA)return z0;aA=1;var t=ea(),e=a7(),r=DC(),n="Expected a function",i=Math.max,a=Math.min;function o(u,d,f){var p,m,g,v,w,x,b=0,S=!1,N=!1,_=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(S=!!f.leading,N="maxWait"in f,g=N?i(r(f.maxWait)||0,d):g,_="trailing"in f?!!f.trailing:_);function E(U){var D=p,q=m;return p=m=void 0,b=U,v=u.apply(q,D),v}function A(U){return b=U,w=setTimeout(R,d),S?E(U):v}function O(U){var D=U-x,q=U-b,H=d-D;return N?a(H,g-q):H}function T(U){var D=U-x,q=U-b;return x===void 0||D>=d||D<0||N&&q>=g}function R(){var U=e();if(T(U))return $(U);w=setTimeout(R,O(U))}function $(U){return w=void 0,_&&p?E(U):(p=m=void 0,v)}function I(){w!==void 0&&clearTimeout(w),b=0,p=x=m=w=void 0}function M(){return w===void 0?v:$(e())}function z(){var U=e(),D=T(U);if(p=arguments,m=this,x=U,D){if(w===void 0)return A(x);if(N)return clearTimeout(w),w=setTimeout(R,d),E(x)}return w===void 0&&(w=setTimeout(R,d)),v}return z.cancel=I,z.flush=M,z}return z0=o,z0}var W0,sA;function c7(){if(sA)return W0;sA=1;var t=l7(),e=ea(),r="Expected a function";function n(i,a,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:u,maxWait:a,trailing:d})}return W0=n,W0}var u7=c7();const LC=Qe(u7);function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){d7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d7(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=h7(t,"string");return dc(e)=="symbol"?e:e+""}function h7(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m7(t,e){return v7(t)||y7(t,e)||g7(t,e)||p7()}function p7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function v7(t){if(Array.isArray(t))return t}var yd=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,m=t.minHeight,g=t.maxHeight,v=t.children,w=t.debounce,x=w===void 0?0:w,b=t.id,S=t.className,N=t.onResize,_=t.style,E=_===void 0?{}:_,A=P.useRef(null),O=P.useRef();O.current=N,P.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=P.useState({containerWidth:i.width,containerHeight:i.height}),R=m7(T,2),$=R[0],I=R[1],M=P.useCallback(function(U,D){I(function(q){var H=Math.round(U),ee=Math.round(D);return q.containerWidth===H&&q.containerHeight===ee?q:{containerWidth:H,containerHeight:ee}})},[]);P.useEffect(function(){var U=function(Y){var W,L=Y[0].contentRect,V=L.width,ae=L.height;M(V,ae),(W=O.current)===null||W===void 0||W.call(O,V,ae)};x>0&&(U=LC(U,x,{trailing:!0,leading:!1}));var D=new ResizeObserver(U),q=A.current.getBoundingClientRect(),H=q.width,ee=q.height;return M(H,ee),D.observe(A.current),function(){D.disconnect()}},[M,x]);var z=P.useMemo(function(){var U=$.containerWidth,D=$.containerHeight;if(U<0||D<0)return null;bn(Ca(o)||Ca(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),bn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Ca(o)?U:o,H=Ca(d)?D:d;r&&r>0&&(q?H=q/r:H&&(q=H*r),g&&H>g&&(H=g)),bn(q>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,H,o,d,p,m,r);var ee=!Array.isArray(v)&&oi(v.type).endsWith("Chart");return F.Children.map(v,function(X){return F.isValidElement(X)?P.cloneElement(X,gd({width:q,height:H},ee?{style:gd({height:"100%",width:"100%",maxHeight:H,maxWidth:q},X.props.style)}:{})):X})},[r,v,d,g,m,p,$,o]);return F.createElement("div",{id:b?"".concat(b):void 0,className:De("recharts-responsive-container",S),style:gd(gd({},E),{},{width:o,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:A},z)}),yh=function(e){return null};yh.displayName="Cell";function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){x7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x7(t,e,r){return e=b7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t){var e=w7(t,"string");return fc(e)=="symbol"?e:e+""}function w7(t,e){if(fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={widthCache:{},cacheCount:0},j7=2e3,_7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uA="recharts_measurement_span";function N7(t){var e=Nx({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Vl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ta.isSsr)return{width:0,height:0};var n=N7(r),i=JSON.stringify({text:e,copyStyle:n});if(Os.widthCache[i])return Os.widthCache[i];try{var a=document.getElementById(uA);a||(a=document.createElement("span"),a.setAttribute("id",uA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Nx(Nx({},_7),n);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return Os.widthCache[i]=d,++Os.cacheCount>j7&&(Os.cacheCount=0,Os.widthCache={}),d}catch{return{width:0,height:0}}},S7=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function cf(t,e){return E7(t)||O7(t,e)||A7(t,e)||k7()}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return dA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(t,e)}}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function E7(t){if(Array.isArray(t))return t}function P7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C7(n.key),n)}}function T7(t,e,r){return e&&fA(t.prototype,e),r&&fA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C7(t){var e=I7(t,"string");return hc(e)=="symbol"?e:e+""}function I7(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},M7=Object.keys(BC),qs="NaN";function D7(t,e){return t*BC[e]}var vd=(function(){function t(e,r){P7(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!R7.test(r)&&(this.num=NaN,this.unit=""),M7.includes(r)&&(this.num=D7(e,r),this.unit="px")}return T7(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$7.exec(r))!==null&&n!==void 0?n:[],a=cf(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])})();function qC(t){if(t.includes(qs))return qs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=hA.exec(e))!==null&&r!==void 0?r:[],i=cf(n,4),a=i[1],o=i[2],u=i[3],d=vd.parse(a??""),f=vd.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return qs;e=e.replace(hA,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=mA.exec(e))!==null&&m!==void 0?m:[],v=cf(g,4),w=v[1],x=v[2],b=v[3],S=vd.parse(w??""),N=vd.parse(b??""),_=x==="+"?S.add(N):S.subtract(N);if(_.isNaN())return qs;e=e.replace(mA,_.toString())}return e}var pA=/\(([^()]*)\)/;function L7(t){for(var e=t;e.includes("(");){var r=pA.exec(e),n=cf(r,2),i=n[1];e=e.replace(pA,qC(i))}return e}function B7(t){var e=t.replace(/\s+/g,"");return e=L7(e),e=qC(e),e}function q7(t){try{return B7(t)}catch{return qs}}function H0(t){var e=q7(t.slice(5,-1));return e===qs?"":e}var F7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],U7=["dx","dy","angle","className","breakAll"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sx.apply(this,arguments)}function gA(t,e){if(t==null)return{};var r=z7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yA(t,e){return V7(t)||K7(t,e)||H7(t,e)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(t,e){if(t){if(typeof t=="string")return vA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function V7(t){if(Array.isArray(t))return t}var FC=/[ \f\n\r\t\v\u2028\u2029]+/,UC=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];$e(r)||(n?a=r.toString().split(""):a=r.toString().split(FC));var o=a.map(function(d){return{word:d,width:Vl(d,i).width}}),u=n?0:Vl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},G7=function(e,r,n,i,a){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=le(o),m=u,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(H,ee){var X=ee.word,Y=ee.width,W=H[H.length-1];if(W&&(i==null||a||W.width+Y+n<Number(i)))W.words.push(X),W.width+=Y+n;else{var L={words:[X],width:Y};H.push(L)}return H},[])},v=g(r),w=function(q){return q.reduce(function(H,ee){return H.width>ee.width?H:ee})};if(!p)return v;for(var x="",b=function(q){var H=m.slice(0,q),ee=UC({breakAll:f,style:d,children:H+x}).wordsWithComputedWidth,X=g(ee),Y=X.length>o||w(X).width>Number(i);return[Y,X]},S=0,N=m.length-1,_=0,E;S<=N&&_<=m.length-1;){var A=Math.floor((S+N)/2),O=A-1,T=b(O),R=yA(T,2),$=R[0],I=R[1],M=b(A),z=yA(M,1),U=z[0];if(!$&&!U&&(S=A+1),$&&U&&(N=A-1),!$&&U){E=I;break}_++}return E||v},xA=function(e){var r=$e(e)?[]:e.toString().split(FC);return[{words:r}]},X7=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!ta.isSsr){var d,f,p=UC({breakAll:o,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,f=g}else return xA(i);return G7({breakAll:o,children:i,maxLines:u,style:a},d,f,r,n)}return xA(i)},bA="#808080",Ha=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,g=e.textAnchor,v=g===void 0?"start":g,w=e.verticalAnchor,x=w===void 0?"end":w,b=e.fill,S=b===void 0?bA:b,N=gA(e,F7),_=P.useMemo(function(){return X7({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:m,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,m,N.style,N.width]),E=N.dx,A=N.dy,O=N.angle,T=N.className,R=N.breakAll,$=gA(N,U7);if(!Bt(n)||!Bt(a))return null;var I=n+(le(E)?E:0),M=a+(le(A)?A:0),z;switch(x){case"start":z=H0("calc(".concat(f,")"));break;case"middle":z=H0("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:z=H0("calc(".concat(_.length-1," * -").concat(u,")"));break}var U=[];if(m){var D=_[0].width,q=N.width;U.push("scale(".concat((le(q)?q/D:1)/D,")"))}return O&&U.push("rotate(".concat(O,", ").concat(I,", ").concat(M,")")),U.length&&($.transform=U.join(" ")),F.createElement("text",Sx({},ke($,!0),{x:I,y:M,className:De("recharts-text",T),textAnchor:v,fill:S.includes("url")?bA:S}),_.map(function(H,ee){var X=H.words.join(R?"":" ");return F.createElement("tspan",{x:I,dy:ee===0?z:u,key:"".concat(X,"-").concat(ee)},X)}))};function Yi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ww(t){let e,r,n;t.length!==2?(e=Yi,r=(u,d)=>Yi(t(u),d),n=(u,d)=>t(u)-d):(e=t===Yi||t===Y7?t:J7,r=t,n=t);function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function o(u,d,f=0,p=u.length){const m=i(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:i,center:o,right:a}}function J7(){return 0}function zC(t){return t===null?NaN:+t}function*Q7(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Z7=ww(Yi),Yc=Z7.right;ww(zC).center;class wA extends Map{constructor(e,r=rF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(jA(this,e))}has(e){return super.has(jA(this,e))}set(e,r){return super.set(eF(this,e),r)}delete(e){return super.delete(tF(this,e))}}function jA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function eF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function tF({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function rF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nF(t=Yi){if(t===Yi)return WC;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function WC(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iF=Math.sqrt(50),aF=Math.sqrt(10),sF=Math.sqrt(2);function uf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=iF?10:a>=aF?5:a>=sF?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?uf(t,e,r*2):[u,d,f]}function kx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?uf(e,t,r):uf(t,e,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(a-f)/-o;else for(let f=0;f<u;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function Ax(t,e,r){return e=+e,t=+t,r=+r,uf(t,e,r)[2]}function Ox(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ax(e,t,r):Ax(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function _A(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HC(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?WC:nF(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(e-f*m/d+g)),w=Math.min(n,Math.floor(e+(d-f)*m/d+g));HC(t,e,v,w,i)}const a=t[e];let o=r,u=n;for(Tl(t,r,e),i(t[n],a)>0&&Tl(t,r,n);o<u;){for(Tl(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Tl(t,r,u):(++u,Tl(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Tl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function oF(t,e,r){if(t=Float64Array.from(Q7(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return NA(t);if(e>=1)return _A(t);var n,i=(n-1)*e,a=Math.floor(i),o=_A(HC(t,a).subarray(0,a+1)),u=NA(t.subarray(a+1));return o+(u-o)*(i-a)}}function lF(t,e,r=zC){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function cF(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function nn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ex=Symbol("implicit");function jw(){var t=new wA,e=[],r=[],n=Ex;function i(a){let o=t.get(a);if(o===void 0){if(n!==Ex)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jw(e,r).unknown(n)},nn.apply(i,arguments),i}function mc(){var t=jw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var g=e().length,v=i<n,w=v?i:n,x=v?n:i;a=(x-w)/Math.max(1,g-d+f*2),u&&(a=Math.floor(a)),w+=(x-w-a*(g-d))*p,o=a*(1-d),u&&(w=Math.round(w),o=Math.round(o));var b=cF(g).map(function(S){return w+a*S});return r(v?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,m()):u},t.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return mc(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},nn.apply(m(),arguments)}function KC(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KC(e())},t}function Gl(){return KC(mc.apply(null,arguments).paddingInner(1))}function _w(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function VC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jc(){}var pc=.7,df=1/pc,Vs="\\s*([+-]?\\d+)\\s*",gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uF=/^#([0-9a-f]{3,8})$/,dF=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),fF=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),hF=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${gc}\\)$`),mF=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${gc}\\)$`),pF=new RegExp(`^hsl\\(${gc},${Mn},${Mn}\\)$`),gF=new RegExp(`^hsla\\(${gc},${Mn},${Mn},${gc}\\)$`),SA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_w(Jc,yc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kA,formatHex:kA,formatHex8:yF,formatHsl:vF,formatRgb:AA,toString:AA});function kA(){return this.rgb().formatHex()}function yF(){return this.rgb().formatHex8()}function vF(){return GC(this).formatHsl()}function AA(){return this.rgb().formatRgb()}function yc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=uF.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?OA(e):r===3?new jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?xd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?xd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dF.exec(t))?new jr(e[1],e[2],e[3],1):(e=fF.exec(t))?new jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hF.exec(t))?xd(e[1],e[2],e[3],e[4]):(e=mF.exec(t))?xd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pF.exec(t))?TA(e[1],e[2]/100,e[3]/100,1):(e=gF.exec(t))?TA(e[1],e[2]/100,e[3]/100,e[4]):SA.hasOwnProperty(t)?OA(SA[t]):t==="transparent"?new jr(NaN,NaN,NaN,0):null}function OA(t){return new jr(t>>16&255,t>>8&255,t&255,1)}function xd(t,e,r,n){return n<=0&&(t=e=r=NaN),new jr(t,e,r,n)}function xF(t){return t instanceof Jc||(t=yc(t)),t?(t=t.rgb(),new jr(t.r,t.g,t.b,t.opacity)):new jr}function Px(t,e,r,n){return arguments.length===1?xF(t):new jr(t,e,r,n??1)}function jr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}_w(jr,Px,VC(Jc,{brighter(t){return t=t==null?df:Math.pow(df,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pc:Math.pow(pc,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jr(La(this.r),La(this.g),La(this.b),ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EA,formatHex:EA,formatHex8:bF,formatRgb:PA,toString:PA}));function EA(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}`}function bF(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}${Ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function PA(){const t=ff(this.opacity);return`${t===1?"rgb(":"rgba("}${La(this.r)}, ${La(this.g)}, ${La(this.b)}${t===1?")":`, ${t})`}`}function ff(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function La(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ia(t){return t=La(t),(t<16?"0":"")+t.toString(16)}function TA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xn(t,e,r,n)}function GC(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof Jc||(t=yc(t)),!t)return new xn;if(t instanceof xn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,u=a-i,d=(a+i)/2;return u?(e===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new xn(o,u,d,t.opacity)}function wF(t,e,r,n){return arguments.length===1?GC(t):new xn(t,e,r,n??1)}function xn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}_w(xn,wF,VC(Jc,{brighter(t){return t=t==null?df:Math.pow(df,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pc:Math.pow(pc,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new jr(K0(t>=240?t-240:t+120,i,n),K0(t,i,n),K0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xn(CA(this.h),bd(this.s),bd(this.l),ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ff(this.opacity);return`${t===1?"hsl(":"hsla("}${CA(this.h)}, ${bd(this.s)*100}%, ${bd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CA(t){return t=(t||0)%360,t<0?t+360:t}function bd(t){return Math.max(0,Math.min(1,t||0))}function K0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Nw=t=>()=>t;function jF(t,e){return function(r){return t+r*e}}function _F(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function NF(t){return(t=+t)==1?XC:function(e,r){return r-e?_F(e,r,t):Nw(isNaN(e)?r:e)}}function XC(t,e){var r=e-t;return r?jF(t,r):Nw(isNaN(t)?e:t)}const IA=(function t(e){var r=NF(e);function n(i,a){var o=r((i=Px(i)).r,(a=Px(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),f=XC(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n})(1);function SF(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function kF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AF(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Lo(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function OF(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function hf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function EF(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lo(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Tx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V0=new RegExp(Tx.source,"g");function PF(t){return function(){return t}}function TF(t){return function(e){return t(e)+""}}function CF(t,e){var r=Tx.lastIndex=V0.lastIndex=0,n,i,a,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=Tx.exec(t))&&(i=V0.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:hf(n,i)})),r=V0.lastIndex;return r<e.length&&(a=e.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?TF(d[0].x):PF(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function Lo(t,e){var r=typeof e,n;return e==null||r==="boolean"?Nw(e):(r==="number"?hf:r==="string"?(n=yc(e))?(e=n,IA):CF:e instanceof yc?IA:e instanceof Date?OF:kF(e)?SF:Array.isArray(e)?AF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?EF:hf)(t,e)}function Sw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function IF(t,e){e===void 0&&(e=t,t=Lo);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function RF(t){return function(){return t}}function mf(t){return+t}var RA=[0,1];function fr(t){return t}function Cx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:RF(isNaN(e)?NaN:.5)}function $F(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function MF(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Cx(i,n),a=r(o,a)):(n=Cx(n,i),a=r(a,o)),function(u){return a(n(u))}}function DF(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Cx(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(u){var d=Yc(t,u,1,n)-1;return a[d](i[d](u))}}function Qc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vh(){var t=RA,e=RA,r=Lo,n,i,a,o=fr,u,d,f;function p(){var g=Math.min(t.length,e.length);return o!==fr&&(o=$F(t[0],t[g-1])),u=g>2?DF:MF,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?a:(d||(d=u(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(i((f||(f=u(e,t.map(n),hf)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,mf),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=Sw,p()},m.clamp=function(g){return arguments.length?(o=g?!0:fr,p()):o!==fr},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,v){return n=g,i=v,p()}}function kw(){return vh()(fr,fr)}function LF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function so(t){return t=pf(Math.abs(t)),t?t[1]:NaN}function BF(t,e){return function(r,n){for(var i=r.length,a=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function qF(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var FF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vc(t){if(!(e=FF.exec(t)))throw new Error("invalid format: "+t);var e;return new Aw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vc.prototype=Aw.prototype;function Aw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Aw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UF(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var YC;function zF(t,e){var r=pf(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(YC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+pf(t,Math.max(0,e+a-1))[0]}function $A(t,e){var r=pf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const MA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:LF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$A(t*100,e),r:$A,s:zF,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function DA(t){return t}var LA=Array.prototype.map,BA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WF(t){var e=t.grouping===void 0||t.thousands===void 0?DA:BF(LA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?DA:qF(LA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=vc(m);var g=m.fill,v=m.align,w=m.sign,x=m.symbol,b=m.zero,S=m.width,N=m.comma,_=m.precision,E=m.trim,A=m.type;A==="n"?(N=!0,A="g"):MA[A]||(_===void 0&&(_=12),E=!0,A="g"),(b||g==="0"&&v==="=")&&(b=!0,g="0",v="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=x==="$"?n:/[%p]/.test(A)?o:"",R=MA[A],$=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(M){var z=O,U=T,D,q,H;if(A==="c")U=R(M)+U,M="";else{M=+M;var ee=M<0||1/M<0;if(M=isNaN(M)?d:R(Math.abs(M),_),E&&(M=UF(M)),ee&&+M==0&&w!=="+"&&(ee=!1),z=(ee?w==="("?w:u:w==="-"||w==="("?"":w)+z,U=(A==="s"?BA[8+YC/3]:"")+U+(ee&&w==="("?")":""),$){for(D=-1,q=M.length;++D<q;)if(H=M.charCodeAt(D),48>H||H>57){U=(H===46?i+M.slice(D+1):M.slice(D))+U,M=M.slice(0,D);break}}}N&&!b&&(M=e(M,1/0));var X=z.length+M.length+U.length,Y=X<S?new Array(S-X+1).join(g):"";switch(N&&b&&(M=e(Y+M,Y.length?S-U.length:1/0),Y=""),v){case"<":M=z+M+U+Y;break;case"=":M=z+Y+M+U;break;case"^":M=Y.slice(0,X=Y.length>>1)+z+M+U+Y.slice(X);break;default:M=Y+z+M+U;break}return a(M)}return I.toString=function(){return m+""},I}function p(m,g){var v=f((m=vc(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(so(g)/3)))*3,x=Math.pow(10,-w),b=BA[8+w/3];return function(S){return v(x*S)+b}}return{format:f,formatPrefix:p}}var wd,Ow,JC;HF({thousands:",",grouping:[3],currency:["$",""]});function HF(t){return wd=WF(t),Ow=wd.format,JC=wd.formatPrefix,wd}function KF(t){return Math.max(0,-so(Math.abs(t)))}function VF(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(e)/3)))*3-so(Math.abs(t)))}function GF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,so(e)-so(t))+1}function QC(t,e,r,n){var i=Ox(t,e,r),a;switch(n=vc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=VF(i,o))&&(n.precision=a),JC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=GF(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=KF(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ow(n)}function ra(t){var e=t.domain;return t.ticks=function(r){var n=e();return kx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return QC(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],u=n[a],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);p-- >0;){if(f=Ax(o,u,r),f===d)return n[i]=o,n[a]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function gf(){var t=kw();return t.copy=function(){return Qc(t,gf())},nn.apply(t,arguments),ra(t)}function ZC(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mf),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ZC(t).unknown(e)},t=arguments.length?Array.from(t,mf):[0,1],ra(r)}function e4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function qA(t){return Math.log(t)}function FA(t){return Math.exp(t)}function XF(t){return-Math.log(-t)}function YF(t){return-Math.exp(-t)}function JF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function QF(t){return t===10?JF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ZF(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UA(t){return(e,r)=>-t(-e,r)}function Ew(t){const e=t(qA,FA),r=e.domain;let n=10,i,a;function o(){return i=ZF(n),a=QF(n),r()[0]<0?(i=UA(i),a=UA(a),t(XF,YF)):t(qA,FA),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),v=i(p),w,x;const b=u==null?10:+u;let S=[];if(!(n%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(w=1;w<n;++w)if(x=g<0?w/a(-g):w*a(g),!(x<f)){if(x>p)break;S.push(x)}}else for(;g<=v;++g)for(w=n-1;w>=1;--w)if(x=g>0?w/a(-g):w*a(g),!(x<f)){if(x>p)break;S.push(x)}S.length*2<b&&(S=kx(f,p,b))}else S=kx(g,v,Math.min(v-g,b)).map(a);return m?S.reverse():S},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=vc(d)).precision==null&&(d.trim=!0),d=Ow(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},e.nice=()=>r(e4(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function t4(){const t=Ew(vh()).domain([1,10]);return t.copy=()=>Qc(t,t4()).base(t.base()),nn.apply(t,arguments),t}function zA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Pw(t){var e=1,r=t(zA(e),WA(e));return r.constant=function(n){return arguments.length?t(zA(e=+n),WA(e)):e},ra(r)}function r4(){var t=Pw(vh());return t.copy=function(){return Qc(t,r4()).constant(t.constant())},nn.apply(t,arguments)}function HA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eU(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tU(t){return t<0?-t*t:t*t}function Tw(t){var e=t(fr,fr),r=1;function n(){return r===1?t(fr,fr):r===.5?t(eU,tU):t(HA(r),HA(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ra(e)}function Cw(){var t=Tw(vh());return t.copy=function(){return Qc(t,Cw()).exponent(t.exponent())},nn.apply(t,arguments),t}function rU(){return Cw.apply(null,arguments).exponent(.5)}function KA(t){return Math.sign(t)*t*t}function nU(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function n4(){var t=kw(),e=[0,1],r=!1,n;function i(a){var o=nU(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(KA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,mf)).map(KA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return n4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},nn.apply(i,arguments),ra(i)}function i4(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=lF(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Yc(r,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Yi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return i4().domain(t).range(e).unknown(n)},nn.apply(a,arguments)}function a4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Yc(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return a4().domain([t,e]).range(i).unknown(a)},nn.apply(ra(o),arguments)}function s4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Yc(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s4().domain(t).range(e).unknown(r)},nn.apply(i,arguments)}const G0=new Date,X0=new Date;function Ft(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return d},i.filter=a=>Ft(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(G0.setTime(+a),X0.setTime(+o),t(G0),t(X0),Math.floor(r(G0,X0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const yf=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):yf);yf.range;const ni=1e3,Qr=ni*60,ii=Qr*60,ui=ii*24,Iw=ui*7,VA=ui*30,Y0=ui*365,Ra=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCSeconds());Ra.range;const Rw=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getMinutes());Rw.range;const $w=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getUTCMinutes());$w.range;const Mw=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni-t.getMinutes()*Qr)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getHours());Mw.range;const Dw=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCHours());Dw.range;const Zc=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/ui,t=>t.getDate()-1);Zc.range;const xh=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);xh.range;const o4=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));o4.range;function Za(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Iw)}const bh=Za(0),vf=Za(1),iU=Za(2),aU=Za(3),oo=Za(4),sU=Za(5),oU=Za(6);bh.range;vf.range;iU.range;aU.range;oo.range;sU.range;oU.range;function es(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Iw)}const wh=es(0),xf=es(1),lU=es(2),cU=es(3),lo=es(4),uU=es(5),dU=es(6);wh.range;xf.range;lU.range;cU.range;lo.range;uU.range;dU.range;const Lw=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Lw.range;const Bw=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Bw.range;const di=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});di.range;const fi=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});fi.range;function l4(t,e,r,n,i,a){const o=[[Ra,1,ni],[Ra,5,5*ni],[Ra,15,15*ni],[Ra,30,30*ni],[a,1,Qr],[a,5,5*Qr],[a,15,15*Qr],[a,30,30*Qr],[i,1,ii],[i,3,3*ii],[i,6,6*ii],[i,12,12*ii],[n,1,ui],[n,2,2*ui],[r,1,Iw],[e,1,VA],[e,3,3*VA],[t,1,Y0]];function u(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:d(f,p,m),w=v?v.range(f,+p+1):[];return g?w.reverse():w}function d(f,p,m){const g=Math.abs(p-f)/m,v=ww(([,,b])=>b).right(o,g);if(v===o.length)return t.every(Ox(f/Y0,p/Y0,m));if(v===0)return yf.every(Math.max(Ox(f,p,m),1));const[w,x]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(x)}return[u,d]}const[fU,hU]=l4(fi,Bw,wh,o4,Dw,$w),[mU,pU]=l4(di,Lw,bh,Zc,Mw,Rw);function J0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function gU(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Il(i),p=Rl(i),m=Il(a),g=Rl(a),v=Il(o),w=Rl(o),x=Il(u),b=Rl(u),S=Il(d),N=Rl(d),_={a:ee,A:X,b:Y,B:W,c:null,d:ZA,e:ZA,f:BU,g:XU,G:JU,H:MU,I:DU,j:LU,L:c4,m:qU,M:FU,p:L,q:V,Q:rO,s:nO,S:UU,u:zU,U:WU,V:HU,w:KU,W:VU,x:null,X:null,y:GU,Y:YU,Z:QU,"%":tO},E={a:ae,A:ge,b:fe,B:be,c:null,d:eO,e:eO,f:r9,g:f9,G:m9,H:ZU,I:e9,j:t9,L:d4,m:n9,M:i9,p:ue,q:de,Q:rO,s:nO,S:a9,u:s9,U:o9,V:l9,w:c9,W:u9,x:null,X:null,y:d9,Y:h9,Z:p9,"%":tO},A={a:I,A:M,b:z,B:U,c:D,d:JA,e:JA,f:CU,g:YA,G:XA,H:QA,I:QA,j:OU,L:TU,m:AU,M:EU,p:$,q:kU,Q:RU,s:$U,S:PU,u:wU,U:jU,V:_U,w:bU,W:NU,x:q,X:H,y:YA,Y:XA,Z:SU,"%":IU};_.x=O(r,_),_.X=O(n,_),_.c=O(e,_),E.x=O(r,E),E.X=O(n,E),E.c=O(e,E);function O(te,me){return function(Se){var ne=[],Ve=-1,Le=0,Ze=te.length,rt,_t,Zt;for(Se instanceof Date||(Se=new Date(+Se));++Ve<Ze;)te.charCodeAt(Ve)===37&&(ne.push(te.slice(Le,Ve)),(_t=GA[rt=te.charAt(++Ve)])!=null?rt=te.charAt(++Ve):_t=rt==="e"?" ":"0",(Zt=me[rt])&&(rt=Zt(Se,_t)),ne.push(rt),Le=Ve+1);return ne.push(te.slice(Le,Ve)),ne.join("")}}function T(te,me){return function(Se){var ne=Cl(1900,void 0,1),Ve=R(ne,te,Se+="",0),Le,Ze;if(Ve!=Se.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(me&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Le=Q0(Cl(ne.y,0,1)),Ze=Le.getUTCDay(),Le=Ze>4||Ze===0?xf.ceil(Le):xf(Le),Le=xh.offset(Le,(ne.V-1)*7),ne.y=Le.getUTCFullYear(),ne.m=Le.getUTCMonth(),ne.d=Le.getUTCDate()+(ne.w+6)%7):(Le=J0(Cl(ne.y,0,1)),Ze=Le.getDay(),Le=Ze>4||Ze===0?vf.ceil(Le):vf(Le),Le=Zc.offset(Le,(ne.V-1)*7),ne.y=Le.getFullYear(),ne.m=Le.getMonth(),ne.d=Le.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ze="Z"in ne?Q0(Cl(ne.y,0,1)).getUTCDay():J0(Cl(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ze+5)%7:ne.w+ne.U*7-(Ze+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Q0(ne)):J0(ne)}}function R(te,me,Se,ne){for(var Ve=0,Le=me.length,Ze=Se.length,rt,_t;Ve<Le;){if(ne>=Ze)return-1;if(rt=me.charCodeAt(Ve++),rt===37){if(rt=me.charAt(Ve++),_t=A[rt in GA?me.charAt(Ve++):rt],!_t||(ne=_t(te,Se,ne))<0)return-1}else if(rt!=Se.charCodeAt(ne++))return-1}return ne}function $(te,me,Se){var ne=f.exec(me.slice(Se));return ne?(te.p=p.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function I(te,me,Se){var ne=v.exec(me.slice(Se));return ne?(te.w=w.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function M(te,me,Se){var ne=m.exec(me.slice(Se));return ne?(te.w=g.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function z(te,me,Se){var ne=S.exec(me.slice(Se));return ne?(te.m=N.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function U(te,me,Se){var ne=x.exec(me.slice(Se));return ne?(te.m=b.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function D(te,me,Se){return R(te,e,me,Se)}function q(te,me,Se){return R(te,r,me,Se)}function H(te,me,Se){return R(te,n,me,Se)}function ee(te){return o[te.getDay()]}function X(te){return a[te.getDay()]}function Y(te){return d[te.getMonth()]}function W(te){return u[te.getMonth()]}function L(te){return i[+(te.getHours()>=12)]}function V(te){return 1+~~(te.getMonth()/3)}function ae(te){return o[te.getUTCDay()]}function ge(te){return a[te.getUTCDay()]}function fe(te){return d[te.getUTCMonth()]}function be(te){return u[te.getUTCMonth()]}function ue(te){return i[+(te.getUTCHours()>=12)]}function de(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var me=O(te+="",_);return me.toString=function(){return te},me},parse:function(te){var me=T(te+="",!1);return me.toString=function(){return te},me},utcFormat:function(te){var me=O(te+="",E);return me.toString=function(){return te},me},utcParse:function(te){var me=T(te+="",!0);return me.toString=function(){return te},me}}}var GA={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,yU=/^%/,vU=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function xU(t){return t.replace(vU,"\\$&")}function Il(t){return new RegExp("^(?:"+t.map(xU).join("|")+")","i")}function Rl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function bU(t,e,r){var n=Gt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wU(t,e,r){var n=Gt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function jU(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function _U(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function NU(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function XA(t,e,r){var n=Gt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function YA(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SU(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kU(t,e,r){var n=Gt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function AU(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function JA(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function OU(t,e,r){var n=Gt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function QA(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function EU(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function PU(t,e,r){var n=Gt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function TU(t,e,r){var n=Gt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function CU(t,e,r){var n=Gt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IU(t,e,r){var n=yU.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function RU(t,e,r){var n=Gt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function $U(t,e,r){var n=Gt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ZA(t,e){return Ke(t.getDate(),e,2)}function MU(t,e){return Ke(t.getHours(),e,2)}function DU(t,e){return Ke(t.getHours()%12||12,e,2)}function LU(t,e){return Ke(1+Zc.count(di(t),t),e,3)}function c4(t,e){return Ke(t.getMilliseconds(),e,3)}function BU(t,e){return c4(t,e)+"000"}function qU(t,e){return Ke(t.getMonth()+1,e,2)}function FU(t,e){return Ke(t.getMinutes(),e,2)}function UU(t,e){return Ke(t.getSeconds(),e,2)}function zU(t){var e=t.getDay();return e===0?7:e}function WU(t,e){return Ke(bh.count(di(t)-1,t),e,2)}function u4(t){var e=t.getDay();return e>=4||e===0?oo(t):oo.ceil(t)}function HU(t,e){return t=u4(t),Ke(oo.count(di(t),t)+(di(t).getDay()===4),e,2)}function KU(t){return t.getDay()}function VU(t,e){return Ke(vf.count(di(t)-1,t),e,2)}function GU(t,e){return Ke(t.getFullYear()%100,e,2)}function XU(t,e){return t=u4(t),Ke(t.getFullYear()%100,e,2)}function YU(t,e){return Ke(t.getFullYear()%1e4,e,4)}function JU(t,e){var r=t.getDay();return t=r>=4||r===0?oo(t):oo.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function QU(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function eO(t,e){return Ke(t.getUTCDate(),e,2)}function ZU(t,e){return Ke(t.getUTCHours(),e,2)}function e9(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function t9(t,e){return Ke(1+xh.count(fi(t),t),e,3)}function d4(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function r9(t,e){return d4(t,e)+"000"}function n9(t,e){return Ke(t.getUTCMonth()+1,e,2)}function i9(t,e){return Ke(t.getUTCMinutes(),e,2)}function a9(t,e){return Ke(t.getUTCSeconds(),e,2)}function s9(t){var e=t.getUTCDay();return e===0?7:e}function o9(t,e){return Ke(wh.count(fi(t)-1,t),e,2)}function f4(t){var e=t.getUTCDay();return e>=4||e===0?lo(t):lo.ceil(t)}function l9(t,e){return t=f4(t),Ke(lo.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function c9(t){return t.getUTCDay()}function u9(t,e){return Ke(xf.count(fi(t)-1,t),e,2)}function d9(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function f9(t,e){return t=f4(t),Ke(t.getUTCFullYear()%100,e,2)}function h9(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function m9(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lo(t):lo.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function p9(){return"+0000"}function tO(){return"%"}function rO(t){return+t}function nO(t){return Math.floor(+t/1e3)}var Es,h4,m4;g9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function g9(t){return Es=gU(t),h4=Es.format,Es.parse,m4=Es.utcFormat,Es.utcParse,Es}function y9(t){return new Date(t)}function v9(t){return t instanceof Date?+t:+new Date(+t)}function qw(t,e,r,n,i,a,o,u,d,f){var p=kw(),m=p.invert,g=p.domain,v=f(".%L"),w=f(":%S"),x=f("%I:%M"),b=f("%I %p"),S=f("%a %d"),N=f("%b %d"),_=f("%B"),E=f("%Y");function A(O){return(d(O)<O?v:u(O)<O?w:o(O)<O?x:a(O)<O?b:n(O)<O?i(O)<O?S:N:r(O)<O?_:E)(O)}return p.invert=function(O){return new Date(m(O))},p.domain=function(O){return arguments.length?g(Array.from(O,v9)):g().map(y9)},p.ticks=function(O){var T=g();return t(T[0],T[T.length-1],O??10)},p.tickFormat=function(O,T){return T==null?A:f(T)},p.nice=function(O){var T=g();return(!O||typeof O.range!="function")&&(O=e(T[0],T[T.length-1],O??10)),O?g(e4(T,O)):p},p.copy=function(){return Qc(p,qw(t,e,r,n,i,a,o,u,d,f))},p}function x9(){return nn.apply(qw(mU,pU,di,Lw,bh,Zc,Mw,Rw,Ra,h4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function b9(){return nn.apply(qw(fU,hU,fi,Bw,wh,xh,Dw,$w,Ra,m4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jh(){var t=0,e=1,r,n,i,a,o=fr,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:o(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(o=m,f):o};function p(m){return function(g){var v,w;return arguments.length?([v,w]=g,o=m(v,w),f):[o(0),o(1)]}}return f.range=p(Lo),f.rangeRound=p(Sw),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function na(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p4(){var t=ra(jh()(fr));return t.copy=function(){return na(t,p4())},gi.apply(t,arguments)}function g4(){var t=Ew(jh()).domain([1,10]);return t.copy=function(){return na(t,g4()).base(t.base())},gi.apply(t,arguments)}function y4(){var t=Pw(jh());return t.copy=function(){return na(t,y4()).constant(t.constant())},gi.apply(t,arguments)}function Fw(){var t=Tw(jh());return t.copy=function(){return na(t,Fw()).exponent(t.exponent())},gi.apply(t,arguments)}function w9(){return Fw.apply(null,arguments).exponent(.5)}function v4(){var t=[],e=fr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Yc(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>oF(t,a/n))},r.copy=function(){return v4(e).domain(t)},gi.apply(r,arguments)}function _h(){var t=0,e=.5,r=1,n=1,i,a,o,u,d,f=fr,p,m=!1,g;function v(x){return isNaN(x=+x)?g:(x=.5+((x=+p(x))-a)*(n*x<n*a?u:d),f(m?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=p(t=+t),a=p(e=+e),o=p(r=+r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(m=!!x,v):m},v.interpolator=function(x){return arguments.length?(f=x,v):f};function w(x){return function(b){var S,N,_;return arguments.length?([S,N,_]=b,f=IF(x,[S,N,_]),v):[f(0),f(.5),f(1)]}}return v.range=w(Lo),v.rangeRound=w(Sw),v.unknown=function(x){return arguments.length?(g=x,v):g},function(x){return p=x,i=x(t),a=x(e),o=x(r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,v}}function x4(){var t=ra(_h()(fr));return t.copy=function(){return na(t,x4())},gi.apply(t,arguments)}function b4(){var t=Ew(_h()).domain([.1,1,10]);return t.copy=function(){return na(t,b4()).base(t.base())},gi.apply(t,arguments)}function w4(){var t=Pw(_h());return t.copy=function(){return na(t,w4()).constant(t.constant())},gi.apply(t,arguments)}function Uw(){var t=Tw(_h());return t.copy=function(){return na(t,Uw()).exponent(t.exponent())},gi.apply(t,arguments)}function j9(){return Uw.apply(null,arguments).exponent(.5)}const iO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mc,scaleDiverging:x4,scaleDivergingLog:b4,scaleDivergingPow:Uw,scaleDivergingSqrt:j9,scaleDivergingSymlog:w4,scaleIdentity:ZC,scaleImplicit:Ex,scaleLinear:gf,scaleLog:t4,scaleOrdinal:jw,scalePoint:Gl,scalePow:Cw,scaleQuantile:i4,scaleQuantize:a4,scaleRadial:n4,scaleSequential:p4,scaleSequentialLog:g4,scaleSequentialPow:Fw,scaleSequentialQuantile:v4,scaleSequentialSqrt:w9,scaleSequentialSymlog:y4,scaleSqrt:rU,scaleSymlog:r4,scaleThreshold:s4,scaleTime:x9,scaleUtc:b9,tickFormat:QC},Symbol.toStringTag,{value:"Module"}));var Z0,aO;function Nh(){if(aO)return Z0;aO=1;var t=Ro();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var u=r[a],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=u}return p}return Z0=e,Z0}var ev,sO;function j4(){if(sO)return ev;sO=1;function t(e,r){return e>r}return ev=t,ev}var tv,oO;function _9(){if(oO)return tv;oO=1;var t=Nh(),e=j4(),r=Do();function n(i){return i&&i.length?t(i,r,e):void 0}return tv=n,tv}var N9=_9();const Ki=Qe(N9);var rv,lO;function _4(){if(lO)return rv;lO=1;function t(e,r){return e<r}return rv=t,rv}var nv,cO;function S9(){if(cO)return nv;cO=1;var t=Nh(),e=_4(),r=Do();function n(i){return i&&i.length?t(i,r,e):void 0}return nv=n,nv}var k9=S9();const Sh=Qe(k9);var iv,uO;function A9(){if(uO)return iv;uO=1;var t=iw(),e=zn(),r=TC(),n=_r();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return iv=i,iv}var av,dO;function O9(){if(dO)return av;dO=1;var t=EC(),e=A9();function r(n,i){return t(e(n,i),1)}return av=r,av}var E9=O9();const P9=Qe(E9);var sv,fO;function T9(){if(fO)return sv;fO=1;var t=yw();function e(r,n){return t(r,n)}return sv=e,sv}var C9=T9();const Ka=Qe(C9);var Bo=1e9,I9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ww,pt=!0,rn="[DecimalError] ",Ba=rn+"Invalid argument: ",zw=rn+"Exponent out of range: ",qo=Math.floor,Aa=Math.pow,R9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Ht=1e7,ht=7,N4=9007199254740991,bf=qo(N4/ht),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return li(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return nt(li(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Ct(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Rr))throw Error(rn+"NaN");if(r.s<1)throw Error(rn+(r.s?"NaN":"-Infinity"));return r.eq(Rr)?new n(0):(pt=!1,e=li(xc(r,a),xc(t,a),a),pt=!0,nt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A4(e,t):S4(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(rn+"NaN");return r.s?(pt=!1,e=li(r,t,0,1).times(t),pt=!0,r.minus(e)):nt(new n(r),i)};xe.naturalExponential=xe.exp=function(){return k4(this)};xe.naturalLogarithm=xe.ln=function(){return xc(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S4(e,t):A4(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ba+t);if(e=Ct(i)+1,n=i.d.length-1,r=n*ht+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(rn+"NaN")}for(t=Ct(u),pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Tn(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qo((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(li(u,a,o+2)).times(.5),Tn(a.d).slice(0,o)===(e=Tn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(nt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;o+=4}return pt=!0,nt(n,r)};xe.times=xe.mul=function(t){var e,r,n,i,a,o,u,d,f,p=this,m=p.constructor,g=p.d,v=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=g.length,f=v.length,d<f&&(a=g,g=v,v=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=a[i]+v[n]*g[i-n-1]+e,a[i--]=u%Ht|0,e=u/Ht|0;a[i]=(a[i]+e)%Ht|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,pt?nt(t,m.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(qn(t,0,Bo),e===void 0?e=n.rounding:qn(e,0,8),nt(r,t+Ct(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Va(n,!0):(qn(t,0,Bo),e===void 0?e=i.rounding:qn(e,0,8),n=nt(new i(n),t+1,e),r=Va(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Va(i):(qn(t,0,Bo),e===void 0?e=a.rounding:qn(e,0,8),n=nt(new a(i),t+Ct(i)+1,e),r=Va(n.abs(),!1,t+Ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return nt(new e(t),Ct(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,i,a,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(Rr);if(u=new d(u),!u.s){if(t.s<1)throw Error(rn+"Infinity");return u}if(u.eq(Rr))return u;if(n=d.precision,t.eq(Rr))return nt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=u.s,o){if((r=p<0?-p:p)<=N4){for(i=new d(Rr),e=Math.ceil(n/ht+4),pt=!1;r%2&&(i=i.times(u),mO(i.d,e)),r=qo(r/2),r!==0;)u=u.times(u),mO(u.d,e);return pt=!0,t.s<0?new d(Rr).div(i):nt(i,n)}}else if(a<0)throw Error(rn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,pt=!1,i=t.times(xc(u,n+f)),pt=!0,i=k4(i),i.s=a,i};xe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ct(i),n=Va(i,r<=a.toExpNeg||r>=a.toExpPos)):(qn(t,1,Bo),e===void 0?e=a.rounding:qn(e,0,8),i=nt(new a(i),t,e),r=Ct(i),n=Va(i,t<=r||r<=a.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(qn(t,1,Bo),e===void 0?e=n.rounding:qn(e,0,8)),nt(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),r=t.constructor;return Va(t,e<=r.toExpNeg||e>=r.toExpPos)};function S4(t,e){var r,n,i,a,o,u,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),pt?nt(e,m):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(m/ht),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/Ht|0,d[a]%=Ht;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,pt?nt(e,m):e}function qn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ba+t)}function Tn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ht-n.length,r&&(a+=Ui(r)),a+=n;o=t[e],n=o+"",r=ht-n.length,r&&(a+=Ui(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var li=(function(){function t(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%Ht|0,o=a/Ht|0;return o&&n.unshift(o),n}function e(n,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ht+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,d,f,p,m,g,v,w,x,b,S,N,_,E,A,O,T,R,$=n.constructor,I=n.s==i.s?1:-1,M=n.d,z=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(rn+"Division by zero");for(d=n.e-i.e,T=z.length,A=M.length,v=new $(I),w=v.d=[],f=0;z[f]==(M[f]||0);)++f;if(z[f]>(M[f]||0)&&--d,a==null?N=a=$.precision:o?N=a+(Ct(n)-Ct(i))+1:N=a,N<0)return new $(0);if(N=N/ht+2|0,f=0,T==1)for(p=0,z=z[0],N++;(f<A||p)&&N--;f++)_=p*Ht+(M[f]||0),w[f]=_/z|0,p=_%z|0;else{for(p=Ht/(z[0]+1)|0,p>1&&(z=t(z,p),M=t(M,p),T=z.length,A=M.length),E=T,x=M.slice(0,T),b=x.length;b<T;)x[b++]=0;R=z.slice(),R.unshift(0),O=z[0],z[1]>=Ht/2&&++O;do p=0,u=e(z,x,T,b),u<0?(S=x[0],T!=b&&(S=S*Ht+(x[1]||0)),p=S/O|0,p>1?(p>=Ht&&(p=Ht-1),m=t(z,p),g=m.length,b=x.length,u=e(m,x,g,b),u==1&&(p--,r(m,T<g?R:z,g))):(p==0&&(u=p=1),m=z.slice()),g=m.length,g<b&&m.unshift(0),r(x,m,b),u==-1&&(b=x.length,u=e(z,x,T,b),u<1&&(p++,r(x,T<b?R:z,b))),b=x.length):u===0&&(p++,x=[0]),w[f++]=p,u&&x[0]?x[b++]=M[E]||0:(x=[M[E]],b=1);while((E++<A||x[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=d,nt(v,o?a+Ct(v)+1:a)}})();function k4(t,e){var r,n,i,a,o,u,d=0,f=0,p=t.constructor,m=p.precision;if(Ct(t)>16)throw Error(zw+Ct(t));if(!t.s)return new p(Rr);for(pt=!1,u=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Aa(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new p(Rr),p.precision=u;;){if(i=nt(i.times(t),u),r=r.times(++d),o=a.plus(li(i,r,u)),Tn(o.d).slice(0,u)===Tn(a.d).slice(0,u)){for(;f--;)a=nt(a.times(a),u);return p.precision=m,e==null?(pt=!0,nt(a,m)):a}a=o}}function Ct(t){for(var e=t.e*ht,r=t.d[0];r>=10;r/=10)e++;return e}function ov(t,e,r){if(e>t.LN10.sd())throw pt=!0,r&&(t.precision=r),Error(rn+"LN10 precision limit exceeded");return nt(new t(t.LN10),e)}function Ui(t){for(var e="";t--;)e+="0";return e}function xc(t,e){var r,n,i,a,o,u,d,f,p,m=1,g=10,v=t,w=v.d,x=v.constructor,b=x.precision;if(v.s<1)throw Error(rn+(v.s?"NaN":"-Infinity"));if(v.eq(Rr))return new x(0);if(e==null?(pt=!1,f=b):f=e,v.eq(10))return e==null&&(pt=!0),ov(x,f);if(f+=g,x.precision=f,r=Tn(w),n=r.charAt(0),a=Ct(v),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Tn(v.d),n=r.charAt(0),m++;a=Ct(v),n>1?(v=new x("0."+r),a++):v=new x(n+"."+r.slice(1))}else return d=ov(x,f+2,b).times(a+""),v=xc(new x(n+"."+r.slice(1)),f-g).plus(d),x.precision=b,e==null?(pt=!0,nt(v,b)):v;for(u=o=v=li(v.minus(Rr),v.plus(Rr),f),p=nt(v.times(v),f),i=3;;){if(o=nt(o.times(p),f),d=u.plus(li(o,new x(i),f)),Tn(d.d).slice(0,f)===Tn(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(ov(x,f+2,b).times(a+""))),u=li(u,new x(m),f),x.precision=b,e==null?(pt=!0,nt(u,b)):u;u=d,i+=2}}function hO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=qo(r/ht),t.d=[],n=(r+1)%ht,r<0&&(n+=ht),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ht;n<i;)t.d.push(+e.slice(n,n+=ht));e=e.slice(n),n=ht-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),pt&&(t.e>bf||t.e<-bf))throw Error(zw+r)}else t.s=0,t.e=0,t.d=[0];return t}function nt(t,e,r){var n,i,a,o,u,d,f,p,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=ht,i=e,f=m[p=0];else{if(p=Math.ceil((n+1)/ht),a=m.length,p>=a)return t;for(f=a=m[p],o=1;a>=10;a/=10)o++;n%=ht,i=n-ht+o}if(r!==void 0&&(a=Aa(10,o-i-1),u=f/a%10|0,d=e<0||m[p+1]!==void 0||f%a,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/Aa(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(a=Ct(t),m.length=1,e=e-a-1,m[0]=Aa(10,(ht-e%ht)%ht),t.e=qo(-e/ht)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=Aa(10,ht-n),m[p]=i>0?(f/Aa(10,o-i)%Aa(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Ht&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Ht)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(pt&&(t.e>bf||t.e<-bf))throw Error(zw+Ct(t));return t}function A4(t,e){var r,n,i,a,o,u,d,f,p,m,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),pt?nt(e,v):e;if(d=t.d,m=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,u=m.length):(r=m,n=f,u=d.length),i=Math.max(Math.ceil(v/ht),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}o=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>o;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=Ht-1;--d[a],d[i]+=Ht}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,pt?nt(e,v):e):new g(0)}function Va(t,e,r){var n,i=Ct(t),a=Tn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ui(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ui(-i-1)+a,r&&(n=r-o)>0&&(a+=Ui(n))):i>=o?(a+=Ui(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ui(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ui(n))),t.s<0?"-"+a:a}function mO(t,e){if(t.length>e)return t.length=e,!0}function O4(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ba+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return hO(o,a.toString())}else if(typeof a!="string")throw Error(Ba+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,R9.test(a))hO(o,a);else throw Error(Ba+a)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O4,i.config=i.set=$9,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function $9(t){if(!t||typeof t!="object")throw Error(rn+"Object expected");var e,r,n,i=["precision",1,Bo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(qo(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ba+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ba+r+": "+n);return this}var Ww=O4(I9);Rr=new Ww(1);const tt=Ww;function M9(t){return q9(t)||B9(t)||L9(t)||D9()}function D9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L9(t,e){if(t){if(typeof t=="string")return Ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(t,e)}}function B9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function q9(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var F9=function(e){return e},E4={},P4=function(e){return e===E4},pO=function(e){return function r(){return arguments.length===0||arguments.length===1&&P4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},U9=function t(e,r){return e===1?r:pO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==E4}).length;return o>=e?r.apply(void 0,i):t(e-o,pO(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(m){return P4(m)?d.shift():m});return r.apply(void 0,M9(p).concat(d))}))})},kh=function(e){return U9(e.length,e)},Rx=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},z9=kh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),W9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return F9;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},a.apply(void 0,arguments))}},$x=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},T4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(u,d){return u===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function H9(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function K9(t,e,r){for(var n=new tt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var V9=kh(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),G9=kh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),X9=kh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ah={rangeStep:K9,getDigitCount:H9,interpolateNumber:V9,uninterpolateNumber:G9,uninterpolateTruncation:X9};function Mx(t){return Q9(t)||J9(t)||C4(t)||Y9()}function Y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Q9(t){if(Array.isArray(t))return Dx(t)}function bc(t,e){return tz(t)||ez(t,e)||C4(t,e)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4(t,e){if(t){if(typeof t=="string")return Dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(t,e)}}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ez(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function tz(t){if(Array.isArray(t))return t}function I4(t){var e=bc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function R4(t,e,r){if(t.lte(0))return new tt(0);var n=Ah.getDigitCount(t.toNumber()),i=new tt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,u=new tt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new tt(Math.ceil(d))}function rz(t,e,r){var n=1,i=new tt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new tt(10).pow(Ah.getDigitCount(t)-1),i=new tt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):r||(i=new tt(Math.floor(t)));var o=Math.floor((e-1)/2),u=W9(z9(function(d){return i.add(new tt(d-o).mul(n)).toNumber()}),Rx);return u(0,e)}function $4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var a=R4(new tt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new tt(0):(o=new tt(t).add(e).div(2),o=o.sub(new tt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new tt(e).sub(o).div(a).toNumber()),f=u+d+1;return f>r?$4(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:a,tickMin:o.sub(new tt(u).mul(a)),tickMax:o.add(new tt(d).mul(a))})}function nz(t){var e=bc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=I4([r,n]),d=bc(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Mx(Rx(0,i-1).map(function(){return 1/0}))):[].concat(Mx(Rx(0,i-1).map(function(){return-1/0})),[p]);return r>n?$x(m):m}if(f===p)return rz(f,i,a);var g=$4(f,p,o,a),v=g.step,w=g.tickMin,x=g.tickMax,b=Ah.rangeStep(w,x.add(new tt(.1).mul(v)),v);return r>n?$x(b):b}function iz(t,e){var r=bc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=I4([n,i]),u=bc(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),m=R4(new tt(f).sub(d).div(p-1),a,0),g=[].concat(Mx(Ah.rangeStep(new tt(d),new tt(f).sub(new tt(.99).mul(m)),m)),[f]);return n>i?$x(g):g}var az=T4(nz),sz=T4(iz),oz="Invariant failed";function Ga(t,e){throw new Error(oz)}var lz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function co(t){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function cz(t,e){return hz(t)||fz(t,e)||dz(t,e)||uz()}function uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function hz(t){if(Array.isArray(t))return t}function mz(t,e){if(t==null)return{};var r=pz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L4(n.key),n)}}function vz(t,e,r){return e&&yz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xz(t,e,r){return e=jf(e),bz(t,M4()?Reflect.construct(e,r||[],jf(t).constructor):e.apply(t,r))}function bz(t,e){if(e&&(co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wz(t)}function wz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jf(t)}function jz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lx(t,e)}function D4(t,e,r){return e=L4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4(t){var e=_z(t,"string");return co(e)=="symbol"?e:e+""}function _z(t,e){if(co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=(function(t){function e(){return gz(this,e),xz(this,e,arguments)}return jz(e,t),vz(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,g=mz(n,lz),v=ke(g,!1);this.props.direction==="x"&&p.type!=="number"&&Ga();var w=d.map(function(x){var b=f(x,u),S=b.x,N=b.y,_=b.value,E=b.errorVal;if(!E)return null;var A=[],O,T;if(Array.isArray(E)){var R=cz(E,2);O=R[0],T=R[1]}else O=T=E;if(a==="vertical"){var $=p.scale,I=N+i,M=I+o,z=I-o,U=$(_-O),D=$(_+T);A.push({x1:D,y1:M,x2:D,y2:z}),A.push({x1:U,y1:I,x2:D,y2:I}),A.push({x1:U,y1:M,x2:U,y2:z})}else if(a==="horizontal"){var q=m.scale,H=S+i,ee=H-o,X=H+o,Y=q(_-O),W=q(_+T);A.push({x1:ee,y1:W,x2:X,y2:W}),A.push({x1:H,y1:Y,x2:H,y2:W}),A.push({x1:ee,y1:Y,x2:X,y2:Y})}return F.createElement(qe,wf({className:"recharts-errorBar",key:"bar-".concat(A.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},v),A.map(function(L){return F.createElement("line",wf({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return F.createElement(qe,{className:"recharts-errorBars"},w)}}])})(F.Component);D4(eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D4(eu,"displayName","ErrorBar");function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){Nz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nz(t,e,r){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sz(t){var e=kz(t,"string");return wc(e)=="symbol"?e:e+""}function kz(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Cr(r,Ks);if(!o)return null;var u=Ks.defaultProps,d=u!==void 0?wa(wa({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(p,m){var g=m.item,v=m.props,w=v.sectors||v.data||[];return p.concat(w.map(function(x){return{type:o.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(p){var m=p.item,g=m.type.defaultProps,v=g!==void 0?wa(wa({},g),m.props):{},w=v.dataKey,x=v.name,b=v.legendType,S=v.hide;return{inactive:S,dataKey:w,type:d.iconType||b||"square",color:Hw(m),value:x||w,payload:v}}),wa(wa(wa({},d),Ks.getWithHeight(o,i)),{},{payload:f,item:o})};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function vO(t){return Pz(t)||Ez(t)||Oz(t)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oz(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function Ez(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pz(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){Gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gs(t,e,r){return e=Tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tz(t){var e=Cz(t,"string");return jc(e)=="symbol"?e:e+""}function Cz(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kt(t,e,r){return $e(t)||$e(e)?r:Bt(e)?Dr(t,e,r):Ie(e)?e(t):r}function Xl(t,e,r,n){var i=P9(t,function(u){return kt(u,e)});if(r==="number"){var a=i.filter(function(u){return le(u)||parseFloat(u)});return a.length?[Sh(a),Ki(a)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!$e(u)}):i;return o.map(function(u){return Bt(u)||u instanceof Date?u:""})}var Iz=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,g=f>=u-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(ur(m-p)!==ur(g-m)){var w=[];if(ur(g-m)===ur(d[1]-d[0])){v=g;var x=m+d[1]-d[0];w[0]=Math.min(x,(x+p)/2),w[1]=Math.max(x,(x+p)/2)}else{v=p;var b=g+d[1]-d[0];w[0]=Math.min(m,(b+m)/2),w[1]=Math.max(m,(b+m)/2)}var S=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>S[0]&&e<=S[1]||e>=w[0]&&e<=w[1]){o=i[f].index;break}}else{var N=Math.min(p,g),_=Math.max(p,g);if(e>(N+m)/2&&e<=(_+m)/2){o=i[f].index;break}}}else for(var E=0;E<u;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===u-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},Hw=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},Rz=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),d=0,f=u.length;d<f;d++)for(var p=a[u[d]].stackGroups,m=Object.keys(p),g=0,v=m.length;g<v;g++){var w=p[m[g]],x=w.items,b=w.cateAxisId,S=x.filter(function(T){return oi(T.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,_=N!==void 0?wt(wt({},N),S[0].props):S[0].props,E=_.barSize,A=_[b];o[A]||(o[A]=[]);var O=$e(E)?r:E;o[A].push({item:S[0],stackList:S.slice(1),barSize:$e(O)?void 0:dr(O,n,0)})}}return o},$z=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=dr(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/d,w=o.reduce(function(E,A){return E+A.barSize||0},0);w+=(d-1)*f,w>=i&&(w-=(d-1)*f,f=0),w>=i&&v>0&&(g=!0,v*=.9,w=d*v);var x=(i-w)/2>>0,b={offset:x-f,size:0};p=o.reduce(function(E,A){var O={item:A.item,position:{offset:b.offset+b.size+f,size:g?v:A.barSize}},T=[].concat(vO(E),[O]);return b=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){T.push({item:R,position:b})}),T},m)}else{var S=dr(n,i,0,!0);i-2*S-(d-1)*f<=0&&(f=0);var N=(i-2*S-(d-1)*f)/d;N>1&&(N>>=0);var _=u===+u?Math.min(N,u):N;p=o.reduce(function(E,A,O){var T=[].concat(vO(E),[{item:A.item,position:{offset:S+(N+f)*O+(N-_)/2,size:_}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){T.push({item:R,position:T[T.length-1].position})}),T},m)}return p},Mz=function(e,r,n,i){var a=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=B4({children:a,legendWidth:d});if(f){var p=i||{},m=p.width,g=p.height,v=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&v!=="center"&&le(e[v]))return wt(wt({},e),{},Gs({},v,e[v]+(m||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&w!=="middle"&&le(e[w]))return wt(wt({},e),{},Gs({},w,e[w]+(g||0)))}return e},Dz=function(e,r,n){return $e(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q4=function(e,r,n,i,a){var o=r.props.children,u=Lr(o,eu).filter(function(f){return Dz(i,a,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var m=kt(p,n);if($e(m))return f;var g=Array.isArray(m)?[Sh(m),Ki(m)]:[m,m],v=d.reduce(function(w,x){var b=kt(p,x,0),S=g[0]-Math.abs(Array.isArray(b)?b[0]:b),N=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,w[0]),Math.max(N,w[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},Lz=function(e,r,n,i,a){var o=r.map(function(u){return q4(e,u,n,a,i)}).filter(function(u){return!$e(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},F4=function(e,r,n,i,a){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&q4(e,d,f,i)||Xl(e,f,n,a)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},U4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},z4=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,o,u=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(o=!0),d.coordinate});return a||u.push(r),o||u.push(n),u},ai=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?ur(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var g=a?a.indexOf(m):m;return{coordinate:i(g)+f,value:m,offset:f}});return p.filter(function(m){return!Mo(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+f,value:m,index:g,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,g){return{coordinate:i(m)+f,value:a?a[m]:m,index:g,offset:f}})},lv=new WeakMap,jd=function(e,r){if(typeof r!="function")return e;lv.has(e)||lv.set(e,new WeakMap);var n=lv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},W4=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:mc(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:gf(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gl(),realScaleType:"point"}:a==="category"?{scale:mc(),realScaleType:"band"}:{scale:gf(),realScaleType:"linear"};if(za(i)){var d="scale".concat(uh(i));return{scale:(iO[d]||Gl)(),realScaleType:iO[d]?d:"point"}}return Ie(i)?{scale:i}:{scale:Gl(),realScaleType:"point"}},bO=1e-4,H4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-bO,o=Math.max(i[0],i[1])+bO,u=e(r[0]),d=e(r[n-1]);(u<a||u>o||d<a||d>o)&&e.domain([r[0],r[n-1]])}},Bz=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},qz=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(a[0]=n),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Fz=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,u=0;u<r;++u){var d=Mo(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=a,e[u][n][1]=a+d,a=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},Uz=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var u=Mo(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},zz={sign:Fz,expand:P8,none:to,silhouette:T8,wiggle:C8,positive:Uz},Wz=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=zz[n],o=E8().keys(i).value(function(u,d){return+kt(u,d,0)}).order(px).offset(a);return o(e)},Hz=function(e,r,n,i,a,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(m,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?wt(wt({},g.type.defaultProps),g.props):g.props,x=w.stackId,b=w.hide;if(b)return m;var S=w[n],N=m[S]||{hasStack:!1,stackGroups:{}};if(Bt(x)){var _=N.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(g),N.hasStack=!0,N.stackGroups[x]=_}else N.stackGroups[Qa("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return wt(wt({},m),{},Gs({},S,N))},d),p={};return Object.keys(f).reduce(function(m,g){var v=f[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,b){var S=v.stackGroups[b];return wt(wt({},x),{},Gs({},b,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:Wz(e,S.items,a)}))},w)}return wt(wt({},m),{},Gs({},g,v))},p)},K4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=az(f,a,u);return e.domain([Sh(p),Ki(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),g=sz(m,a,u);return{niceTicks:g}}return null};function _f(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$e(i[e.dataKey])){var u=Jd(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=kt(i,$e(o)?e.dataKey:o);return $e(d)?null:e.scale(d)}var wO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=kt(o,r.dataKey,r.domain[u]);return $e(d)?null:r.scale(d)-a/2+i},Kz=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Vz=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Bt(a)){var o=r[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},Gz=function(e){return e.reduce(function(r,n){return[Sh(n.concat([r[0]]).filter(le)),Ki(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},V4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,d=u.reduce(function(f,p){var m=Gz(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qx=function(e,r,n){if(Ie(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(jO.test(e[0])){var a=+jO.exec(e[0])[1];i[0]=r[0]-a}else Ie(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(_O.test(e[1])){var o=+_O.exec(e[1])[1];i[1]=r[1]+o}else Ie(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Nf=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=xw(r,function(m){return m.coordinate}),o=1/0,u=1,d=a.length;u<d;u++){var f=a[u],p=a[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},NO=function(e,r,n){return!e||!e.length||Ka(e,Dr(n,"type.defaultProps.domain"))?r:e},G4=function(e,r){var n=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return wt(wt({},ke(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:Hw(e),value:kt(r,i),type:d,payload:r,chartType:f,hide:p})};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){X4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X4(t,e,r){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xz(t){var e=Yz(t,"string");return _c(e)=="symbol"?e:e+""}function Yz(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t,e){return tW(t)||eW(t,e)||Zz(t,e)||Qz()}function Qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(t,e){if(t){if(typeof t=="string")return kO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kO(t,e)}}function kO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function tW(t){if(Array.isArray(t))return t}var Sf=Math.PI/180,rW=function(e){return e*180/Math.PI},ct=function(e,r,n,i){return{x:e+Math.cos(-Sf*i)*n,y:r+Math.sin(-Sf*i)*n}},Y4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nW=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,p=dr(e.cx,o,o/2),m=dr(e.cy,u,u/2),g=Y4(o,u,n),v=dr(e.innerRadius,g,0),w=dr(e.outerRadius,g,g*.8),x=Object.keys(r);return x.reduce(function(b,S){var N=r[S],_=N.domain,E=N.reversed,A;if($e(N.range))i==="angleAxis"?A=[d,f]:i==="radiusAxis"&&(A=[v,w]),E&&(A=[A[1],A[0]]);else{A=N.range;var O=A,T=Jz(O,2);d=T[0],f=T[1]}var R=W4(N,a),$=R.realScaleType,I=R.scale;I.domain(_).range(A),H4(I);var M=K4(I,ei(ei({},N),{},{realScaleType:$})),z=ei(ei(ei({},N),M),{},{range:A,radius:w,realScaleType:$,scale:I,cx:p,cy:m,innerRadius:v,outerRadius:w,startAngle:d,endAngle:f});return ei(ei({},b),{},X4({},S,z))},{})},iW=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},aW=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,u=iW({x:n,y:i},{x:a,y:o});if(u<=0)return{radius:u};var d=(n-a)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:rW(f),angleInRadian:f}},sW=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},oW=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},AO=function(e,r){var n=e.x,i=e.y,a=aW({x:n,y:i},r),o=a.radius,u=a.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=sW(r),m=p.startAngle,g=p.endAngle,v=u,w;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=m}return w?ei(ei({},r),{},{radius:o,angle:oW(v,r)}):null},J4=function(e){return!P.isValidElement(e)&&!Ie(e)&&typeof e!="boolean"?e.className:""};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var lW=["offset"];function cW(t){return hW(t)||fW(t)||dW(t)||uW()}function uW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return Fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fx(t,e)}}function fW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hW(t){if(Array.isArray(t))return Fx(t)}function Fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mW(t,e){if(t==null)return{};var r=pW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){gW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gW(t,e,r){return e=yW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yW(t){var e=vW(t,"string");return Nc(e)=="symbol"?e:e+""}function vW(t,e){if(Nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sc.apply(this,arguments)}var xW=function(e){var r=e.value,n=e.formatter,i=$e(e.children)?r:e.children;return Ie(n)?n(i):i},bW=function(e,r){var n=ur(r-e),i=Math.min(Math.abs(r-e),360);return n*i},wW=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,d=a,f=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,v=d.startAngle,w=d.endAngle,x=d.clockWise,b=(m+g)/2,S=bW(v,w),N=S>=0?1:-1,_,E;i==="insideStart"?(_=v+N*o,E=x):i==="insideEnd"?(_=w-N*o,E=!x):i==="end"&&(_=w+N*o,E=x),E=S<=0?E:!E;var A=ct(f,p,b,_),O=ct(f,p,b,_+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),R=$e(e.id)?Qa("recharts-radial-line-"):e.id;return F.createElement("text",Sc({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",u)}),F.createElement("defs",null,F.createElement("path",{id:R,d:T})),F.createElement("textPath",{xlinkHref:"#".concat(R)},r))},jW=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,u=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,m=a.endAngle,g=(p+m)/2;if(i==="outside"){var v=ct(o,u,f+n,g),w=v.x,x=v.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,S=ct(o,u,b,g),N=S.x,_=S.y;return{x:N,y:_,textAnchor:"middle",verticalAnchor:"middle"}},_W=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,u=o.x,d=o.y,f=o.width,p=o.height,m=p>=0?1:-1,g=m*i,v=m>0?"end":"start",w=m>0?"start":"end",x=f>=0?1:-1,b=x*i,S=x>0?"end":"start",N=x>0?"start":"end";if(a==="top"){var _={x:u+f/2,y:d-m*i,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},_),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var E={x:u+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:w};return Mt(Mt({},E),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(a==="left"){var A={x:u-b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return Mt(Mt({},A),n?{width:Math.max(A.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:u+f+b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return Mt(Mt({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var T=n?{width:f,height:p}:{};return a==="insideLeft"?Mt({x:u+b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},T):a==="insideRight"?Mt({x:u+f-b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},T):a==="insideTop"?Mt({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},T):a==="insideBottom"?Mt({x:u+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:v},T):a==="insideTopLeft"?Mt({x:u+b,y:d+g,textAnchor:N,verticalAnchor:w},T):a==="insideTopRight"?Mt({x:u+f-b,y:d+g,textAnchor:S,verticalAnchor:w},T):a==="insideBottomLeft"?Mt({x:u+b,y:d+p-g,textAnchor:N,verticalAnchor:v},T):a==="insideBottomRight"?Mt({x:u+f-b,y:d+p-g,textAnchor:S,verticalAnchor:v},T):$o(a)&&(le(a.x)||Ca(a.x))&&(le(a.y)||Ca(a.y))?Mt({x:u+dr(a.x,f),y:d+dr(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):Mt({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},NW=function(e){return"cx"in e&&le(e.cx)};function Kt(t){var e=t.offset,r=e===void 0?5:e,n=mW(t,lW),i=Mt({offset:r},n),a=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,p=i.className,m=p===void 0?"":p,g=i.textBreakAll;if(!a||$e(u)&&$e(d)&&!P.isValidElement(f)&&!Ie(f))return null;if(P.isValidElement(f))return P.cloneElement(f,i);var v;if(Ie(f)){if(v=P.createElement(f,i),P.isValidElement(v))return v}else v=xW(i);var w=NW(a),x=ke(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wW(i,v,x);var b=w?jW(i):_W(i);return F.createElement(Ha,Sc({className:De("recharts-label",m)},x,b,{breakAll:g}),v)}Kt.displayName="Label";var Q4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,m=e.x,g=e.y,v=e.top,w=e.left,x=e.width,b=e.height,S=e.clockWise,N=e.labelViewBox;if(N)return N;if(le(x)&&le(b)){if(le(m)&&le(g))return{x:m,y:g,width:x,height:b};if(le(v)&&le(w))return{x:v,y:w,width:x,height:b}}return le(m)&&le(g)?{x:m,y:g,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:S}:e.viewBox?e.viewBox:{}},SW=function(e,r){return e?e===!0?F.createElement(Kt,{key:"label-implicit",viewBox:r}):Bt(e)?F.createElement(Kt,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Kt?P.cloneElement(e,{key:"label-implicit",viewBox:r}):F.createElement(Kt,{key:"label-implicit",content:e,viewBox:r}):Ie(e)?F.createElement(Kt,{key:"label-implicit",content:e,viewBox:r}):$o(e)?F.createElement(Kt,Sc({viewBox:r},e,{key:"label-implicit"})):null:null},kW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Q4(e),o=Lr(i,Kt).map(function(d,f){return P.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var u=SW(e.label,r||a);return[u].concat(cW(o))};Kt.parseViewBox=Q4;Kt.renderCallByParent=kW;var cv,EO;function AW(){if(EO)return cv;EO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return cv=t,cv}var OW=AW();const EW=Qe(OW);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}var PW=["valueAccessor"],TW=["data","dataKey","clockWise","id","textBreakAll"];function CW(t){return MW(t)||$W(t)||RW(t)||IW()}function IW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(t,e){if(t){if(typeof t=="string")return Ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(t,e)}}function $W(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MW(t){if(Array.isArray(t))return Ux(t)}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kf.apply(this,arguments)}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){DW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DW(t,e,r){return e=LW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LW(t){var e=BW(t,"string");return kc(e)=="symbol"?e:e+""}function BW(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CO(t,e){if(t==null)return{};var r=qW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var FW=function(e){return Array.isArray(e.value)?EW(e.value):e.value};function Dn(t){var e=t.valueAccessor,r=e===void 0?FW:e,n=CO(t,PW),i=n.data,a=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=CO(n,TW);return!i||!i.length?null:F.createElement(qe,{className:"recharts-label-list"},i.map(function(p,m){var g=$e(a)?r(p,m):kt(p&&p.payload,a),v=$e(u)?{}:{id:"".concat(u,"-").concat(m)};return F.createElement(Kt,kf({},ke(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Kt.parseViewBox($e(o)?p:TO(TO({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Dn.displayName="LabelList";function UW(t,e){return t?t===!0?F.createElement(Dn,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ie(t)?F.createElement(Dn,{key:"labelList-implicit",data:e,content:t}):$o(t)?F.createElement(Dn,kf({data:e},t,{key:"labelList-implicit"})):null:null}function zW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Lr(n,Dn).map(function(o,u){return P.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=UW(t.label,e);return[a].concat(CW(i))}Dn.renderCallByParent=zW;function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(this,arguments)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){WW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WW(t,e,r){return e=HW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HW(t){var e=KW(t,"string");return Ac(e)=="symbol"?e:e+""}function KW(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VW=function(e,r){var n=ur(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},_d=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+i,m=Math.asin(d/p)/Sf,g=f?a:a+o*m,v=ct(r,n,p,g),w=ct(r,n,i,g),x=f?a-o*m:a,b=ct(r,n,p*Math.cos(m*Sf),x);return{center:v,circleTangency:w,lineTangency:b,theta:m}},Z4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,d=VW(o,u),f=o+d,p=ct(r,n,a,o),m=ct(r,n,a,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=ct(r,n,i,o),w=ct(r,n,i,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},GW=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,m=ur(p-f),g=_d({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:o,cornerIsExternal:d}),v=g.circleTangency,w=g.lineTangency,x=g.theta,b=_d({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:d}),S=b.circleTangency,N=b.lineTangency,_=b.theta,E=d?Math.abs(f-p):Math.abs(f-p)-x-_;if(E<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Z4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var O=_d({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=O.circleTangency,R=O.lineTangency,$=O.theta,I=_d({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),M=I.circleTangency,z=I.lineTangency,U=I.theta,D=d?Math.abs(f-p):Math.abs(f-p)-$-U;if(D<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},XW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eI=function(e){var r=RO(RO({},XW),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(o<a||p===m)return null;var v=De("recharts-sector",g),w=o-a,x=dr(u,w,0,!0),b;return x>0&&Math.abs(p-m)<360?b=GW({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):b=Z4({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:m}),F.createElement("path",zx({},ke(r,!0),{className:v,d:b,role:"img"}))};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wx.apply(this,arguments)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=JW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JW(t){var e=QW(t,"string");return Oc(e)=="symbol"?e:e+""}function QW(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO={curveBasisClosed:v8,curveBasisOpen:x8,curveBasis:y8,curveBumpX:n8,curveBumpY:i8,curveLinearClosed:b8,curveLinear:fh,curveMonotoneX:w8,curveMonotoneY:j8,curveNatural:_8,curveStep:N8,curveStepAfter:k8,curveStepBefore:S8},Nd=function(e){return e.x===+e.x&&e.y===+e.y},$l=function(e){return e.x},Ml=function(e){return e.y},ZW=function(e,r){if(Ie(e))return e;var n="curve".concat(uh(e));return(n==="curveMonotone"||n==="curveBump")&&r?DO["".concat(n).concat(r==="vertical"?"Y":"X")]:DO[n]||fh},eH=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=ZW(n,u),m=f?a.filter(function(x){return Nd(x)}):a,g;if(Array.isArray(o)){var v=f?o.filter(function(x){return Nd(x)}):o,w=m.map(function(x,b){return MO(MO({},x),{},{base:v[b]})});return u==="vertical"?g=md().y(Ml).x1($l).x0(function(x){return x.base.x}):g=md().x($l).y1(Ml).y0(function(x){return x.base.y}),g.defined(Nd).curve(p),g(w)}return u==="vertical"&&le(o)?g=md().y(Ml).x1($l).x0(o):le(o)?g=md().x($l).y1(Ml).y0(o):g=QT().x($l).y(Ml),g.defined(Nd).curve(p),g(m)},qa=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?eH(e):i;return P.createElement("path",Wx({},ke(e,!1),Qd(e),{className:De("recharts-curve",r),d:o,ref:a}))},uv={exports:{}},dv,LO;function tH(){if(LO)return dv;LO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dv=t,dv}var fv,BO;function rH(){if(BO)return fv;BO=1;var t=tH();function e(){}function r(){}return r.resetWarningCache=e,fv=function(){function n(o,u,d,f,p,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},fv}var qO;function nH(){return qO||(qO=1,uv.exports=rH()()),uv.exports}var iH=nH();const Je=Qe(iH);var aH=Object.getOwnPropertyNames,sH=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty;function FO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Sd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),u=a.get(n);if(o&&u)return o===n&&u===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function lH(t){return t!=null?t[Symbol.toStringTag]:void 0}function UO(t){return aH(t).concat(sH(t))}var cH=Object.hasOwn||(function(t,e){return oH.call(t,e)});function ts(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var uH="__v",dH="__o",fH="_owner",zO=Object.getOwnPropertyDescriptor,WO=Object.keys;function hH(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function mH(t,e){return ts(t.getTime(),e.getTime())}function pH(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gH(t,e){return t===e}function HO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,u,d=0;(o=a.next())&&!o.done;){for(var f=e.entries(),p=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var g=o.value,v=u.value;if(r.equals(g[0],v[0],d,m,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}var yH=ts;function vH(t,e,r){var n=WO(t),i=n.length;if(WO(e).length!==i)return!1;for(;i-- >0;)if(!tI(t,e,r,n[i]))return!1;return!0}function Dl(t,e,r){var n=UO(t),i=n.length;if(UO(e).length!==i)return!1;for(var a,o,u;i-- >0;)if(a=n[i],!tI(t,e,r,a)||(o=zO(t,a),u=zO(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function xH(t,e){return ts(t.valueOf(),e.valueOf())}function bH(t,e){return t.source===e.source&&t.flags===e.flags}function KO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,u;(o=a.next())&&!o.done;){for(var d=e.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function wH(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function jH(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tI(t,e,r,n){return(n===fH||n===dH||n===uH)&&(t.$$typeof||e.$$typeof)?!0:cH(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var _H="[object Arguments]",NH="[object Boolean]",SH="[object Date]",kH="[object Error]",AH="[object Map]",OH="[object Number]",EH="[object Object]",PH="[object RegExp]",TH="[object Set]",CH="[object String]",IH="[object URL]",RH=Array.isArray,VO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GO=Object.assign,$H=Object.prototype.toString.call.bind(Object.prototype.toString);function MH(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,v=t.unknownTagComparators;return function(x,b,S){if(x===b)return!0;if(x==null||b==null)return!1;var N=typeof x;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?o(x,b,S):N==="function"?i(x,b,S):!1;var _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return u(x,b,S);if(RH(x))return e(x,b,S);if(VO!=null&&VO(x))return m(x,b,S);if(_===Date)return r(x,b,S);if(_===RegExp)return f(x,b,S);if(_===Map)return a(x,b,S);if(_===Set)return p(x,b,S);var E=$H(x);if(E===SH)return r(x,b,S);if(E===PH)return f(x,b,S);if(E===AH)return a(x,b,S);if(E===TH)return p(x,b,S);if(E===EH)return typeof x.then!="function"&&typeof b.then!="function"&&u(x,b,S);if(E===IH)return g(x,b,S);if(E===kH)return n(x,b,S);if(E===_H)return u(x,b,S);if(E===NH||E===OH||E===CH)return d(x,b,S);if(v){var A=v[E];if(!A){var O=lH(x);O&&(A=v[O])}if(A)return A(x,b,S)}return!1}}function DH(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Dl:hH,areDatesEqual:mH,areErrorsEqual:pH,areFunctionsEqual:gH,areMapsEqual:n?FO(HO,Dl):HO,areNumbersEqual:yH,areObjectsEqual:n?Dl:vH,arePrimitiveWrappersEqual:xH,areRegExpsEqual:bH,areSetsEqual:n?FO(KO,Dl):KO,areTypedArraysEqual:n?Dl:wH,areUrlsEqual:jH,unknownTagComparators:void 0};if(r&&(i=GO({},i,r(i))),e){var a=Sd(i.areArraysEqual),o=Sd(i.areMapsEqual),u=Sd(i.areObjectsEqual),d=Sd(i.areSetsEqual);i=GO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function LH(t){return function(e,r,n,i,a,o,u){return t(e,r,u)}}function BH(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,f){var p=n(),m=p.cache,g=m===void 0?e?new WeakMap:void 0:m,v=p.meta;return r(d,f,{cache:g,equals:i,meta:v,strict:a})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return r(d,f,o)}}var qH=ia();ia({strict:!0});ia({circular:!0});ia({circular:!0,strict:!0});ia({createInternalComparator:function(){return ts}});ia({strict:!0,createInternalComparator:function(){return ts}});ia({circular:!0,createInternalComparator:function(){return ts}});ia({circular:!0,createInternalComparator:function(){return ts},strict:!0});function ia(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,u=DH(t),d=MH(u),f=n?n(d):LH(d);return BH({circular:r,comparator:d,createState:i,equals:f,strict:o})}function FH(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):FH(i)};requestAnimationFrame(n)}function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(t)}function UH(t){return KH(t)||HH(t)||WH(t)||zH()}function zH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,e){if(t){if(typeof t=="string")return YO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(t,e)}}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KH(t){if(Array.isArray(t))return t}function VH(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,u=UH(o),d=u[0],f=u.slice(1);if(typeof d=="number"){XO(i.bind(null,f),d);return}i(d),XO(i.bind(null,f));return}Hx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){rI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rI(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=XH(t,"string");return Ec(e)==="symbol"?e:String(e)}function XH(t,e){if(Ec(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YH=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},JH=function(e){return e},QH=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yl=function(e,r){return Object.keys(r).reduce(function(n,i){return QO(QO({},n),{},rI({},i,e(i,r[i])))},{})},ZO=function(e,r,n){return e.map(function(i){return"".concat(QH(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ZH(t,e){return rK(t)||tK(t,e)||nI(t,e)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function rK(t){if(Array.isArray(t))return t}function nK(t){return sK(t)||aK(t)||nI(t)||iK()}function iK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nI(t,e){if(t){if(typeof t=="string")return Kx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(t,e)}}function aK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sK(t){if(Array.isArray(t))return Kx(t)}function Kx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Af=1e-4,iI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},aI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},eE=function(e,r){return function(n){var i=iI(e,r);return aI(i,n)}},oK=function(e,r){return function(n){var i=iI(e,r),a=[].concat(nK(i.map(function(o,u){return o*u}).slice(1)),[0]);return aI(a,n)}},tE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=ZH(f,4);i=p[0],a=p[1],o=p[2],u=p[3]}}}var m=eE(i,o),g=eE(a,u),v=oK(i,o),w=function(S){return S>1?1:S<0?0:S},x=function(S){for(var N=S>1?1:S,_=N,E=0;E<8;++E){var A=m(_)-N,O=v(_);if(Math.abs(A-N)<Af||O<Af)return g(_);_=w(_-A/O)}return g(_)};return x.isStepper=!1,x},lK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(p,m,g){var v=-(p-m)*n,w=g*a,x=g+(v-w)*u/1e3,b=g*u/1e3+p;return Math.abs(b-m)<Af&&Math.abs(x)<Af?[m,0]:[b,x]};return d.isStepper=!0,d.dt=u,d},cK=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tE(i);case"spring":return lK();default:if(i.split("(")[0]==="cubic-bezier")return tE(i)}return typeof i=="function"?i:null};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function rE(t){return fK(t)||dK(t)||sI(t)||uK()}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fK(t){if(Array.isArray(t))return Gx(t)}function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){Vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vx(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=mK(t,"string");return Pc(e)==="symbol"?e:String(e)}function mK(t,e){if(Pc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pK(t,e){return vK(t)||yK(t,e)||sI(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sI(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function vK(t){if(Array.isArray(t))return t}var Of=function(e,r,n){return e+(r-e)*n},Xx=function(e){var r=e.from,n=e.to;return r!==n},xK=function t(e,r,n){var i=Yl(function(a,o){if(Xx(o)){var u=e(o.from,o.to,o.velocity),d=pK(u,2),f=d[0],p=d[1];return Jt(Jt({},o),{},{from:f,velocity:p})}return o},r);return n<1?Yl(function(a,o){return Xx(o)?Jt(Jt({},o),{},{velocity:Of(o.velocity,i[a].velocity,n),from:Of(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const bK=(function(t,e,r,n,i){var a=YH(t,e),o=a.reduce(function(b,S){return Jt(Jt({},b),{},Vx({},S,[t[S],e[S]]))},{}),u=a.reduce(function(b,S){return Jt(Jt({},b),{},Vx({},S,{from:t[S],velocity:0,to:e[S]}))},{}),d=-1,f,p,m=function(){return null},g=function(){return Yl(function(S,N){return N.from},u)},v=function(){return!Object.values(u).filter(Xx).length},w=function(S){f||(f=S);var N=S-f,_=N/r.dt;u=xK(r,u,_),i(Jt(Jt(Jt({},t),e),g())),f=S,v()||(d=requestAnimationFrame(m))},x=function(S){p||(p=S);var N=(S-p)/n,_=Yl(function(A,O){return Of.apply(void 0,rE(O).concat([r(N)]))},o);if(i(Jt(Jt(Jt({},t),e),_)),N<1)d=requestAnimationFrame(m);else{var E=Yl(function(A,O){return Of.apply(void 0,rE(O).concat([r(1)]))},o);i(Jt(Jt(Jt({},t),e),E))}};return m=r.isStepper?w:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}var wK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jK(t,e){if(t==null)return{};var r=_K(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _K(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function hv(t){return AK(t)||kK(t)||SK(t)||NK()}function NK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SK(t,e){if(t){if(typeof t=="string")return Yx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yx(t,e)}}function kK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AK(t){if(Array.isArray(t))return Yx(t)}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){zl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zl(t,e,r){return e=oI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oI(n.key),n)}}function PK(t,e,r){return e&&EK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oI(t){var e=TK(t,"string");return uo(e)==="symbol"?e:String(e)}function TK(t,e){if(uo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jx(t,e)}function Jx(t,e){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jx(t,e)}function IK(t){var e=RK();return function(){var n=Ef(t),i;if(e){var a=Ef(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qx(this,i)}}function Qx(t,e){if(e&&(uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zx(t)}function Zx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(t)}var jn=(function(t){CK(r,t);var e=IK(r);function r(n,i){var a;OK(this,r),a=e.call(this,n,i);var o=a.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,m=o.steps,g=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Zx(a)),a.changeStyle=a.changeStyle.bind(Zx(a)),!u||v<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:p}),Qx(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof g=="function")return a.state={style:f},Qx(a);a.state={style:d?zl({},d,f):f}}else a.state={style:{}};return a}return PK(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,m=a.from,g=this.state.style;if(u){if(!o){var v={style:d?zl({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(v);return}if(!(qH(i.to,p)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?m:i.to;if(this.state&&g){var b={style:d?zl({},d,x):x};(d&&g[d]!==x||!d&&g!==x)&&this.setState(b)}this.runAnimation(fn(fn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,v=bK(o,u,cK(f),d,this.changeStyle),w=function(){a.stopJSAnimation=v()};this.manager.start([g,p,w,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,m=f.duration,g=m===void 0?0:m,v=function(x,b,S){if(S===0)return x;var N=b.duration,_=b.easing,E=_===void 0?"ease":_,A=b.style,O=b.properties,T=b.onAnimationEnd,R=S>0?o[S-1]:b,$=O||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(hv(x),[a.runJSAnimation.bind(a,{from:R.style,to:A,duration:N,easing:E}),N]);var I=ZO($,N,E),M=fn(fn(fn({},R.style),A),{},{transition:I});return[].concat(hv(x),[M,N,T]).filter(JH)};return this.manager.start([d].concat(hv(o.reduce(v,[p,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=VH());var a=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var x=u?zl({},u,d):d,b=ZO(Object.keys(x),o,f);w.start([p,a,fn(fn({},x),{},{transition:b}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=jK(i,wK),f=P.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||f===0||o<=0)return a;var m=function(v){var w=v.props,x=w.style,b=x===void 0?{}:x,S=w.className,N=P.cloneElement(v,fn(fn({},d),{},{style:fn(fn({},b),p),className:S}));return N};return f===1?m(P.Children.only(a)):F.createElement("div",null,P.Children.map(a,function(g){return m(g)}))}}]),r})(P.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pf.apply(this,arguments)}function $K(t,e){return BK(t)||LK(t,e)||DK(t,e)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function BK(t){if(Array.isArray(t))return t}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){qK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qK(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=UK(t,"string");return Tc(e)=="symbol"?e:e+""}function UK(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lE=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=a[g]>o?o:a[g];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var w=Math.min(o,a);p="M ".concat(e,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+d*w,",").concat(r,`
            L `).concat(e+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*w,`
            L `).concat(e+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-d*w,",").concat(r+i,`
            L `).concat(e+d*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*w," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},zK=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(a,a+u),p=Math.max(a,a+u),m=Math.min(o,o+d),g=Math.max(o,o+d);return n>=f&&n<=p&&i>=m&&i<=g}return!1},WK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kw=function(e){var r=oE(oE({},WK),e),n=P.useRef(),i=P.useState(-1),a=$K(i,2),o=a[0],u=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,g=r.radius,v=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var _=De("recharts-rectangle",v);return N?F.createElement(jn,{canBegin:o>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:x,animationEasing:w,isActive:N},function(E){var A=E.width,O=E.height,T=E.x,R=E.y;return F.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:S,easing:w},F.createElement("path",Pf({},ke(r,!0),{className:_,d:lE(T,R,A,O,g),ref:n})))}):F.createElement("path",Pf({},ke(r,!0),{className:_,d:lE(d,f,p,m,g)}))},HK=["points","className","baseLinePoints","connectNulls"];function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fs.apply(this,arguments)}function KK(t,e){if(t==null)return{};var r=VK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cE(t){return JK(t)||YK(t)||XK(t)||GK()}function GK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(t,e){if(t){if(typeof t=="string")return eb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(t,e)}}function YK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JK(t){if(Array.isArray(t))return eb(t)}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uE=function(e){return e&&e.x===+e.x&&e.y===+e.y},QK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){uE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),uE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Jl=function(e,r){var n=QK(e);r&&(n=[n.reduce(function(a,o){return[].concat(cE(a),cE(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ZK=function(e,r,n){var i=Jl(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Jl(r.reverse(),n).slice(1))},eV=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=KK(e,HK);if(!r||!r.length)return null;var u=De("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=ZK(r,i,a);return F.createElement("g",{className:u},F.createElement("path",Fs({},ke(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?F.createElement("path",Fs({},ke(o,!0),{fill:"none",d:Jl(r,a)})):null,d?F.createElement("path",Fs({},ke(o,!0),{fill:"none",d:Jl(i,a)})):null)}var p=Jl(r,a);return F.createElement("path",Fs({},ke(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tb.apply(this,arguments)}var tu=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=De("recharts-dot",a);return r===+r&&n===+n&&i===+i?P.createElement("circle",tb({},ke(e,!1),Qd(e),{className:o,cx:r,cy:n,r:i})):null};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var tV=["x","y","top","left","width","height","className"];function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rb.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){nV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nV(t,e,r){return e=iV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=aV(t,"string");return Cc(e)=="symbol"?e:e+""}function aV(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sV(t,e){if(t==null)return{};var r=oV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lV=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},cV=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,m=p===void 0?0:p,g=e.height,v=g===void 0?0:g,w=e.className,x=sV(e,tV),b=rV({x:n,y:a,top:u,left:f,width:m,height:v},x);return!le(n)||!le(a)||!le(m)||!le(v)||!le(u)||!le(f)?null:F.createElement("path",rb({},ke(b,!0),{className:De("recharts-cross",w),d:lV(n,a,m,v,u,f)}))},mv,fE;function uV(){if(fE)return mv;fE=1;var t=Nh(),e=j4(),r=zn();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return mv=n,mv}var dV=uV();const fV=Qe(dV);var pv,hE;function hV(){if(hE)return pv;hE=1;var t=Nh(),e=zn(),r=_4();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return pv=n,pv}var mV=hV();const pV=Qe(mV);var gV=["cx","cy","angle","ticks","axisLine"],yV=["ticks","tick","angle","tickFormatter","stroke"];function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(this,arguments)}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){Oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pE(t,e){if(t==null)return{};var r=vV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cI(n.key),n)}}function bV(t,e,r){return e&&gE(t.prototype,e),r&&gE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wV(t,e,r){return e=Tf(e),jV(t,lI()?Reflect.construct(e,r||[],Tf(t).constructor):e.apply(t,r))}function jV(t,e){if(e&&(fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _V(t)}function _V(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lI=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(t)}function NV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nb(t,e)}function Oh(t,e,r){return e=cI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cI(t){var e=SV(t,"string");return fo(e)=="symbol"?e:e+""}function SV(t,e){if(fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eh=(function(t){function e(){return xV(this,e),wV(this,e,arguments)}return NV(e,t),bV(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,u=a.cx,d=a.cy;return ct(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=fV(u,function(p){return p.coordinate||0}),f=pV(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=pE(n,gV),p=u.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),m=ct(i,a,p[0],o),g=ct(i,a,p[1],o),v=ja(ja(ja({},ke(f,!1)),{},{fill:"none"},ke(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return F.createElement("line",Ql({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,p=pE(i,yV),m=this.getTickTextAnchor(),g=ke(p,!1),v=ke(o,!1),w=a.map(function(x,b){var S=n.getTickValueCoord(x),N=ja(ja(ja(ja({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},g),{},{stroke:"none",fill:f},v),{},{index:b},S),{},{payload:x});return F.createElement(qe,Ql({className:De("recharts-polar-radius-axis-tick",J4(o)),key:"tick-".concat(x.coordinate)},Wa(n.props,x,b)),e.renderTickItem(o,N,d?d(x.value,b):x.value))});return F.createElement(qe,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:F.createElement(qe,{className:De("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return F.isValidElement(n)?o=F.cloneElement(n,i):Ie(n)?o=n(i):o=F.createElement(Ha,Ql({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(P.PureComponent);Oh(Eh,"displayName","PolarRadiusAxis");Oh(Eh,"axisType","radiusAxis");Oh(Eh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ea.apply(this,arguments)}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dI(n.key),n)}}function AV(t,e,r){return e&&vE(t.prototype,e),r&&vE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OV(t,e,r){return e=Cf(e),EV(t,uI()?Reflect.construct(e,r||[],Cf(t).constructor):e.apply(t,r))}function EV(t,e){if(e&&(ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PV(t)}function PV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uI=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(t)}function TV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ib(t,e)}function Ph(t,e,r){return e=dI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dI(t){var e=CV(t,"string");return ho(e)=="symbol"?e:e+""}function CV(t,e){if(ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IV=Math.PI/180,xE=1e-5,Th=(function(t){function e(){return kV(this,e),OV(this,e,arguments)}return TV(e,t),AV(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,p=f||8,m=ct(a,o,u,n.coordinate),g=ct(a,o,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*IV),o;return a>xE?o=i==="outer"?"start":"end":a<-xE?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=_a(_a({},ke(this.props,!1)),{},{fill:"none"},ke(u,!1));if(d==="circle")return F.createElement(tu,Ea({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var p=this.props.ticks,m=p.map(function(g){return ct(i,a,o,g.coordinate)});return F.createElement(eV,Ea({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,p=ke(this.props,!1),m=ke(o,!1),g=_a(_a({},p),{},{fill:"none"},ke(u,!1)),v=a.map(function(w,x){var b=n.getTickLineCoord(w),S=n.getTickTextAnchor(w),N=_a(_a(_a({textAnchor:S},p),{},{stroke:"none",fill:f},m),{},{index:x,payload:w,x:b.x2,y:b.y2});return F.createElement(qe,Ea({className:De("recharts-polar-angle-axis-tick",J4(o)),key:"tick-".concat(w.coordinate)},Wa(n.props,w,x)),u&&F.createElement("line",Ea({className:"recharts-polar-angle-axis-tick-line"},g,b)),o&&e.renderTickItem(o,N,d?d(w.value,x):w.value))});return F.createElement(qe,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:F.createElement(qe,{className:De("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return F.isValidElement(n)?o=F.cloneElement(n,i):Ie(n)?o=n(i):o=F.createElement(Ha,Ea({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(P.PureComponent);Ph(Th,"displayName","PolarAngleAxis");Ph(Th,"axisType","angleAxis");Ph(Th,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gv,bE;function RV(){if(bE)return gv;bE=1;var t=wC(),e=t(Object.getPrototypeOf,Object);return gv=e,gv}var yv,wE;function $V(){if(wE)return yv;wE=1;var t=mi(),e=RV(),r=pi(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==d}return yv=f,yv}var MV=$V();const DV=Qe(MV);var vv,jE;function LV(){if(jE)return vv;jE=1;var t=mi(),e=pi(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return vv=n,vv}var BV=LV();const qV=Qe(BV);function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},If.apply(this,arguments)}function FV(t,e){return HV(t)||WV(t,e)||zV(t,e)||UV()}function UV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zV(t,e){if(t){if(typeof t=="string")return _E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(t,e)}}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function HV(t){if(Array.isArray(t))return t}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){KV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KV(t,e,r){return e=VV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VV(t){var e=GV(t,"string");return Ic(e)=="symbol"?e:e+""}function GV(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kE=function(e,r,n,i,a){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+a),u+="L ".concat(e+n-o/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},XV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YV=function(e){var r=SE(SE({},XV),e),n=P.useRef(),i=P.useState(-1),a=FV(i,2),o=a[0],u=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,v=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var N=De("recharts-trapezoid",v);return S?F.createElement(jn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:f},duration:x,animationEasing:w,isActive:S},function(_){var E=_.upperWidth,A=_.lowerWidth,O=_.height,T=_.x,R=_.y;return F.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:w},F.createElement("path",If({},ke(r,!0),{className:N,d:kE(T,R,E,A,O),ref:n})))}):F.createElement("g",null,F.createElement("path",If({},ke(r,!0),{className:N,d:kE(d,f,p,m,g)})))},JV=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function QV(t,e){if(t==null)return{};var r=ZV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){eG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eG(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=rG(t,"string");return Rc(e)=="symbol"?e:e+""}function rG(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nG(t,e){return Rf(Rf({},e),t)}function iG(t,e){return t==="symbols"}function OE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return F.createElement(Kw,r);case"trapezoid":return F.createElement(YV,r);case"sector":return F.createElement(eI,r);case"symbols":if(iG(e))return F.createElement(dw,r);break;default:return null}}function aG(t){return P.isValidElement(t)?t.props:t}function fI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?nG:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,d=QV(t,JV),f;if(P.isValidElement(e))f=P.cloneElement(e,Rf(Rf({},d),aG(e)));else if(Ie(e))f=e(d);else if(DV(e)&&!qV(e)){var p=i(e,d);f=F.createElement(OE,{shapeType:r,elementProps:p})}else{var m=d;f=F.createElement(OE,{shapeType:r,elementProps:m})}return u?F.createElement(qe,{className:o},f):f}function Ch(t,e){return e!=null&&"trapezoids"in t.props}function Ih(t,e){return e!=null&&"sectors"in t.props}function $c(t,e){return e!=null&&"points"in t.props}function sG(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function oG(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function lG(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function cG(t,e){var r;return Ch(t,e)?r=sG:Ih(t,e)?r=oG:$c(t,e)&&(r=lG),r}function uG(t,e){var r;return Ch(t,e)?r="trapezoids":Ih(t,e)?r="sectors":$c(t,e)&&(r="points"),r}function dG(t,e){if(Ch(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ih(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $c(t,e)?e.payload:{}}function fG(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=uG(r,e),a=dG(r,e),o=n.filter(function(d,f){var p=Ka(a,d),m=r.props[i].filter(function(w){var x=cG(r,e);return x(w,e)}),g=r.props[i].indexOf(m[m.length-1]),v=f===g;return p&&v}),u=n.indexOf(o[o.length-1]);return u}var qd;function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Us.apply(this,arguments)}function EE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(r),!0).forEach(function(n){Yr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mI(n.key),n)}}function mG(t,e,r){return e&&PE(t.prototype,e),r&&PE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pG(t,e,r){return e=$f(e),gG(t,hI()?Reflect.construct(e,r||[],$f(t).constructor):e.apply(t,r))}function gG(t,e){if(e&&(mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yG(t)}function yG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(t)}function vG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ab(t,e)}function Yr(t,e,r){return e=mI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mI(t){var e=xG(t,"string");return mo(e)=="symbol"?e:e+""}function xG(t,e){if(mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yi=(function(t){function e(r){var n;return hG(this,e),n=pG(this,e,[r]),Yr(n,"pieRef",null),Yr(n,"sectorRefs",[]),Yr(n,"id",Qa("recharts-pie-")),Yr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ie(i)&&i()}),Yr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ie(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return vG(e,t),mG(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,d=a.dataKey,f=a.valueKey,p=ke(this.props,!1),m=ke(o,!1),g=ke(u,!1),v=o&&o.offsetRadius||20,w=n.map(function(x,b){var S=(x.startAngle+x.endAngle)/2,N=ct(x.cx,x.cy,x.outerRadius+v,S),_=st(st(st(st({},p),x),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(N.x,x.cx)},N),E=st(st(st(st({},p),x),{},{fill:"none",stroke:x.fill},g),{},{index:b,points:[ct(x.cx,x.cy,x.outerRadius,S),N]}),A=d;return $e(d)&&$e(f)?A="value":$e(d)&&(A=f),F.createElement(qe,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,E,"line"),e.renderLabelItem(o,_,kt(x,A)))});return F.createElement(qe,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,d=a.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var m=i.isActiveIndex(p),g=d&&i.hasActiveIndex()?d:null,v=m?o:g,w=st(st({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return F.createElement(qe,Us({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Wa(i.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),F.createElement(fI,Us({option:v,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state,g=m.prevSectors,v=m.prevIsAnimationActive;return F.createElement(jn,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,b=[],S=a&&a[0],N=S.startAngle;return a.forEach(function(_,E){var A=g&&g[E],O=E>0?Dr(_,"paddingAngle",0):0;if(A){var T=Lt(A.endAngle-A.startAngle,_.endAngle-_.startAngle),R=st(st({},_),{},{startAngle:N+O,endAngle:N+T(x)+O});b.push(R),N=R.endAngle}else{var $=_.endAngle,I=_.startAngle,M=Lt(0,$-I),z=M(x),U=st(st({},_),{},{startAngle:N+O,endAngle:N+z+O});b.push(U),N=U.endAngle}}),F.createElement(qe,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ka(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,p=i.cy,m=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(a||!o||!o.length||!le(f)||!le(p)||!le(m)||!le(g))return null;var x=De("recharts-pie",u);return F.createElement(qe,{tabIndex:this.props.rootTabIndex,className:x,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(o),Kt.renderCallByParent(this.props,null,!1),(!v||w)&&Dn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(F.isValidElement(n))return F.cloneElement(n,i);if(Ie(n))return n(i);var o=De("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return F.createElement(qa,Us({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(F.isValidElement(n))return F.cloneElement(n,i);var o=a;if(Ie(n)&&(o=n(i),F.isValidElement(o)))return o;var u=De("recharts-pie-label-text",typeof n!="boolean"&&!Ie(n)?n.className:"");return F.createElement(Ha,Us({},i,{alignmentBaseline:"middle",className:u}),o)}}])})(P.PureComponent);qd=yi;Yr(yi,"displayName","Pie");Yr(yi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ta.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(yi,"parseDeltaAngle",function(t,e){var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Yr(yi,"getRealPieData",function(t){var e=t.data,r=t.children,n=ke(t,!1),i=Lr(r,yh);return e&&e.length?e.map(function(a,o){return st(st(st({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return st(st({},n),a.props)}):[]});Yr(yi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=Y4(i,a),u=n+dr(t.cx,i,i/2),d=r+dr(t.cy,a,a/2),f=dr(t.innerRadius,o,0),p=dr(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Yr(yi,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?st(st({},e.type.defaultProps),e.props):e.props,i=qd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),w=qd.parseCoordinateOfPie(n,r),x=qd.parseDeltaAngle(o,u),b=Math.abs(x),S=f;$e(f)&&$e(m)?(bn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):$e(f)&&(bn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var N=i.filter(function(R){return kt(R,S,0)!==0}).length,_=(b>=360?N:N-1)*d,E=b-N*v-_,A=i.reduce(function(R,$){var I=kt($,S,0);return R+(le(I)?I:0)},0),O;if(A>0){var T;O=i.map(function(R,$){var I=kt(R,S,0),M=kt(R,p,$),z=(le(I)?I:0)/A,U;$?U=T.endAngle+ur(x)*d*(I!==0?1:0):U=o;var D=U+ur(x)*((I!==0?v:0)+z*E),q=(U+D)/2,H=(w.innerRadius+w.outerRadius)/2,ee=[{name:M,value:I,payload:R,dataKey:S,type:g}],X=ct(w.cx,w.cy,H,q);return T=st(st(st({percent:z,cornerRadius:a,name:M,tooltipPayload:ee,midAngle:q,middleRadius:H,tooltipPosition:X},R),w),{},{value:kt(R,S),startAngle:U,endAngle:D,payload:R,paddingAngle:ur(x)*d}),T})}return st(st({},w),{},{sectors:O,data:i})});var xv,TE;function bG(){if(TE)return xv;TE=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var u=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=a;return f}return xv=r,xv}var bv,CE;function pI(){if(CE)return bv;CE=1;var t=DC(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return bv=n,bv}var wv,IE;function wG(){if(IE)return wv;IE=1;var t=bG(),e=gh(),r=pI();function n(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),u=u===void 0?a<o?1:-1:r(u),t(a,o,u,i)}}return wv=n,wv}var jv,RE;function jG(){if(RE)return jv;RE=1;var t=wG(),e=t();return jv=e,jv}var _G=jG();const Mf=Qe(_G);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){gI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gI(t,e,r){return e=NG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NG(t){var e=SG(t,"string");return Mc(e)=="symbol"?e:e+""}function SG(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kG=["Webkit","Moz","O","ms"],AG=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=kG.reduce(function(a,o){return ME(ME({},a),{},gI({},o+n,r))},{});return i[e]=r,i};function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}function DE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(r),!0).forEach(function(n){Tr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vI(n.key),n)}}function EG(t,e,r){return e&&LE(t.prototype,e),r&&LE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PG(t,e,r){return e=Lf(e),TG(t,yI()?Reflect.construct(e,r||[],Lf(t).constructor):e.apply(t,r))}function TG(t,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(t)}function CG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(t)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sb(t,e)}function Tr(t,e,r){return e=vI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vI(t){var e=RG(t,"string");return po(e)=="symbol"?e:e+""}function RG(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $G=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Gl().domain(Mf(0,d)).range([a,a+o-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},BE=function(e){return e.changedTouches&&!!e.changedTouches.length},go=(function(t){function e(r){var n;return OG(this,e),n=PG(this,e,[r]),Tr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Tr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Tr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o==null||o({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Tr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tr(n,"handleSlideDragStart",function(i){var a=BE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return IG(e,t),EG(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(i,a),g=Math.max(i,a),v=e.getIndexInRange(o,m),w=e.getIndexInRange(o,g);return{startIndex:v-v%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,d=kt(a[n],u,n);return Ie(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,v=d.endIndex,w=d.onChange,x=n.pageX-a;x>0?x=Math.min(x,f+p-m-u,f+p-m-o):x<0&&(x=Math.max(x,f-o,f-u));var b=this.getIndex({startX:o+x,endX:u+x});(b.startIndex!==g||b.endIndex!==v)&&w&&w(b),this.setState({startX:o+x,endX:u+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=BE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],p=this.props,m=p.x,g=p.width,v=p.travellerWidth,w=p.onChange,x=p.gap,b=p.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-a;N>0?N=Math.min(N,m+g-v-f):N<0&&(N=Math.max(N,m-f)),S[o]=f+N;var _=this.getIndex(S),E=_.startIndex,A=_.endIndex,O=function(){var R=b.length-1;return o==="startX"&&(u>d?E%x===0:A%x===0)||u<d&&A===R||o==="endX"&&(u>d?A%x===0:E%x===0)||u>d&&A===R};this.setState(Tr(Tr({},o,f+N),"brushMoveStartX",n.pageX),function(){w&&O()&&w(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],m=u.indexOf(p);if(m!==-1){var g=m+n;if(!(g===-1||g>=u.length)){var v=u[g];i==="startX"&&v>=f||i==="endX"&&v<=d||this.setState(Tr({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return F.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=P.Children.only(f);return m?F.cloneElement(m,{x:i,y:a,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,v=d.ariaLabel,w=d.data,x=d.startIndex,b=d.endIndex,S=Math.max(n,this.props.x),N=_v(_v({},ke(this.props,!1)),{},{x:S,y:f,width:p,height:m}),_=v||"Min value: ".concat((a=w[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=w[b])===null||o===void 0?void 0:o.name);return F.createElement(qe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,u=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,g=p.endX,v=5,w={pointerEvents:"none",fill:f};return F.createElement(qe,{className:"recharts-brush-texts"},F.createElement(Ha,Df({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:o+u/2},w),this.getTextOfTick(i)),F.createElement(Ha,Df({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+v,y:o+u/2},w),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,g=this.state,v=g.startX,w=g.endX,x=g.isTextActive,b=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!le(u)||!le(d)||!le(f)||!le(p)||f<=0||p<=0)return null;var _=De("recharts-brush",a),E=F.Children.count(o)===1,A=AG("userSelect","none");return F.createElement(qe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(x||b||S||N||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(a+u/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:o,height:u,fill:d,stroke:"none"}),F.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return F.isValidElement(n)?a=F.cloneElement(n,i):Ie(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return _v({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},a&&a.length?$G({data:a,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,u=a-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])})(P.PureComponent);Tr(go,"displayName","Brush");Tr(go,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Nv,qE;function MG(){if(qE)return Nv;qE=1;var t=vw();function e(r,n){var i;return t(r,function(a,o,u){return i=n(a,o,u),!i}),!!i}return Nv=e,Nv}var Sv,FE;function DG(){if(FE)return Sv;FE=1;var t=mC(),e=zn(),r=MG(),n=_r(),i=gh();function a(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return Sv=a,Sv}var LG=DG();const BG=Qe(LG);var Ln=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kv,UE;function qG(){if(UE)return kv;UE=1;var t=CC();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return kv=e,kv}var Av,zE;function FG(){if(zE)return Av;zE=1;var t=qG(),e=PC(),r=zn();function n(i,a){var o={};return a=r(a,3),e(i,function(u,d,f){t(o,d,a(u,d,f))}),o}return Av=n,Av}var UG=FG();const zG=Qe(UG);var Ov,WE;function WG(){if(WE)return Ov;WE=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ov=t,Ov}var Ev,HE;function HG(){if(HE)return Ev;HE=1;var t=vw();function e(r,n){var i=!0;return t(r,function(a,o,u){return i=!!n(a,o,u),i}),i}return Ev=e,Ev}var Pv,KE;function KG(){if(KE)return Pv;KE=1;var t=WG(),e=HG(),r=zn(),n=_r(),i=gh();function a(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return Pv=a,Pv}var VG=KG();const xI=Qe(VG);var GG=["x","y"];function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){XG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XG(t,e,r){return e=YG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YG(t){var e=JG(t,"string");return Dc(e)=="symbol"?e:e+""}function JG(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QG(t,e){if(t==null)return{};var r=ZG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eX(t,e){var r=t.x,n=t.y,i=QG(t,GG),a="".concat(r),o=parseInt(a,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),p=parseInt(f,10),m="".concat(e.width||i.width),g=parseInt(m,10);return Ll(Ll(Ll(Ll(Ll({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function GE(t){return F.createElement(fI,ob({shapeType:"rectangle",propTransformer:eX,activeClassName:"recharts-active-bar"},t))}var tX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=le(n)||SL(n);return a?e(n,i):(a||Ga(),r)}},rX=["value","background"],bI;function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function nX(t,e){if(t==null)return{};var r=iX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bf.apply(this,arguments)}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){Vi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jI(n.key),n)}}function sX(t,e,r){return e&&YE(t.prototype,e),r&&YE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oX(t,e,r){return e=qf(e),lX(t,wI()?Reflect.construct(e,r||[],qf(t).constructor):e.apply(t,r))}function lX(t,e){if(e&&(yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(t)}function cX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(t)}function uX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lb(t,e)}function Vi(t,e,r){return e=jI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jI(t){var e=dX(t,"string");return yo(e)=="symbol"?e:e+""}function dX(t,e){if(yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rs=(function(t){function e(){var r;aX(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oX(this,e,[].concat(i)),Vi(r,"state",{isAnimationFinished:!1}),Vi(r,"id",Qa("recharts-bar-")),Vi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Vi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return uX(e,t),sX(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.dataKey,d=a.activeIndex,f=a.activeBar,p=ke(this.props,!1);return n&&n.map(function(m,g){var v=g===d,w=v?f:o,x=Ot(Ot(Ot({},p),m),{},{isActive:v,option:w,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(qe,Bf({className:"recharts-bar-rectangle"},Wa(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),F.createElement(GE,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,m=i.animationId,g=this.state.prevData;return F.createElement(jn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,x=a.map(function(b,S){var N=g&&g[S];if(N){var _=Lt(N.x,b.x),E=Lt(N.y,b.y),A=Lt(N.width,b.width),O=Lt(N.height,b.height);return Ot(Ot({},b),{},{x:_(w),y:E(w),width:A(w),height:O(w)})}if(o==="horizontal"){var T=Lt(0,b.height),R=T(w);return Ot(Ot({},b),{},{y:b.y+b.height-R,height:R})}var $=Lt(0,b.width),I=$(w);return Ot(Ot({},b),{},{width:I})});return F.createElement(qe,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ka(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,d=ke(this.props.background,!1);return a.map(function(f,p){f.value;var m=f.background,g=nX(f,rX);if(!m)return null;var v=Ot(Ot(Ot(Ot(Ot({},g),{},{fill:"#eee"},m),d),Wa(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return F.createElement(GE,Bf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,m=Lr(p,eu);if(!m)return null;var g=f==="vertical"?o[0].height/2:o[0].width/2,v=function(b,S){var N=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:N,errorVal:kt(b,S)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(qe,w,m.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,g=n.height,v=n.isAnimationActive,w=n.background,x=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,S=De("recharts-bar",o),N=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,E=N||_,A=$e(x)?this.id:x;return F.createElement(qe,{className:S},N||_?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(A)},F.createElement("rect",{x:N?f:f-m/2,y:_?p:p-g/2,width:N?m:m*2,height:_?g:g*2}))):null,F.createElement(qe,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!v||b)&&Dn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(P.PureComponent);bI=rs;Vi(rs,"displayName","Bar");Vi(rs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vi(rs,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,g=t.offset,v=Bz(n,r);if(!v)return null;var w=e.layout,x=r.type.defaultProps,b=x!==void 0?Ot(Ot({},x),r.props):r.props,S=b.dataKey,N=b.children,_=b.minPointSize,E=w==="horizontal"?o:a,A=f?E.scale.domain():null,O=Kz({numericAxis:E}),T=Lr(N,yh),R=m.map(function($,I){var M,z,U,D,q,H;f?M=qz(f[p+I],A):(M=kt($,S),Array.isArray(M)||(M=[O,M]));var ee=tX(_,bI.defaultProps.minPointSize)(M[1],I);if(w==="horizontal"){var X,Y=[o.scale(M[0]),o.scale(M[1])],W=Y[0],L=Y[1];z=wO({axis:a,ticks:u,bandSize:i,offset:v.offset,entry:$,index:I}),U=(X=L??W)!==null&&X!==void 0?X:void 0,D=v.size;var V=W-L;if(q=Number.isNaN(V)?0:V,H={x:z,y:o.y,width:D,height:o.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var ae=ur(q||ee)*(Math.abs(ee)-Math.abs(q));U-=ae,q+=ae}}else{var ge=[a.scale(M[0]),a.scale(M[1])],fe=ge[0],be=ge[1];if(z=fe,U=wO({axis:o,ticks:d,bandSize:i,offset:v.offset,entry:$,index:I}),D=be-fe,q=v.size,H={x:a.x,y:U,width:a.width,height:q},Math.abs(ee)>0&&Math.abs(D)<Math.abs(ee)){var ue=ur(D||ee)*(Math.abs(ee)-Math.abs(D));D+=ue}}return Ot(Ot(Ot({},$),{},{x:z,y:U,width:D,height:q,value:f?M:M[1],payload:$,background:H},T&&T[I]&&T[I].props),{},{tooltipPayload:[G4(r,$)],tooltipPosition:{x:z+D/2,y:U+q/2}})});return Ot({data:R,layout:w},g)});function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function fX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_I(n.key),n)}}function hX(t,e,r){return e&&JE(t.prototype,e),r&&JE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(r),!0).forEach(function(n){Rh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rh(t,e,r){return e=_I(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _I(t){var e=mX(t,"string");return Lc(e)=="symbol"?e:e+""}function mX(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vw=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},g=!!Cr(f,rs);return p.reduce(function(v,w){var x=r[w],b=x.orientation,S=x.domain,N=x.padding,_=N===void 0?{}:N,E=x.mirror,A=x.reversed,O="".concat(b).concat(E?"Mirror":""),T,R,$,I,M;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var z=S[1]-S[0],U=1/0,D=x.categoricalDomain.sort(OL);if(D.forEach(function(ge,fe){fe>0&&(U=Math.min((ge||0)-(D[fe-1]||0),U))}),Number.isFinite(U)){var q=U/z,H=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(T=q*H/2),x.padding==="no-gap"){var ee=dr(e.barCategoryGap,q*H),X=q*H/2;T=X-ee-(X-ee)/H*ee}}}i==="xAxis"?R=[n.left+(_.left||0)+(T||0),n.left+n.width-(_.right||0)-(T||0)]:i==="yAxis"?R=d==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(T||0),n.top+n.height-(_.bottom||0)-(T||0)]:R=x.range,A&&(R=[R[1],R[0]]);var Y=W4(x,a,g),W=Y.scale,L=Y.realScaleType;W.domain(S).range(R),H4(W);var V=K4(W,pn(pn({},x),{},{realScaleType:L}));i==="xAxis"?(M=b==="top"&&!E||b==="bottom"&&E,$=n.left,I=m[O]-M*x.height):i==="yAxis"&&(M=b==="left"&&!E||b==="right"&&E,$=m[O]-M*x.width,I=n.top);var ae=pn(pn(pn({},x),V),{},{realScaleType:L,x:$,y:I,scale:W,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return ae.bandSize=Nf(ae,V),!x.hide&&i==="xAxis"?m[O]+=(M?-1:1)*ae.height:x.hide||(m[O]+=(M?-1:1)*ae.width),pn(pn({},v),{},Rh({},w,ae))},{})},NI=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},pX=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return NI({x:r,y:n},{x:i,y:a})},SI=(function(){function t(e){fX(this,t),this.scale=e}return hX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Rh(SI,"EPS",1e-4);var Gw=function(e){var r=Object.keys(e).reduce(function(n,i){return pn(pn({},n),{},Rh({},i,SI.create(e[i])))},{});return pn(pn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return zG(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return xI(i,function(a,o){return r[o].isInRange(a)})}})};function gX(t){return(t%180+180)%180}var yX=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gX(i),o=a*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Tv,ZE;function vX(){if(ZE)return Tv;ZE=1;var t=zn(),e=Xc(),r=mh();function n(i){return function(a,o,u){var d=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(m){return f(d[m],m,d)}}var p=i(a,o,u);return p>-1?d[f?a[p]:p]:void 0}}return Tv=n,Tv}var Cv,eP;function xX(){if(eP)return Cv;eP=1;var t=pI();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Cv=e,Cv}var Iv,tP;function bX(){if(tP)return Iv;tP=1;var t=SC(),e=zn(),r=xX(),n=Math.max;function i(a,o,u){var d=a==null?0:a.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(a,e(o,3),f)}return Iv=i,Iv}var Rv,rP;function wX(){if(rP)return Rv;rP=1;var t=vX(),e=bX(),r=t(e);return Rv=r,Rv}var jX=wX();const _X=Qe(jX);var NX=qT();const SX=Qe(NX);var kX=SX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Xw=P.createContext(void 0),Yw=P.createContext(void 0),kI=P.createContext(void 0),AI=P.createContext({}),OI=P.createContext(void 0),EI=P.createContext(0),PI=P.createContext(0),nP=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=kX(a);return F.createElement(Xw.Provider,{value:n},F.createElement(Yw.Provider,{value:i},F.createElement(AI.Provider,{value:a},F.createElement(kI.Provider,{value:p},F.createElement(OI.Provider,{value:o},F.createElement(EI.Provider,{value:f},F.createElement(PI.Provider,{value:d},u)))))))},AX=function(){return P.useContext(OI)},TI=function(e){var r=P.useContext(Xw);r==null&&Ga();var n=r[e];return n==null&&Ga(),n},OX=function(){var e=P.useContext(Xw);return zi(e)},EX=function(){var e=P.useContext(Yw),r=_X(e,function(n){return xI(n.domain,Number.isFinite)});return r||zi(e)},CI=function(e){var r=P.useContext(Yw);r==null&&Ga();var n=r[e];return n==null&&Ga(),n},PX=function(){var e=P.useContext(kI);return e},TX=function(){return P.useContext(AI)},Jw=function(){return P.useContext(PI)},Qw=function(){return P.useContext(EI)};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function CX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RI(n.key),n)}}function RX(t,e,r){return e&&IX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $X(t,e,r){return e=Ff(e),MX(t,II()?Reflect.construct(e,r||[],Ff(t).constructor):e.apply(t,r))}function MX(t,e){if(e&&(vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DX(t)}function DX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function II(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(II=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(t)}function LX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cb(t,e)}function iP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(r),!0).forEach(function(n){Zw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zw(t,e,r){return e=RI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RI(t){var e=BX(t,"string");return vo(e)=="symbol"?e:e+""}function BX(t,e){if(vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qX(t,e){return WX(t)||zX(t,e)||UX(t,e)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(t,e){if(t){if(typeof t=="string")return sP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(t,e)}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function WX(t){if(Array.isArray(t))return t}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ub.apply(this,arguments)}var HX=function(e,r){var n;return F.isValidElement(e)?n=F.cloneElement(e,r):Ie(e)?n=e(r):n=F.createElement("line",ub({},r,{className:"recharts-reference-line-line"})),n},KX=function(e,r,n,i,a,o,u,d,f){var p=a.x,m=a.y,g=a.width,v=a.height;if(n){var w=f.y,x=e.y.apply(w,{position:o});if(Ln(f,"discard")&&!e.y.isInRange(x))return null;var b=[{x:p+g,y:x},{x:p,y:x}];return d==="left"?b.reverse():b}if(r){var S=f.x,N=e.x.apply(S,{position:o});if(Ln(f,"discard")&&!e.x.isInRange(N))return null;var _=[{x:N,y:m+v},{x:N,y:m}];return u==="top"?_.reverse():_}if(i){var E=f.segment,A=E.map(function(O){return e.apply(O,{position:o})});return Ln(f,"discard")&&BG(A,function(O){return!e.isInRange(O)})?null:A}return null};function VX(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=AX(),p=TI(i),m=CI(a),g=PX();if(!f||!g)return null;bn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Gw({x:p.scale,y:m.scale}),w=Bt(e),x=Bt(r),b=n&&n.length===2,S=KX(v,w,x,b,g,t.position,p.orientation,m.orientation,t);if(!S)return null;var N=qX(S,2),_=N[0],E=_.x,A=_.y,O=N[1],T=O.x,R=O.y,$=Ln(t,"hidden")?"url(#".concat(f,")"):void 0,I=aP(aP({clipPath:$},ke(t,!0)),{},{x1:E,y1:A,x2:T,y2:R});return F.createElement(qe,{className:De("recharts-reference-line",u)},HX(o,I),Kt.renderCallByParent(t,pX({x1:E,y1:A,x2:T,y2:R})))}var e1=(function(t){function e(){return CX(this,e),$X(this,e,arguments)}return LX(e,t),RX(e,[{key:"render",value:function(){return F.createElement(VX,this.props)}}])})(F.Component);Zw(e1,"displayName","ReferenceLine");Zw(e1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){$h(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MI(n.key),n)}}function YX(t,e,r){return e&&XX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JX(t,e,r){return e=Uf(e),QX(t,$I()?Reflect.construct(e,r||[],Uf(t).constructor):e.apply(t,r))}function QX(t,e){if(e&&(xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(t)}function ZX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(t)}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fb(t,e)}function $h(t,e,r){return e=MI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MI(t){var e=tY(t,"string");return xo(e)=="symbol"?e:e+""}function tY(t,e){if(xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rY=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Gw({x:i.scale,y:a.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Ln(e,"discard")&&!o.isInRange(u)?null:u},Mh=(function(t){function e(){return GX(this,e),JX(this,e,arguments)}return eY(e,t),YX(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=Bt(i),p=Bt(a);if(bn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=rY(this.props);if(!m)return null;var g=m.x,v=m.y,w=this.props,x=w.shape,b=w.className,S=Ln(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=lP(lP({clipPath:S},ke(this.props,!0)),{},{cx:g,cy:v});return F.createElement(qe,{className:De("recharts-reference-dot",b)},e.renderDot(x,N),Kt.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])})(F.Component);$h(Mh,"displayName","ReferenceDot");$h(Mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$h(Mh,"renderDot",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ie(t)?r=t(e):r=F.createElement(tu,db({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){Dh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LI(n.key),n)}}function aY(t,e,r){return e&&iY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sY(t,e,r){return e=zf(e),oY(t,DI()?Reflect.construct(e,r||[],zf(t).constructor):e.apply(t,r))}function oY(t,e){if(e&&(bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lY(t)}function lY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DI=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(t)}function cY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mb(t,e)}function Dh(t,e,r){return e=LI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LI(t){var e=uY(t,"string");return bo(e)=="symbol"?e:e+""}function uY(t,e){if(bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dY=function(e,r,n,i,a){var o=a.x1,u=a.x2,d=a.y1,f=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var g=Gw({x:p.scale,y:m.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Ln(a,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:NI(v,w)},Lh=(function(t){function e(){return nY(this,e),sY(this,e,arguments)}return cY(e,t),aY(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;bn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Bt(i),g=Bt(a),v=Bt(o),w=Bt(u),x=this.props.shape;if(!m&&!g&&!v&&!w&&!x)return null;var b=dY(m,g,v,w,this.props);if(!b&&!x)return null;var S=Ln(this.props,"hidden")?"url(#".concat(p,")"):void 0;return F.createElement(qe,{className:De("recharts-reference-area",d)},e.renderRect(x,uP(uP({clipPath:S},ke(this.props,!0)),b)),Kt.renderCallByParent(this.props,b))}}])})(F.Component);Dh(Lh,"displayName","ReferenceArea");Dh(Lh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dh(Lh,"renderRect",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ie(t)?r=t(e):r=F.createElement(Kw,hb({},e,{className:"recharts-reference-area-rect"})),r});function BI(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function fY(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return yX(n,r)}function hY(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function Wf(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function mY(t,e){return BI(t,e+1)}function pY(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,m=function(){var w=n==null?void 0:n[d];if(w===void 0)return{v:BI(n,f)};var x=d,b,S=function(){return b===void 0&&(b=r(w,x)),b},N=w.coordinate,_=d===0||Wf(t,N,S,p,u);_||(d=0,p=o,f+=1),_&&(p=N+t*(S()/2+i),d+=f)},g;f<=a.length;)if(g=m(),g)return g.v;return[]}function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){gY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gY(t,e,r){return e=yY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yY(t){var e=vY(t,"string");return Bc(e)=="symbol"?e:e+""}function vY(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xY(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,u=e.start,d=e.end,f=function(g){var v=a[g],w,x=function(){return w===void 0&&(w=r(v,g)),w};if(g===o-1){var b=t*(v.coordinate+t*x()/2-d);a[g]=v=sr(sr({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else a[g]=v=sr(sr({},v),{},{tickCoord:v.coordinate});var S=Wf(t,v.tickCoord,x,u,d);S&&(d=v.tickCoord-t*(x()/2+i),a[g]=sr(sr({},v),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function bY(t,e,r,n,i,a){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(a){var p=n[u-1],m=r(p,u-1),g=t*(p.coordinate+t*m/2-f);o[u-1]=p=sr(sr({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var v=Wf(t,p.tickCoord,function(){return m},d,f);v&&(f=p.tickCoord-t*(m/2+i),o[u-1]=sr(sr({},p),{},{isShow:!0}))}for(var w=a?u-1:u,x=function(N){var _=o[N],E,A=function(){return E===void 0&&(E=r(_,N)),E};if(N===0){var O=t*(_.coordinate-t*A()/2-d);o[N]=_=sr(sr({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else o[N]=_=sr(sr({},_),{},{tickCoord:_.coordinate});var T=Wf(t,_.tickCoord,A,d,f);T&&(d=_.tickCoord+t*(A()/2+i),o[N]=sr(sr({},_),{},{isShow:!0}))},b=0;b<w;b++)x(b);return o}function t1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(le(d)||ta.isSsr)return mY(i,typeof d=="number"&&le(d)?d:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",w=p&&v==="width"?Vl(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(_,E){var A=Ie(f)?f(_.value,E):_.value;return v==="width"?fY(Vl(A,{fontSize:e,letterSpacing:r}),w,m):Vl(A,{fontSize:e,letterSpacing:r})[v]},b=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,S=hY(a,b,v);return d==="equidistantPreserveStart"?pY(b,S,x,i,o):(d==="preserveStart"||d==="preserveStartEnd"?g=bY(b,S,x,i,o,d==="preserveStartEnd"):g=xY(b,S,x,i,o),g.filter(function(N){return N.isShow}))}var wY=["viewBox"],jY=["viewBox"],_Y=["ticks"];function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zs.apply(this,arguments)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){r1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $v(t,e){if(t==null)return{};var r=NY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FI(n.key),n)}}function kY(t,e,r){return e&&hP(t.prototype,e),r&&hP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AY(t,e,r){return e=Hf(e),OY(t,qI()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function OY(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(t)}function EY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function PY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pb(t,e)}function r1(t,e,r){return e=FI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FI(t){var e=TY(t,"string");return wo(e)=="symbol"?e:e+""}function TY(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=(function(t){function e(r){var n;return SY(this,e),n=AY(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return PY(e,t),kY(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=$v(n,wY),u=this.props,d=u.viewBox,f=$v(u,jY);return!Hs(a,d)||!Hs(o,f)||!Hs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,m=i.mirror,g=i.tickMargin,v,w,x,b,S,N,_=m?-1:1,E=n.tickSize||p,A=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=w=n.coordinate,b=o+ +!m*d,x=b-_*E,N=x-_*g,S=A;break;case"left":x=b=n.coordinate,w=a+ +!m*u,v=w-_*E,S=v-_*g,N=A;break;case"right":x=b=n.coordinate,w=a+ +m*u,v=w+_*E,S=v+_*g,N=A;break;default:v=w=n.coordinate,b=o+ +m*d,x=b+_*E,N=x+_*g,S=A;break}return{line:{x1:v,y1:x,x2:w,y2:b},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=$t($t($t({},ke(this.props,!1)),ke(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=$t($t({},m),{},{x1:i,y1:a+g*u,x2:i+o,y2:a+g*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);m=$t($t({},m),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+u})}return F.createElement("line",zs({},m,{className:De("recharts-cartesian-axis-line",Dr(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,g=u.unit,v=t1($t($t({},this.props),{},{ticks:n}),i,a),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=ke(this.props,!1),S=ke(p,!1),N=$t($t({},b),{},{fill:"none"},ke(d,!1)),_=v.map(function(E,A){var O=o.getTickLineCoord(E),T=O.line,R=O.tick,$=$t($t($t($t({textAnchor:w,verticalAnchor:x},b),{},{stroke:"none",fill:f},S),R),{},{index:A,payload:E,visibleTicksCount:v.length,tickFormatter:m});return F.createElement(qe,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Wa(o.props,E,A)),d&&F.createElement("line",zs({},N,T,{className:De("recharts-cartesian-axis-tick-line",Dr(d,"className"))})),p&&e.renderTickItem(p,$,"".concat(Ie(m)?m(E.value,A):E.value).concat(g||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var m=this.props,g=m.ticks,v=$v(m,_Y),w=g;return Ie(d)&&(w=g&&g.length>0?d(this.props):d(v)),o<=0||u<=0||!w||!w.length?null:F.createElement(qe,{className:De("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,u=De(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?o=F.cloneElement(n,$t($t({},i),{},{className:u})):Ie(n)?o=n($t($t({},i),{},{className:u})):o=F.createElement(Ha,zs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(P.Component);r1(Fo,"displayName","CartesianAxis");r1(Fo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var CY=["x1","y1","x2","y2","key"],IY=["offset"];function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){RY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RY(t,e,r){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t){var e=MY(t,"string");return Xa(e)=="symbol"?e:e+""}function MY(t,e){if(Xa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$a.apply(this,arguments)}function pP(t,e){if(t==null)return{};var r=DY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var LY=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,d=e.ry;return F.createElement("rect",{x:i,y:a,ry:d,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function UI(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ie(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,d=pP(e,CY),f=ke(d,!1);f.offset;var p=pP(f,IY);r=F.createElement("line",$a({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:u}))}return r}function BY(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=or(or({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return UI(i,f)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qY(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=or(or({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return UI(i,f)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function FY(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var w=!p[v+1],x=w?i+o-g:p[v+1]-g;if(x<=0)return null;var b=v%e.length;return F.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:x,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function UY(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var w=!p[v+1],x=w?a+u-g:p[v+1]-g;if(x<=0)return null;var b=v%n.length;return F.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:x,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var zY=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return z4(t1(or(or(or({},Fo.defaultProps),n),{},{ticks:ai(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},WY=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return z4(t1(or(or(or({},Fo.defaultProps),n),{},{ticks:ai(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Fd(t){var e,r,n,i,a,o,u=Jw(),d=Qw(),f=TX(),p=or(or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ps.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ps.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ps.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ps.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ps.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ps.verticalFill,x:le(t.x)?t.x:f.left,y:le(t.y)?t.y:f.top,width:le(t.width)?t.width:f.width,height:le(t.height)?t.height:f.height}),m=p.x,g=p.y,v=p.width,w=p.height,x=p.syncWithTicks,b=p.horizontalValues,S=p.verticalValues,N=OX(),_=EX();if(!le(v)||v<=0||!le(w)||w<=0||!le(m)||m!==+m||!le(g)||g!==+g)return null;var E=p.verticalCoordinatesGenerator||zY,A=p.horizontalCoordinatesGenerator||WY,O=p.horizontalPoints,T=p.verticalPoints;if((!O||!O.length)&&Ie(A)){var R=b&&b.length,$=A({yAxis:_?or(or({},_),{},{ticks:R?b:_.ticks}):void 0,width:u,height:d,offset:f},R?!0:x);bn(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xa($),"]")),Array.isArray($)&&(O=$)}if((!T||!T.length)&&Ie(E)){var I=S&&S.length,M=E({xAxis:N?or(or({},N),{},{ticks:I?S:N.ticks}):void 0,width:u,height:d,offset:f},I?!0:x);bn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xa(M),"]")),Array.isArray(M)&&(T=M)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(LY,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),F.createElement(BY,$a({},p,{offset:f,horizontalPoints:O,xAxis:N,yAxis:_})),F.createElement(qY,$a({},p,{offset:f,verticalPoints:T,xAxis:N,yAxis:_})),F.createElement(FY,$a({},p,{horizontalPoints:O})),F.createElement(UY,$a({},p,{verticalPoints:T})))}Fd.displayName="CartesianGrid";var HY=["type","layout","connectNulls","ref"],KY=["key"];function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function gP(t,e){if(t==null)return{};var r=VY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(this,arguments)}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){gn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ts(t){return JY(t)||YY(t)||XY(t)||GY()}function GY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(t,e){if(t){if(typeof t=="string")return gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(t,e)}}function YY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JY(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WI(n.key),n)}}function ZY(t,e,r){return e&&vP(t.prototype,e),r&&vP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eJ(t,e,r){return e=Kf(e),tJ(t,zI()?Reflect.construct(e,r||[],Kf(t).constructor):e.apply(t,r))}function tJ(t,e){if(e&&(jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(t)}function rJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(t)}function nJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yb(t,e)}function gn(t,e,r){return e=WI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WI(t){var e=iJ(t,"string");return jo(e)=="symbol"?e:e+""}function iJ(t,e){if(jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=(function(t){function e(){var r;QY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eJ(this,e,[].concat(i)),gn(r,"state",{isAnimationFinished:!0,totalLength:0}),gn(r,"generateSimpleStrokeDasharray",function(o,u){return"".concat(u,"px ").concat(o-u,"px")}),gn(r,"getStrokeDasharray",function(o,u,d){var f=d.reduce(function(S,N){return S+N});if(!f)return r.generateSimpleStrokeDasharray(u,o);for(var p=Math.floor(o/f),m=o%f,g=u-o,v=[],w=0,x=0;w<d.length;x+=d[w],++w)if(x+d[w]>m){v=[].concat(Ts(d.slice(0,w)),[m-x]);break}var b=v.length%2===0?[0,g]:[g];return[].concat(Ts(e.repeat(d,p)),Ts(v),b).map(function(S){return"".concat(S,"px")}).join(", ")}),gn(r,"id",Qa("recharts-line-")),gn(r,"pathRef",function(o){r.mainCurve=o}),gn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),gn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return nJ(e,t),ZY(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,u=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,m=Lr(p,eu);if(!m)return null;var g=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:kt(x.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(qe,v,m.map(function(w){return F.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=ke(this.props,!1),g=ke(d,!0),v=f.map(function(x,b){var S=Er(Er(Er({key:"dot-".concat(b),r:3},m),g),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:p,payload:x.payload,points:f});return e.renderDotItem(d,S)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(qe,Zl({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,a,o){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=gP(u,HY),g=Er(Er(Er({},ke(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:d,layout:f,connectNulls:p});return F.createElement(qa,Zl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,u=o.points,d=o.strokeDasharray,f=o.isAnimationActive,p=o.animationBegin,m=o.animationDuration,g=o.animationEasing,v=o.animationId,w=o.animateNewValues,x=o.width,b=o.height,S=this.state,N=S.prevPoints,_=S.totalLength;return F.createElement(jn,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(N){var O=N.length/u.length,T=u.map(function(z,U){var D=Math.floor(U*O);if(N[D]){var q=N[D],H=Lt(q.x,z.x),ee=Lt(q.y,z.y);return Er(Er({},z),{},{x:H(A),y:ee(A)})}if(w){var X=Lt(x*2,z.x),Y=Lt(b/2,z.y);return Er(Er({},z),{},{x:X(A),y:Y(A)})}return Er(Er({},z),{},{x:z.x,y:z.y})});return a.renderCurveStatically(T,n,i)}var R=Lt(0,_),$=R(A),I;if(d){var M="".concat(d).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});I=a.getStrokeDasharray($,_,M)}else I=a.generateSimpleStrokeDasharray(_,$);return a.renderCurveStatically(u,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,u=a.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&o&&o.length&&(!f&&p>0||!Ka(f,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,u=i.points,d=i.className,f=i.xAxis,p=i.yAxis,m=i.top,g=i.left,v=i.width,w=i.height,x=i.isAnimationActive,b=i.id;if(a||!u||!u.length)return null;var S=this.state.isAnimationFinished,N=u.length===1,_=De("recharts-line",d),E=f&&f.allowDataOverflow,A=p&&p.allowDataOverflow,O=E||A,T=$e(b)?this.id:b,R=(n=ke(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=R.r,I=$===void 0?3:$,M=R.strokeWidth,z=M===void 0?2:M,U=HT(o)?o:{},D=U.clipDot,q=D===void 0?!0:D,H=I*2+z;return F.createElement(qe,{className:_},E||A?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(T)},F.createElement("rect",{x:E?g:g-v/2,y:A?m:m-w/2,width:E?v:v*2,height:A?w:w*2})),!q&&F.createElement("clipPath",{id:"clipPath-dots-".concat(T)},F.createElement("rect",{x:g-H/2,y:m-H/2,width:v+H,height:w+H}))):null,!N&&this.renderCurve(O,T),this.renderErrorBar(O,T),(N||o)&&this.renderDots(O,q,T),(!x||S)&&Dn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ts(n),[0]):n,o=[],u=0;u<i;++u)o=[].concat(Ts(o),Ts(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(F.isValidElement(n))a=F.cloneElement(n,i);else if(Ie(n))a=n(i);else{var o=i.key,u=gP(i,KY),d=De("recharts-line-dot",typeof n!="boolean"?n.className:"");a=F.createElement(tu,Zl({key:o},u,{className:d}))}return a}}])})(P.PureComponent);gn(ru,"displayName","Line");gn(ru,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ta.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});gn(ru,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,u=t.bandSize,d=t.displayedData,f=t.offset,p=e.layout,m=d.map(function(g,v){var w=kt(g,o);return p==="horizontal"?{x:_f({axis:r,ticks:i,bandSize:u,entry:g,index:v}),y:$e(w)?null:n.scale(w),value:w,payload:g}:{x:$e(w)?null:r.scale(w),y:_f({axis:n,ticks:a,bandSize:u,entry:g,index:v}),value:w,payload:g}});return Er({points:m,layout:p},f)});var aJ=["layout","type","stroke","connectNulls","isRange","ref"],sJ=["key"],HI;function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}function KI(t,e){if(t==null)return{};var r=oJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ma.apply(this,arguments)}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){Cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GI(n.key),n)}}function cJ(t,e,r){return e&&bP(t.prototype,e),r&&bP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJ(t,e,r){return e=Vf(e),dJ(t,VI()?Reflect.construct(e,r||[],Vf(t).constructor):e.apply(t,r))}function dJ(t,e){if(e&&(_o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vb(t,e)}function Cn(t,e,r){return e=GI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GI(t){var e=mJ(t,"string");return _o(e)=="symbol"?e:e+""}function mJ(t,e){if(_o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aa=(function(t){function e(){var r;lJ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=uJ(this,e,[].concat(i)),Cn(r,"state",{isAnimationFinished:!0}),Cn(r,"id",Qa("recharts-area-")),Cn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ie(o)&&o()}),Cn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ie(o)&&o()}),r}return hJ(e,t),cJ(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var d=this.props,f=d.dot,p=d.points,m=d.dataKey,g=ke(this.props,!1),v=ke(f,!0),w=p.map(function(b,S){var N=qi(qi(qi({key:"dot-".concat(S),r:3},g),v),{},{index:S,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:p});return e.renderDotItem(f,N)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(qe,Ma({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,d=o[0].x,f=o[o.length-1].x,p=n*Math.abs(d-f),m=Ki(o.map(function(g){return g.y||0}));return le(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Ki(a.map(function(g){return g.y||0})),m)),le(m)?F.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,d=o[0].y,f=o[o.length-1].y,p=n*Math.abs(d-f),m=Ki(o.map(function(g){return g.x||0}));return le(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Ki(a.map(function(g){return g.x||0})),m)),le(m)?F.createElement("rect",{x:0,y:d<f?d:d-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var u=this.props,d=u.layout,f=u.type,p=u.stroke,m=u.connectNulls,g=u.isRange;u.ref;var v=KI(u,aJ);return F.createElement(qe,{clipPath:a?"url(#clipPath-".concat(o,")"):null},F.createElement(qa,Ma({},ke(v,!0),{points:n,connectNulls:m,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&F.createElement(qa,Ma({},ke(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:n})),p!=="none"&&g&&F.createElement(qa,Ma({},ke(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,u=o.points,d=o.baseLine,f=o.isAnimationActive,p=o.animationBegin,m=o.animationDuration,g=o.animationEasing,v=o.animationId,w=this.state,x=w.prevPoints,b=w.prevBaseLine;return F.createElement(jn,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(x){var _=x.length/u.length,E=u.map(function(R,$){var I=Math.floor($*_);if(x[I]){var M=x[I],z=Lt(M.x,R.x),U=Lt(M.y,R.y);return qi(qi({},R),{},{x:z(N),y:U(N)})}return R}),A;if(le(d)&&typeof d=="number"){var O=Lt(b,d);A=O(N)}else if($e(d)||Mo(d)){var T=Lt(b,0);A=T(N)}else A=d.map(function(R,$){var I=Math.floor($*_);if(b[I]){var M=b[I],z=Lt(M.x,R.x),U=Lt(M.y,R.y);return qi(qi({},R),{},{x:z(N),y:U(N)})}return R});return a.renderAreaStatically(E,A,n,i)}return F.createElement(qe,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(N))),F.createElement(qe,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,u=a.baseLine,d=a.isAnimationActive,f=this.state,p=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return d&&o&&o.length&&(!p&&g>0||!Ka(p,o)||!Ka(m,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,u,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,u=i.points,d=i.className,f=i.top,p=i.left,m=i.xAxis,g=i.yAxis,v=i.width,w=i.height,x=i.isAnimationActive,b=i.id;if(a||!u||!u.length)return null;var S=this.state.isAnimationFinished,N=u.length===1,_=De("recharts-area",d),E=m&&m.allowDataOverflow,A=g&&g.allowDataOverflow,O=E||A,T=$e(b)?this.id:b,R=(n=ke(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=R.r,I=$===void 0?3:$,M=R.strokeWidth,z=M===void 0?2:M,U=HT(o)?o:{},D=U.clipDot,q=D===void 0?!0:D,H=I*2+z;return F.createElement(qe,{className:_},E||A?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(T)},F.createElement("rect",{x:E?p:p-v/2,y:A?f:f-w/2,width:E?v:v*2,height:A?w:w*2})),!q&&F.createElement("clipPath",{id:"clipPath-dots-".concat(T)},F.createElement("rect",{x:p-H/2,y:f-H/2,width:v+H,height:w+H}))):null,N?null:this.renderArea(O,T),(o||N)&&this.renderDots(O,q,T),(!x||S)&&Dn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(P.PureComponent);HI=aa;Cn(aa,"displayName","Area");Cn(aa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Cn(aa,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,u=o??a;if(le(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});Cn(aa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,d=t.dataKey,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,g=t.offset,v=e.layout,w=f&&f.length,x=HI.getBaseValue(e,r,n,i),b=v==="horizontal",S=!1,N=m.map(function(E,A){var O;w?O=f[p+A]:(O=kt(E,d),Array.isArray(O)?S=!0:O=[x,O]);var T=O[1]==null||w&&kt(E,d)==null;return b?{x:_f({axis:n,ticks:a,bandSize:u,entry:E,index:A}),y:T?null:i.scale(O[1]),value:O,payload:E}:{x:T?null:n.scale(O[1]),y:_f({axis:i,ticks:o,bandSize:u,entry:E,index:A}),value:O,payload:E}}),_;return w||S?_=N.map(function(E){var A=Array.isArray(E.value)?E.value[0]:null;return b?{x:E.x,y:A!=null&&E.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:E.y}}):_=b?i.scale(x):n.scale(x),qi({points:N,baseLine:_,layout:v,isRange:S},g)});Cn(aa,"renderDotItem",function(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ie(t))r=t(e);else{var n=De("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=KI(e,sJ);r=F.createElement(tu,Ma({},a,{key:i,className:n}))}return r});function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function pJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JI(n.key),n)}}function yJ(t,e,r){return e&&gJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t,e,r){return e=Gf(e),xJ(t,XI()?Reflect.construct(e,r||[],Gf(t).constructor):e.apply(t,r))}function xJ(t,e){if(e&&(No(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bJ(t)}function bJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(t)}function wJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xb(t,e)}function YI(t,e,r){return e=JI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JI(t){var e=jJ(t,"string");return No(e)=="symbol"?e:e+""}function jJ(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(this,arguments)}function _J(t){var e=t.xAxisId,r=Jw(),n=Qw(),i=TI(e);return i==null?null:P.createElement(Fo,bb({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ai(o,!0)}}))}var Ji=(function(t){function e(){return pJ(this,e),vJ(this,e,arguments)}return wJ(e,t),yJ(e,[{key:"render",value:function(){return P.createElement(_J,this.props)}}])})(P.Component);YI(Ji,"displayName","XAxis");YI(Ji,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eR(n.key),n)}}function kJ(t,e,r){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AJ(t,e,r){return e=Xf(e),OJ(t,QI()?Reflect.construct(e,r||[],Xf(t).constructor):e.apply(t,r))}function OJ(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EJ(t)}function EJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QI=function(){return!!t})()}function Xf(t){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(t)}function PJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wb(t,e)}function ZI(t,e,r){return e=eR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eR(t){var e=TJ(t,"string");return So(e)=="symbol"?e:e+""}function TJ(t,e){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(this,arguments)}var CJ=function(e){var r=e.yAxisId,n=Jw(),i=Qw(),a=CI(r);return a==null?null:P.createElement(Fo,jb({},a,{className:De("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return ai(u,!0)}}))},Qi=(function(t){function e(){return NJ(this,e),AJ(this,e,arguments)}return PJ(e,t),kJ(e,[{key:"render",value:function(){return P.createElement(CJ,this.props)}}])})(P.Component);ZI(Qi,"displayName","YAxis");ZI(Qi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function wP(t){return MJ(t)||$J(t)||RJ(t)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(t,e){if(t){if(typeof t=="string")return _b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(t,e)}}function $J(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return _b(t)}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nb=function(e,r,n,i,a){var o=Lr(e,e1),u=Lr(e,Mh),d=[].concat(wP(o),wP(u)),f=Lr(e,Lh),p="".concat(i,"Id"),m=i[0],g=r;if(d.length&&(g=d.reduce(function(x,b){if(b.props[p]===n&&Ln(b.props,"extendDomain")&&le(b.props[m])){var S=b.props[m];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},g)),f.length){var v="".concat(m,"1"),w="".concat(m,"2");g=f.reduce(function(x,b){if(b.props[p]===n&&Ln(b.props,"extendDomain")&&le(b.props[v])&&le(b.props[w])){var S=b.props[v],N=b.props[w];return[Math.min(x[0],S,N),Math.max(x[1],S,N)]}return x},g)}return a&&a.length&&(g=a.reduce(function(x,b){return le(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},g)),g},Mv={exports:{}},jP;function DJ(){return jP||(jP=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,m||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,w=new Array(v);g<v;g++)w[g]=m[g].fn;return w},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,g,v,w){var x=r?r+f:f;if(!this._events[x])return!1;var b=this._events[x],S=arguments.length,N,_;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,g),!0;case 5:return b.fn.call(b.context,p,m,g,v),!0;case 6:return b.fn.call(b.context,p,m,g,v,w),!0}for(_=1,N=new Array(S-1);_<S;_++)N[_-1]=arguments[_];b.fn.apply(b.context,N)}else{var E=b.length,A;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(f,b[_].fn,void 0,!0),S){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,p);break;case 3:b[_].fn.call(b[_].context,p,m);break;case 4:b[_].fn.call(b[_].context,p,m,g);break;default:if(!N)for(A=1,N=new Array(S-1);A<S;A++)N[A-1]=arguments[A];b[_].fn.apply(b[_].context,N)}}return!0},u.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,g){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===p&&(!g||w.once)&&(!m||w.context===m)&&o(this,v);else{for(var x=0,b=[],S=w.length;x<S;x++)(w[x].fn!==p||g&&!w[x].once||m&&w[x].context!==m)&&b.push(w[x]);b.length?this._events[v]=b.length===1?b[0]:b:o(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Mv)),Mv.exports}var LJ=DJ();const BJ=Qe(LJ);var Dv=new BJ,Lv="recharts.syncMouseEvents";function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function qJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tR(n.key),n)}}function UJ(t,e,r){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bv(t,e,r){return e=tR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tR(t){var e=zJ(t,"string");return qc(e)=="symbol"?e:e+""}function zJ(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WJ=(function(){function t(){qJ(this,t),Bv(this,"activeIndex",0),Bv(this,"coordinateList",[]),Bv(this,"layout","horizontal")}return UJ(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+d+f,g=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function HJ(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function KJ(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function rR(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ct(e,r,n,i),u=ct(e,r,n,a);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function VJ(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,m=e.angle,g=ct(u,d,f,m),v=ct(u,d,p,m);n=g.x,i=g.y,a=v.x,o=v.y}else return rR(e);return[{x:n,y:i},{x:a,y:o}]}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){GJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GJ(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=YJ(t,"string");return Fc(e)=="symbol"?e:e+""}function YJ(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JJ(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var w,x=qa;if(g==="ScatterChart")w=o,x=cV;else if(g==="BarChart")w=KJ(m,o,d,p),x=Kw;else if(m==="radial"){var b=rR(o),S=b.cx,N=b.cy,_=b.radius,E=b.startAngle,A=b.endAngle;w={cx:S,cy:N,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},x=eI}else w={points:VJ(m,o,d)},x=qa;var O=kd(kd(kd(kd({stroke:"#ccc",pointerEvents:"none"},d),w),ke(v,!1)),{},{payload:u,payloadIndex:f,className:De("recharts-tooltip-cursor",v.className)});return P.isValidElement(v)?P.cloneElement(v,O):P.createElement(x,O)}var QJ=["item"],ZJ=["children","className","width","height","style","compact","title","desc"];function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ws.apply(this,arguments)}function NP(t,e){return rQ(t)||tQ(t,e)||iR(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function rQ(t){if(Array.isArray(t))return t}function SP(t,e){if(t==null)return{};var r=nQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aR(n.key),n)}}function sQ(t,e,r){return e&&aQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t,e,r){return e=Yf(e),lQ(t,nR()?Reflect.construct(e,r||[],Yf(t).constructor):e.apply(t,r))}function lQ(t,e){if(e&&(ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(t)}function cQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nR=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(t)}function uQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sb(t,e)}function Ao(t){return hQ(t)||fQ(t)||iR(t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iR(t,e){if(t){if(typeof t=="string")return kb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(t,e)}}function fQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return kb(t)}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ce(t,e,r){return e=aR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aR(t){var e=mQ(t,"string");return ko(e)=="symbol"?e:e+""}function mQ(t,e){if(ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pQ={xAxis:["bottom","top"],yAxis:["left","right"]},gQ={width:"100%",height:"100%"},sR={x:0,y:0};function Ad(t){return t}var yQ=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},vQ=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return re(re(re({},i),ct(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=a.coordinate,f=i.angle;return re(re(re({},i),ct(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return sR},Bh=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Ao(u),Ao(f)):u},[]);return o.length>0?o:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function oR(t){return t==="number"?[0,"auto"]:void 0}var Ab=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,u=Bh(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=m===void 0?u:m;g=Jd(v,o.dataKey,i)}else g=m&&m[n]||u[n];return g?[].concat(Ao(d),[G4(f,g)]):d},[])},AP=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=yQ(a,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=Iz(o,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,g=Ab(e,r,p,m),v=vQ(n,u,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},xQ=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,g=e.stackOffset,v=U4(p,a);return n.reduce(function(w,x){var b,S=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,N=S.type,_=S.dataKey,E=S.allowDataOverflow,A=S.allowDuplicatedCategory,O=S.scale,T=S.ticks,R=S.includeHidden,$=S[o];if(w[$])return w;var I=Bh(e.data,{graphicalItems:i.filter(function(V){var ae,ge=o in V.props?V.props[o]:(ae=V.type.defaultProps)===null||ae===void 0?void 0:ae[o];return ge===$}),dataStartIndex:d,dataEndIndex:f}),M=I.length,z,U,D;HJ(S.domain,E,N)&&(z=qx(S.domain,null,E),v&&(N==="number"||O!=="auto")&&(D=Xl(I,_,"category")));var q=oR(N);if(!z||z.length===0){var H,ee=(H=S.domain)!==null&&H!==void 0?H:q;if(_){if(z=Xl(I,_,N),N==="category"&&v){var X=AL(z);A&&X?(U=z,z=Mf(0,M)):A||(z=NO(ee,z,x).reduce(function(V,ae){return V.indexOf(ae)>=0?V:[].concat(Ao(V),[ae])},[]))}else if(N==="category")A?z=z.filter(function(V){return V!==""&&!$e(V)}):z=NO(ee,z,x).reduce(function(V,ae){return V.indexOf(ae)>=0||ae===""||$e(ae)?V:[].concat(Ao(V),[ae])},[]);else if(N==="number"){var Y=Lz(I,i.filter(function(V){var ae,ge,fe=o in V.props?V.props[o]:(ae=V.type.defaultProps)===null||ae===void 0?void 0:ae[o],be="hide"in V.props?V.props.hide:(ge=V.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return fe===$&&(R||!be)}),_,a,p);Y&&(z=Y)}v&&(N==="number"||O!=="auto")&&(D=Xl(I,_,"category"))}else v?z=Mf(0,M):u&&u[$]&&u[$].hasStack&&N==="number"?z=g==="expand"?[0,1]:V4(u[$].stackGroups,d,f):z=F4(I,i.filter(function(V){var ae=o in V.props?V.props[o]:V.type.defaultProps[o],ge="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return ae===$&&(R||!ge)}),N,p,!0);if(N==="number")z=Nb(m,z,$,a,T),ee&&(z=qx(ee,z,E));else if(N==="category"&&ee){var W=ee,L=z.every(function(V){return W.indexOf(V)>=0});L&&(z=W)}}return re(re({},w),{},Ce({},$,re(re({},S),{},{axisType:a,domain:z,categoricalDomain:D,duplicateDomain:U,originalDomain:(b=S.domain)!==null&&b!==void 0?b:q,isCategorical:v,layout:p})))},{})},bQ=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,g=Bh(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),v=g.length,w=U4(p,a),x=-1;return n.reduce(function(b,S){var N=S.type.defaultProps!==void 0?re(re({},S.type.defaultProps),S.props):S.props,_=N[o],E=oR("number");if(!b[_]){x++;var A;return w?A=Mf(0,v):u&&u[_]&&u[_].hasStack?(A=V4(u[_].stackGroups,d,f),A=Nb(m,A,_,a)):(A=qx(E,F4(g,n.filter(function(O){var T,R,$=o in O.props?O.props[o]:(T=O.type.defaultProps)===null||T===void 0?void 0:T[o],I="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return $===_&&!I}),"number",p),i.defaultProps.allowDataOverflow),A=Nb(m,A,_,a)),re(re({},b),{},Ce({},_,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:Dr(pQ,"".concat(a,".").concat(x%2),null),domain:A,originalDomain:E,isCategorical:w,layout:p})))}return b},{})},wQ=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),g=Lr(p,a),v={};return g&&g.length?v=xQ(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(v=bQ(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},jQ=function(e){var r=zi(e),n=ai(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xw(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nf(r,n)}},OP=function(e){var r=e.children,n=e.defaultShowTooltip,i=Cr(r,go),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_Q=function(e){return!e||!e.length?!1:e.some(function(r){var n=oi(r&&r.type);return n&&n.indexOf("Bar")>=0})},EP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NQ=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,g=n.margin||{},v=Cr(m,go),w=Cr(m,Ks),x=Object.keys(d).reduce(function(A,O){var T=d[O],R=T.orientation;return!T.mirror&&!T.hide?re(re({},A),{},Ce({},R,A[R]+T.width)):A},{left:g.left||0,right:g.right||0}),b=Object.keys(o).reduce(function(A,O){var T=o[O],R=T.orientation;return!T.mirror&&!T.hide?re(re({},A),{},Ce({},R,Dr(A,"".concat(R))+T.height)):A},{top:g.top||0,bottom:g.bottom||0}),S=re(re({},b),x),N=S.bottom;v&&(S.bottom+=v.props.height||go.defaultProps.height),w&&r&&(S=Mz(S,i,n,r));var _=f-S.left-S.right,E=p-S.top-S.bottom;return re(re({brushBottom:N},S),{},{width:Math.max(_,0),height:Math.max(E,0)})},SQ=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},qh=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,g=function(S,N){var _=N.graphicalItems,E=N.stackGroups,A=N.offset,O=N.updateId,T=N.dataStartIndex,R=N.dataEndIndex,$=S.barSize,I=S.layout,M=S.barGap,z=S.barCategoryGap,U=S.maxBarSize,D=EP(I),q=D.numericAxisName,H=D.cateAxisName,ee=_Q(_),X=[];return _.forEach(function(Y,W){var L=Bh(S.data,{graphicalItems:[Y],dataStartIndex:T,dataEndIndex:R}),V=Y.type.defaultProps!==void 0?re(re({},Y.type.defaultProps),Y.props):Y.props,ae=V.dataKey,ge=V.maxBarSize,fe=V["".concat(q,"Id")],be=V["".concat(H,"Id")],ue={},de=d.reduce(function(er,hr){var he=N["".concat(hr.axisType,"Map")],Ae=V["".concat(hr.axisType,"Id")];he&&he[Ae]||hr.axisType==="zAxis"||Ga();var Xe=he[Ae];return re(re({},er),{},Ce(Ce({},hr.axisType,Xe),"".concat(hr.axisType,"Ticks"),ai(Xe)))},ue),te=de[H],me=de["".concat(H,"Ticks")],Se=E&&E[fe]&&E[fe].hasStack&&Vz(Y,E[fe].stackGroups),ne=oi(Y.type).indexOf("Bar")>=0,Ve=Nf(te,me),Le=[],Ze=ee&&Rz({barSize:$,stackGroups:E,totalSize:SQ(de,H)});if(ne){var rt,_t,Zt=$e(ge)?U:ge,Nr=(rt=(_t=Nf(te,me,!0))!==null&&_t!==void 0?_t:Zt)!==null&&rt!==void 0?rt:0;Le=$z({barGap:M,barCategoryGap:z,bandSize:Nr!==Ve?Nr:Ve,sizeList:Ze[be],maxBarSize:Zt}),Nr!==Ve&&(Le=Le.map(function(er){return re(re({},er),{},{position:re(re({},er.position),{},{offset:er.position.offset-Nr/2})})}))}var Br=Y&&Y.type&&Y.type.getComposedData;Br&&X.push({props:re(re({},Br(re(re({},de),{},{displayedData:L,props:S,dataKey:ae,item:Y,bandSize:Ve,barPosition:Le,offset:A,stackedData:Se,layout:I,dataStartIndex:T,dataEndIndex:R}))),{},Ce(Ce(Ce({key:Y.key||"item-".concat(W)},q,de[q]),H,de[H]),"animationId",O)),childIndex:BL(Y,S.children),item:Y})}),X},v=function(S,N){var _=S.props,E=S.dataStartIndex,A=S.dataEndIndex,O=S.updateId;if(!BS({props:_}))return null;var T=_.children,R=_.layout,$=_.stackOffset,I=_.data,M=_.reverseStackOrder,z=EP(R),U=z.numericAxisName,D=z.cateAxisName,q=Lr(T,n),H=Hz(I,q,"".concat(U,"Id"),"".concat(D,"Id"),$,M),ee=d.reduce(function(V,ae){var ge="".concat(ae.axisType,"Map");return re(re({},V),{},Ce({},ge,wQ(_,re(re({},ae),{},{graphicalItems:q,stackGroups:ae.axisType===U&&H,dataStartIndex:E,dataEndIndex:A}))))},{}),X=NQ(re(re({},ee),{},{props:_,graphicalItems:q}),N==null?void 0:N.legendBBox);Object.keys(ee).forEach(function(V){ee[V]=p(_,ee[V],X,V.replace("Map",""),r)});var Y=ee["".concat(D,"Map")],W=jQ(Y),L=g(_,re(re({},ee),{},{dataStartIndex:E,dataEndIndex:A,updateId:O,graphicalItems:q,stackGroups:H,offset:X}));return re(re({formattedGraphicalItems:L,graphicalItems:q,offset:X,stackGroups:H},W),ee)},w=(function(b){function S(N){var _,E,A;return iQ(this,S),A=oQ(this,S,[N]),Ce(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(A,"accessibilityManager",new WJ),Ce(A,"handleLegendBBoxUpdate",function(O){if(O){var T=A.state,R=T.dataStartIndex,$=T.dataEndIndex,I=T.updateId;A.setState(re({legendBBox:O},v({props:A.props,dataStartIndex:R,dataEndIndex:$,updateId:I},re(re({},A.state),{},{legendBBox:O}))))}}),Ce(A,"handleReceiveSyncEvent",function(O,T,R){if(A.props.syncId===O){if(R===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(T)}}),Ce(A,"handleBrushChange",function(O){var T=O.startIndex,R=O.endIndex;if(T!==A.state.dataStartIndex||R!==A.state.dataEndIndex){var $=A.state.updateId;A.setState(function(){return re({dataStartIndex:T,dataEndIndex:R},v({props:A.props,dataStartIndex:T,dataEndIndex:R,updateId:$},A.state))}),A.triggerSyncEvent({dataStartIndex:T,dataEndIndex:R})}}),Ce(A,"handleMouseEnter",function(O){var T=A.getMouseInfo(O);if(T){var R=re(re({},T),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var $=A.props.onMouseEnter;Ie($)&&$(R,O)}}),Ce(A,"triggeredAfterMouseMove",function(O){var T=A.getMouseInfo(O),R=T?re(re({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(R),A.triggerSyncEvent(R);var $=A.props.onMouseMove;Ie($)&&$(R,O)}),Ce(A,"handleItemMouseEnter",function(O){A.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ce(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ce(A,"handleMouseMove",function(O){O.persist(),A.throttleTriggeredAfterMouseMove(O)}),Ce(A,"handleMouseLeave",function(O){A.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var R=A.props.onMouseLeave;Ie(R)&&R(T,O)}),Ce(A,"handleOuterEvent",function(O){var T=LL(O),R=Dr(A.props,"".concat(T));if(T&&Ie(R)){var $,I;/.*touch.*/i.test(T)?I=A.getMouseInfo(O.changedTouches[0]):I=A.getMouseInfo(O),R(($=I)!==null&&$!==void 0?$:{},O)}}),Ce(A,"handleClick",function(O){var T=A.getMouseInfo(O);if(T){var R=re(re({},T),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var $=A.props.onClick;Ie($)&&$(R,O)}}),Ce(A,"handleMouseDown",function(O){var T=A.props.onMouseDown;if(Ie(T)){var R=A.getMouseInfo(O);T(R,O)}}),Ce(A,"handleMouseUp",function(O){var T=A.props.onMouseUp;if(Ie(T)){var R=A.getMouseInfo(O);T(R,O)}}),Ce(A,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ce(A,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseDown(O.changedTouches[0])}),Ce(A,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseUp(O.changedTouches[0])}),Ce(A,"handleDoubleClick",function(O){var T=A.props.onDoubleClick;if(Ie(T)){var R=A.getMouseInfo(O);T(R,O)}}),Ce(A,"handleContextMenu",function(O){var T=A.props.onContextMenu;if(Ie(T)){var R=A.getMouseInfo(O);T(R,O)}}),Ce(A,"triggerSyncEvent",function(O){A.props.syncId!==void 0&&Dv.emit(Lv,A.props.syncId,O,A.eventEmitterSymbol)}),Ce(A,"applySyncEvent",function(O){var T=A.props,R=T.layout,$=T.syncMethod,I=A.state.updateId,M=O.dataStartIndex,z=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)A.setState(re({dataStartIndex:M,dataEndIndex:z},v({props:A.props,dataStartIndex:M,dataEndIndex:z,updateId:I},A.state)));else if(O.activeTooltipIndex!==void 0){var U=O.chartX,D=O.chartY,q=O.activeTooltipIndex,H=A.state,ee=H.offset,X=H.tooltipTicks;if(!ee)return;if(typeof $=="function")q=$(X,O);else if($==="value"){q=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===O.activeLabel){q=Y;break}}var W=re(re({},ee),{},{x:ee.left,y:ee.top}),L=Math.min(U,W.x+W.width),V=Math.min(D,W.y+W.height),ae=X[q]&&X[q].value,ge=Ab(A.state,A.props.data,q),fe=X[q]?{x:R==="horizontal"?X[q].coordinate:L,y:R==="horizontal"?V:X[q].coordinate}:sR;A.setState(re(re({},O),{},{activeLabel:ae,activeCoordinate:fe,activePayload:ge,activeTooltipIndex:q}))}else A.setState(O)}),Ce(A,"renderCursor",function(O){var T,R=A.state,$=R.isTooltipActive,I=R.activeCoordinate,M=R.activePayload,z=R.offset,U=R.activeTooltipIndex,D=R.tooltipAxisBandSize,q=A.getTooltipEventType(),H=(T=O.props.active)!==null&&T!==void 0?T:$,ee=A.props.layout,X=O.key||"_recharts-cursor";return F.createElement(JJ,{key:X,activeCoordinate:I,activePayload:M,activeTooltipIndex:U,chartName:r,element:O,isActive:H,layout:ee,offset:z,tooltipAxisBandSize:D,tooltipEventType:q})}),Ce(A,"renderPolarAxis",function(O,T,R){var $=Dr(O,"type.axisType"),I=Dr(A.state,"".concat($,"Map")),M=O.type.defaultProps,z=M!==void 0?re(re({},M),O.props):O.props,U=I&&I[z["".concat($,"Id")]];return P.cloneElement(O,re(re({},U),{},{className:De($,U.className),key:O.key||"".concat(T,"-").concat(R),ticks:ai(U,!0)}))}),Ce(A,"renderPolarGrid",function(O){var T=O.props,R=T.radialLines,$=T.polarAngles,I=T.polarRadius,M=A.state,z=M.radiusAxisMap,U=M.angleAxisMap,D=zi(z),q=zi(U),H=q.cx,ee=q.cy,X=q.innerRadius,Y=q.outerRadius;return P.cloneElement(O,{polarAngles:Array.isArray($)?$:ai(q,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(I)?I:ai(D,!0).map(function(W){return W.coordinate}),cx:H,cy:ee,innerRadius:X,outerRadius:Y,key:O.key||"polar-grid",radialLines:R})}),Ce(A,"renderLegend",function(){var O=A.state.formattedGraphicalItems,T=A.props,R=T.children,$=T.width,I=T.height,M=A.props.margin||{},z=$-(M.left||0)-(M.right||0),U=B4({children:R,formattedGraphicalItems:O,legendWidth:z,legendContent:f});if(!U)return null;var D=U.item,q=SP(U,QJ);return P.cloneElement(D,re(re({},q),{},{chartWidth:$,chartHeight:I,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ce(A,"renderTooltip",function(){var O,T=A.props,R=T.children,$=T.accessibilityLayer,I=Cr(R,Ir);if(!I)return null;var M=A.state,z=M.isTooltipActive,U=M.activeCoordinate,D=M.activePayload,q=M.activeLabel,H=M.offset,ee=(O=I.props.active)!==null&&O!==void 0?O:z;return P.cloneElement(I,{viewBox:re(re({},H),{},{x:H.left,y:H.top}),active:ee,label:q,payload:ee?D:[],coordinate:U,accessibilityLayer:$})}),Ce(A,"renderBrush",function(O){var T=A.props,R=T.margin,$=T.data,I=A.state,M=I.offset,z=I.dataStartIndex,U=I.dataEndIndex,D=I.updateId;return P.cloneElement(O,{key:O.key||"_recharts-brush",onChange:jd(A.handleBrushChange,O.props.onChange),data:$,x:le(O.props.x)?O.props.x:M.left,y:le(O.props.y)?O.props.y:M.top+M.height+M.brushBottom-(R.bottom||0),width:le(O.props.width)?O.props.width:M.width,startIndex:z,endIndex:U,updateId:"brush-".concat(D)})}),Ce(A,"renderReferenceElement",function(O,T,R){if(!O)return null;var $=A,I=$.clipPathId,M=A.state,z=M.xAxisMap,U=M.yAxisMap,D=M.offset,q=O.type.defaultProps||{},H=O.props,ee=H.xAxisId,X=ee===void 0?q.xAxisId:ee,Y=H.yAxisId,W=Y===void 0?q.yAxisId:Y;return P.cloneElement(O,{key:O.key||"".concat(T,"-").concat(R),xAxis:z[X],yAxis:U[W],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:I})}),Ce(A,"renderActivePoints",function(O){var T=O.item,R=O.activePoint,$=O.basePoint,I=O.childIndex,M=O.isRange,z=[],U=T.props.key,D=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,q=D.activeDot,H=D.dataKey,ee=re(re({index:I,dataKey:H,cx:R.x,cy:R.y,r:4,fill:Hw(T.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},ke(q,!1)),Qd(q));return z.push(S.renderActiveDot(q,ee,"".concat(U,"-activePoint-").concat(I))),$?z.push(S.renderActiveDot(q,re(re({},ee),{},{cx:$.x,cy:$.y}),"".concat(U,"-basePoint-").concat(I))):M&&z.push(null),z}),Ce(A,"renderGraphicChild",function(O,T,R){var $=A.filterFormatItem(O,T,R);if(!$)return null;var I=A.getTooltipEventType(),M=A.state,z=M.isTooltipActive,U=M.tooltipAxis,D=M.activeTooltipIndex,q=M.activeLabel,H=A.props.children,ee=Cr(H,Ir),X=$.props,Y=X.points,W=X.isRange,L=X.baseLine,V=$.item.type.defaultProps!==void 0?re(re({},$.item.type.defaultProps),$.item.props):$.item.props,ae=V.activeDot,ge=V.hide,fe=V.activeBar,be=V.activeShape,ue=!!(!ge&&z&&ee&&(ae||fe||be)),de={};I!=="axis"&&ee&&ee.props.trigger==="click"?de={onClick:jd(A.handleItemMouseEnter,O.props.onClick)}:I!=="axis"&&(de={onMouseLeave:jd(A.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:jd(A.handleItemMouseEnter,O.props.onMouseEnter)});var te=P.cloneElement(O,re(re({},$.props),de));function me(hr){return typeof U.dataKey=="function"?U.dataKey(hr.payload):null}if(ue)if(D>=0){var Se,ne;if(U.dataKey&&!U.allowDuplicatedCategory){var Ve=typeof U.dataKey=="function"?me:"payload.".concat(U.dataKey.toString());Se=Jd(Y,Ve,q),ne=W&&L&&Jd(L,Ve,q)}else Se=Y==null?void 0:Y[D],ne=W&&L&&L[D];if(be||fe){var Le=O.props.activeIndex!==void 0?O.props.activeIndex:D;return[P.cloneElement(O,re(re(re({},$.props),de),{},{activeIndex:Le})),null,null]}if(!$e(Se))return[te].concat(Ao(A.renderActivePoints({item:$,activePoint:Se,basePoint:ne,childIndex:D,isRange:W})))}else{var Ze,rt=(Ze=A.getItemByXY(A.state.activeCoordinate))!==null&&Ze!==void 0?Ze:{graphicalItem:te},_t=rt.graphicalItem,Zt=_t.item,Nr=Zt===void 0?O:Zt,Br=_t.childIndex,er=re(re(re({},$.props),de),{},{activeIndex:Br});return[P.cloneElement(Nr,er),null,null]}return W?[te,null,null]:[te,null]}),Ce(A,"renderCustomized",function(O,T,R){return P.cloneElement(O,re(re({key:"recharts-customized-".concat(R)},A.props),A.state))}),Ce(A,"renderMap",{CartesianGrid:{handler:Ad,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Ad},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Ad},YAxis:{handler:Ad},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((_=N.id)!==null&&_!==void 0?_:Qa("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=LC(A.triggeredAfterMouseMove,(E=N.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return uQ(S,b),sQ(S,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,A=_.data,O=_.height,T=_.layout,R=Cr(E,Ir);if(R){var $=R.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,M=Ab(this.state,A,$,I),z=this.state.tooltipTicks[$].coordinate,U=(this.state.offset.top+O)/2,D=T==="horizontal",q=D?{x:z,y:U}:{y:z,x:U},H=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});H&&(q=re(re({},q),H.props.points[$].tooltipPosition),M=H.props.points[$].tooltipPayload);var ee={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:q};this.setState(ee),this.renderCursor(R),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var A,O;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){lx([Cr(_.children,Ir)],[Cr(this.props.children,Ir)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Cr(this.props.children,Ir);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return u.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),O=S7(A),T={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},R=A.width/E.offsetWidth||1,$=this.inRange(T.chartX,T.chartY,R);if(!$)return null;var I=this.state,M=I.xAxisMap,z=I.yAxisMap,U=this.getTooltipEventType(),D=AP(this.state,this.props.data,this.props.layout,$);if(U!=="axis"&&M&&z){var q=zi(M).scale,H=zi(z).scale,ee=q&&q.invert?q.invert(T.chartX):null,X=H&&H.invert?H.invert(T.chartY):null;return re(re({},T),{},{xValue:ee,yValue:X},D)}return D?re(re({},T),D):null}},{key:"inRange",value:function(_,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,T=_/A,R=E/A;if(O==="horizontal"||O==="vertical"){var $=this.state.offset,I=T>=$.left&&T<=$.left+$.width&&R>=$.top&&R<=$.top+$.height;return I?{x:T,y:R}:null}var M=this.state,z=M.angleAxisMap,U=M.radiusAxisMap;if(z&&U){var D=zi(z);return AO({x:T,y:R},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),A=Cr(_,Ir),O={};A&&E==="axis"&&(A.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Qd(this.props,this.handleOuterEvent);return re(re({},T),O)}},{key:"addListener",value:function(){Dv.on(Lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dv.removeListener(Lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,A){for(var O=this.state.formattedGraphicalItems,T=0,R=O.length;T<R;T++){var $=O[T];if($.item===_||$.props.key===_.key||E===oi($.item.type)&&A===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,A=E.left,O=E.top,T=E.height,R=E.width;return F.createElement("defs",null,F.createElement("clipPath",{id:_},F.createElement("rect",{x:A,y:O,height:T,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,A){var O=NP(A,2),T=O[0],R=O[1];return re(re({},E),{},Ce({},T,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,A){var O=NP(A,2),T=O[0],R=O[1];return re(re({},E),{},Ce({},T,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,A=E.formattedGraphicalItems,O=E.activeItem;if(A&&A.length)for(var T=0,R=A.length;T<R;T++){var $=A[T],I=$.props,M=$.item,z=M.type.defaultProps!==void 0?re(re({},M.type.defaultProps),M.props):M.props,U=oi(M.type);if(U==="Bar"){var D=(I.data||[]).find(function(X){return zK(_,X)});if(D)return{graphicalItem:$,payload:D}}else if(U==="RadialBar"){var q=(I.data||[]).find(function(X){return AO(_,X)});if(q)return{graphicalItem:$,payload:q}}else if(Ch($,O)||Ih($,O)||$c($,O)){var H=fG({graphicalItem:$,activeTooltipItem:O,itemData:z.data}),ee=z.activeIndex===void 0?H:z.activeIndex;return{graphicalItem:re(re({},$),{},{childIndex:ee}),payload:$c($,O)?z.data[H]:$.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!BS(this))return null;var E=this.props,A=E.children,O=E.className,T=E.width,R=E.height,$=E.style,I=E.compact,M=E.title,z=E.desc,U=SP(E,ZJ),D=ke(U,!1);if(I)return F.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(ux,Ws({},D,{width:T,height:R,title:M,desc:z}),this.renderClipPath(),FS(A,this.renderMap)));if(this.props.accessibilityLayer){var q,H;D.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,D.role=(H=this.props.role)!==null&&H!==void 0?H:"application",D.onKeyDown=function(X){_.accessibilityManager.keyboardEvent(X)},D.onFocus=function(){_.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return F.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Ws({className:De("recharts-wrapper",O),style:re({position:"relative",cursor:"default",width:T,height:R},$)},ee,{ref:function(Y){_.container=Y}}),F.createElement(ux,Ws({},D,{width:T,height:R,title:M,desc:z,style:gQ}),this.renderClipPath(),FS(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);Ce(w,"displayName",r),Ce(w,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ce(w,"getDerivedStateFromProps",function(b,S){var N=b.dataKey,_=b.data,E=b.children,A=b.width,O=b.height,T=b.layout,R=b.stackOffset,$=b.margin,I=S.dataStartIndex,M=S.dataEndIndex;if(S.updateId===void 0){var z=OP(b);return re(re(re({},z),{},{updateId:0},v(re(re({props:b},z),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:_,prevWidth:A,prevHeight:O,prevLayout:T,prevStackOffset:R,prevMargin:$,prevChildren:E})}if(N!==S.prevDataKey||_!==S.prevData||A!==S.prevWidth||O!==S.prevHeight||T!==S.prevLayout||R!==S.prevStackOffset||!Hs($,S.prevMargin)){var U=OP(b),D={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},q=re(re({},AP(S,_,T)),{},{updateId:S.updateId+1}),H=re(re(re({},U),D),q);return re(re(re({},H),v(re({props:b},H),S)),{},{prevDataKey:N,prevData:_,prevWidth:A,prevHeight:O,prevLayout:T,prevStackOffset:R,prevMargin:$,prevChildren:E})}if(!lx(E,S.prevChildren)){var ee,X,Y,W,L=Cr(E,go),V=L&&(ee=(X=L.props)===null||X===void 0?void 0:X.startIndex)!==null&&ee!==void 0?ee:I,ae=L&&(Y=(W=L.props)===null||W===void 0?void 0:W.endIndex)!==null&&Y!==void 0?Y:M,ge=V!==I||ae!==M,fe=!$e(_),be=fe&&!ge?S.updateId:S.updateId+1;return re(re({updateId:be},v(re(re({props:b},S),{},{updateId:be,dataStartIndex:V,dataEndIndex:ae}),S)),{},{prevChildren:E,dataStartIndex:V,dataEndIndex:ae})}return null}),Ce(w,"renderActiveDot",function(b,S,N){var _;return P.isValidElement(b)?_=P.cloneElement(b,S):Ie(b)?_=b(S):_=F.createElement(tu,S),F.createElement(qe,{className:"recharts-active-dot",key:N},_)});var x=P.forwardRef(function(S,N){return F.createElement(w,Ws({},S,{ref:N}))});return x.displayName=w.displayName,x},kQ=qh({chartName:"LineChart",GraphicalChild:ru,axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:Vw}),AQ=qh({chartName:"BarChart",GraphicalChild:rs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:Vw}),OQ=qh({chartName:"PieChart",GraphicalChild:yi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Th},{axisType:"radiusAxis",AxisComp:Eh}],formatAxisMap:nW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),EQ=qh({chartName:"AreaChart",GraphicalChild:aa,axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:Vw});const PQ=()=>{const{runs:t}=MT(),[e,r]=P.useState("month"),n=P.useMemo(()=>{const o=new Date;let u=t;if(e==="week"){const w=new Date(o.getTime()-6048e5);u=t.filter(x=>new Date(x.startTime)>=w)}else if(e==="month"){const w=new Date(o.getTime()-2592e6);u=t.filter(x=>new Date(x.startTime)>=w)}else if(e==="year"){const w=new Date(o.getTime()-31536e6);u=t.filter(x=>new Date(x.startTime)>=w)}const d=u.reduce((w,x)=>w+x.distance,0),f=u.reduce((w,x)=>w+x.duration,0),p=u.reduce((w,x)=>w+x.calories,0),m=u.length,g=d>0?f/1e3/(d/1e3)/60:0,v=m>0?d/m:0;return{totalDistance:d,totalDuration:f,totalCalories:p,totalRuns:m,averagePace:g,averageDistance:v}},[t,e]),i=P.useMemo(()=>{const o=new Date,u=e==="week"?7:e==="month"?30:365,d=[];for(let f=u-1;f>=0;f--){const p=new Date(o.getTime()-f*24*60*60*1e3),m=t.filter(b=>new Date(b.startTime).toDateString()===p.toDateString()),g=m.reduce((b,S)=>b+S.distance,0)/1e3,v=m.reduce((b,S)=>b+S.duration,0)/1e3/60,w=m.reduce((b,S)=>b+S.calories,0),x=m.length;d.push({date:p.toLocaleDateString("zh-CN",{month:"numeric",day:"numeric"}),distance:Number(g.toFixed(2)),duration:Number(v.toFixed(0)),calories:w,runs:x,pace:g>0?Number((v/g).toFixed(2)):0})}return d},[t,e]),a=P.useMemo(()=>{const o=[{name:`<4'00"`,min:0,max:4,count:0,color:"#ef4444"},{name:`4'00"-5'00"`,min:4,max:5,count:0,color:"#f97316"},{name:`5'00"-6'00"`,min:5,max:6,count:0,color:"#eab308"},{name:`6'00"-7'00"`,min:6,max:7,count:0,color:"#22c55e"},{name:`>7'00"`,min:7,max:1/0,count:0,color:"#3b82f6"}];return t.forEach(u=>{const d=u.duration/1e3/(u.distance/1e3)/60,f=o.find(p=>d>=p.min&&d<p.max);f&&f.count++}),o.filter(u=>u.count>0)},[t]);return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"mt-2 text-gray-600",children:""})]}),s.jsx("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:["week","month","year"].map(o=>s.jsx("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e===o?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:o==="week"?"":o==="month"?"":""},o))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(si,{className:"w-8 h-8 text-blue-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Kl(n.totalDistance)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(jt,{className:"w-8 h-8 text-green-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Xd(n.totalDuration/1e3)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Rn,{className:"w-8 h-8 text-yellow-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:PN(n.totalRuns)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx($n,{className:"w-8 h-8 text-red-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:PN(Math.round(n.totalCalories))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(wn,{className:"w-8 h-8 text-purple-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Yd(n.averagePace)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ci,{className:"w-8 h-8 text-indigo-500"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Kl(n.averageDistance)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),s.jsx("div",{className:"h-64",children:s.jsx(yd,{width:"100%",height:"100%",children:s.jsxs(EQ,{data:i,children:[s.jsx(Fd,{strokeDasharray:"3 3"}),s.jsx(Ji,{dataKey:"date"}),s.jsx(Qi,{}),s.jsx(Ir,{formatter:o=>[`${o} km`,""],labelFormatter:o=>`: ${o}`}),s.jsx(aa,{type:"monotone",dataKey:"distance",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),s.jsx("div",{className:"h-64",children:s.jsx(yd,{width:"100%",height:"100%",children:s.jsxs(kQ,{data:i,children:[s.jsx(Fd,{strokeDasharray:"3 3"}),s.jsx(Ji,{dataKey:"date"}),s.jsx(Qi,{}),s.jsx(Ir,{formatter:o=>[`${o.toFixed(2)} min/km`,""],labelFormatter:o=>`: ${o}`}),s.jsx(ru,{type:"monotone",dataKey:"pace",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444"}})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),s.jsx("div",{className:"h-64",children:s.jsx(yd,{width:"100%",height:"100%",children:s.jsxs(AQ,{data:i,children:[s.jsx(Fd,{strokeDasharray:"3 3"}),s.jsx(Ji,{dataKey:"date"}),s.jsx(Qi,{}),s.jsx(Ir,{formatter:o=>[`${o} `,""],labelFormatter:o=>`: ${o}`}),s.jsx(rs,{dataKey:"runs",fill:"#22c55e"})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),s.jsx("div",{className:"h-64",children:s.jsx(yd,{width:"100%",height:"100%",children:s.jsxs(OQ,{children:[s.jsx(yi,{data:a,cx:"50%",cy:"50%",outerRadius:80,dataKey:"count",label:({name:o,count:u})=>`${o}: ${u}`,children:a.map((o,u)=>s.jsx(yh,{fill:o.color},`cell-${u}`))}),s.jsx(Ir,{formatter:o=>[`${o} `,""]})]})})})]})]}),t.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,10).map(o=>{const u=o.duration/1e3/(o.distance/1e3)/60;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(o.startTime).toLocaleDateString("zh-CN")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Kl(o.distance)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Xd(o.duration/1e3)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Yd(u)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Math.round(o.calories)})]},o.id)})})]})})]})]})})};var Ob=function(t,e){return Ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ob(t,e)};function lR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ob(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jf=function(){return Jf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jf.apply(this,arguments)};function Uo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cR(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function uR(t,e){return function(r,n){e(r,n,t)}}function dR(t,e,r,n,i,a){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&t?n.static?t:t.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),m,g=!1,v=r.length-1;v>=0;v--){var w={};for(var x in n)w[x]=x==="access"?{}:n[x];for(var x in n.access)w.access[x]=n.access[x];w.addInitializer=function(S){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(S||null))};var b=(0,r[v])(u==="accessor"?{get:p.get,set:p.set}:p[d],w);if(u==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=o(b.get))&&(p.get=m),(m=o(b.set))&&(p.set=m),(m=o(b.init))&&i.unshift(m)}else(m=o(b))&&(u==="field"?i.unshift(m):p[d]=m)}f&&Object.defineProperty(f,n.name,p),g=!0}function fR(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function hR(t){return typeof t=="symbol"?t:"".concat(t)}function mR(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function pR(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _e(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(p){try{f(n.next(p))}catch(m){o(m)}}function d(p){try{f(n.throw(p))}catch(m){o(m)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((n=n.apply(t,e||[])).next())})}function gR(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Fh=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function yR(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fh(e,t,r)}function Qf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function n1(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function vR(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n1(arguments[e]));return t}function xR(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,i++)n[i]=a[o];return n}function bR(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Oo(t){return this instanceof Oo?(this.v=t,this):new Oo(t)}function wR(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(w){return Promise.resolve(w).then(v,m)}}function u(v,w){n[v]&&(i[v]=function(x){return new Promise(function(b,S){a.push([v,x,b,S])>1||d(v,x)})},w&&(i[v]=w(i[v])))}function d(v,w){try{f(n[v](w))}catch(x){g(a[0][3],x)}}function f(v){v.value instanceof Oo?Promise.resolve(v.value.v).then(p,m):g(a[0][2],v)}function p(v){d("next",v)}function m(v){d("throw",v)}function g(v,w){v(w),a.shift(),a.length&&d(a[0][0],a[0][1])}}function jR(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:Oo(t[i](o)),done:!1}:a?a(o):o}:a}}function _R(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Qf=="function"?Qf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(u,d){o=t[a](o),i(u,d,o.done,o.value)})}}function i(a,o,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},o)}}function NR(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var TQ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Eb=function(t){return Eb=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Eb(t)};function SR(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Eb(t),n=0;n<r.length;n++)r[n]!=="default"&&Fh(e,t,r[n]);return TQ(e,t),e}function kR(t){return t&&t.__esModule?t:{default:t}}function AR(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function OR(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function ER(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function PR(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var CQ=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function TR(t){function e(a){t.error=t.hasError?new CQ(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function CR(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const IQ={__extends:lR,__assign:Jf,__rest:Uo,__decorate:cR,__param:uR,__esDecorate:dR,__runInitializers:fR,__propKey:hR,__setFunctionName:mR,__metadata:pR,__awaiter:_e,__generator:gR,__createBinding:Fh,__exportStar:yR,__values:Qf,__read:n1,__spread:vR,__spreadArrays:xR,__spreadArray:bR,__await:Oo,__asyncGenerator:wR,__asyncDelegator:jR,__asyncValues:_R,__makeTemplateObject:NR,__importStar:SR,__importDefault:kR,__classPrivateFieldGet:AR,__classPrivateFieldSet:OR,__classPrivateFieldIn:ER,__addDisposableResource:PR,__disposeResources:TR,__rewriteRelativeImportExtension:CR},RQ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:PR,get __assign(){return Jf},__asyncDelegator:jR,__asyncGenerator:wR,__asyncValues:_R,__await:Oo,__awaiter:_e,__classPrivateFieldGet:AR,__classPrivateFieldIn:ER,__classPrivateFieldSet:OR,__createBinding:Fh,__decorate:cR,__disposeResources:TR,__esDecorate:dR,__exportStar:yR,__extends:lR,__generator:gR,__importDefault:kR,__importStar:SR,__makeTemplateObject:NR,__metadata:pR,__param:uR,__propKey:hR,__read:n1,__rest:Uo,__rewriteRelativeImportExtension:CR,__runInitializers:fR,__setFunctionName:mR,__spread:vR,__spreadArray:bR,__spreadArrays:xR,__values:Qf,default:IQ},Symbol.toStringTag,{value:"Module"})),$Q="modulepreload",MQ=function(t){return"/"+t},PP={},zo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=o(r.map(f=>{if(f=MQ(f),f in PP)return;PP[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":$Q,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((v,w)=>{g.addEventListener("load",v),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},DQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ns);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class i1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class TP extends i1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class CP extends i1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class IP extends i1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pb||(Pb={}));class LQ{constructor(e,{headers:r={},customFetch:n,region:i=Pb.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=DQ(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _e(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:u,signal:d}=n;let f={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;const v=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:d}).catch(S=>{throw S.name==="AbortError"?S:new TP(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new CP(v);if(!v.ok)throw new IP(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield v.json():x==="application/octet-stream"||x==="application/pdf"?b=yield v.blob():x==="text/event-stream"?b=v:x==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new TP(a)}:{data:null,error:a,response:a instanceof IP||a instanceof CP?a.context:void 0}}})}}var ar={};const Wo=hT(RQ);var Od={},Ed={},Pd={},Td={},Cd={},BQ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eo=BQ();const qQ=Eo.fetch,IR=Eo.fetch.bind(Eo),RR=Eo.Headers,FQ=Eo.Request,UQ=Eo.Response,ns=Object.freeze(Object.defineProperty({__proto__:null,Headers:RR,Request:FQ,Response:UQ,default:IR,fetch:qQ},Symbol.toStringTag,{value:"Module"})),zQ=hT(ns);var Id={},RP;function $R(){if(RP)return Id;RP=1,Object.defineProperty(Id,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Id.default=t,Id}var $P;function MR(){if($P)return Cd;$P=1,Object.defineProperty(Cd,"__esModule",{value:!0});const t=Wo,e=t.__importDefault(zQ),r=t.__importDefault($R());class n{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,m,g,v;let w=null,x=null,b=null,S=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const O=await f.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=O:x=JSON.parse(O))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),A=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,S=406,N="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const E=await f.text();try{w=JSON.parse(E),Array.isArray(w)&&f.status===404&&(x=[],w=null,S=200,N="OK")}catch{f.status===404&&E===""?(S=204,N="No Content"):w={message:E}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,S=200,N="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:x,count:b,status:S,statusText:N}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,m,g;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=f==null?void 0:f.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,o)}returns(){return this}overrideTypes(){return this}}return Cd.default=n,Cd}var MP;function DR(){if(MP)return Td;MP=1,Object.defineProperty(Td,"__esModule",{value:!0});const e=Wo.__importDefault(MR());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Td.default=r,Td}var DP;function a1(){if(DP)return Pd;DP=1,Object.defineProperty(Pd,"__esModule",{value:!0});const e=Wo.__importDefault(DR());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Pd.default=r,Pd}var LP;function LR(){if(LP)return Ed;LP=1,Object.defineProperty(Ed,"__esModule",{value:!0});const e=Wo.__importDefault(a1());class r{constructor(i,{headers:a={},schema:o,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=u}select(i,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ed.default=r,Ed}var BP;function WQ(){if(BP)return Od;BP=1,Object.defineProperty(Od,"__esModule",{value:!0});const t=Wo,e=t.__importDefault(LR()),r=t.__importDefault(a1());class n{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:f}={}){var p;let m;const g=new URL(`${this.url}/rpc/${a}`);let v;u||d?(m=u?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{g.searchParams.append(x,b)})):(m="POST",v=o);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new r.default({method:m,url:g,headers:w,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Od.default=n,Od}var qP;function HQ(){if(qP)return ar;qP=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const t=Wo,e=t.__importDefault(WQ());ar.PostgrestClient=e.default;const r=t.__importDefault(LR());ar.PostgrestQueryBuilder=r.default;const n=t.__importDefault(a1());ar.PostgrestFilterBuilder=n.default;const i=t.__importDefault(DR());ar.PostgrestTransformBuilder=i.default;const a=t.__importDefault(MR());ar.PostgrestBuilder=a.default;const o=t.__importDefault($R());return ar.PostgrestError=o.default,ar.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ar}var KQ=HQ();const VQ=Qe(KQ),{PostgrestClient:GQ,PostgrestQueryBuilder:Vre,PostgrestFilterBuilder:Gre,PostgrestTransformBuilder:Xre,PostgrestBuilder:Yre,PostgrestError:Jre}=VQ;class XQ{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const YQ="2.76.1",JQ=`realtime-js/${YQ}`,QQ="1.0.0",Tb=1e4,ZQ=1e3,eZ=100;var ec;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ec||(ec={}));var Dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dt||(Dt={}));var yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yn||(yn={}));var Cb;(function(t){t.websocket="websocket"})(Cb||(Cb={}));var Pa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pa||(Pa={}));class tZ{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const u=n.decode(e.slice(o,o+i));o=o+i;const d=n.decode(e.slice(o,o+a));o=o+a;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class BR{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(at||(at={}));const FP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=rZ(o,t,e,i),a),{}):{}},rZ=(t,e,r,n)=>{const i=e.find(u=>u.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?qR(a,o):Ib(o)},qR=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sZ(e,r)}switch(t){case at.bool:return nZ(e);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return iZ(e);case at.json:case at.jsonb:return aZ(e);case at.timestamp:return oZ(e);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Ib(e);default:return Ib(e)}},Ib=t=>t,nZ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iZ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sZ=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>qR(e,u))}return t},oZ=t=>typeof t=="string"?t.replace(" ","T"):t,FR=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qv{constructor(e,r,n={},i=Tb){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var UP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(UP||(UP={}));class tc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=tc.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tc.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),u={},d={};return this.map(a,(f,p)=>{o[f]||(d[f]=p)}),this.map(o,(f,p)=>{const m=a[f];if(m){const g=p.map(b=>b.presence_ref),v=m.map(b=>b.presence_ref),w=p.filter(b=>v.indexOf(b.presence_ref)<0),x=m.filter(b=>g.indexOf(b.presence_ref)<0);w.length>0&&(u[f]=w),x.length>0&&(d[f]=x)}else u[f]=p}),this.syncDiff(a,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const m=e[u].map(v=>v.presence_ref),g=p.filter(v=>m.indexOf(v.presence_ref)<0);e[u].unshift(...g)}n(u,p,d)}),this.map(o,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zP||(zP={}));var rc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rc||(rc={}));var ti;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ti||(ti={}));class s1{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qv(this,yn.join,this.params,this.timeout),this.rejoinTimer=new BR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new tc(this),this.broadcastEndpointURL=FR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[rc.PRESENCE]&&this.bindings[rc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ti.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ti.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(ti.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,S=[];for(let N=0;N<b;N++){const _=x[N],{filter:{event:E,schema:A,table:O,filter:T}}=_,R=v&&v[N];if(R&&R.event===E&&R.schema===A&&R.table===O&&R.filter===T)S.push(Object.assign(Object.assign({},_),{id:R.id}));else{this.unsubscribe(),this.state=Dt.errored,e==null||e(ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(ti.SUBSCRIBED);return}}).receive("error",v=>{this.state=Dt.errored,e==null||e(ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Dt.joined&&e===rc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new qv(this,yn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>eZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=yn;if(n&&[u,d,f,p].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,x,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=v.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var w,x,b,S,N,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,A=(w=v.filter)===null||w===void 0?void 0:w.event;return E&&((x=r.ids)===null||x===void 0?void 0:x.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(N=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return E==="*"||E===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:x,table:b,commit_timestamp:S,type:N,errors:_}=w;g=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:S,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&s1.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=FP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=FP(e.columns,e.old_record)),r}}const Fv=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lZ=[1e3,2e3,5e3,1e4],cZ=1e4,uZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dZ{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tb,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fv,this.ref=0,this.reconnectTimer=null,this.logger=Fv,this.conn=null,this.sendBuffer=[],this.serializer=new tZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>zo(async()=>{const{default:u}=await Promise.resolve().then(()=>ns);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Cb.websocket}`,this.httpEndpoint=FR(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QQ}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ec.connecting:return Pa.Connecting;case ec.open:return Pa.Open;case ec.closing:return Pa.Closing;default:return Pa.Closed}}isConnected(){return this.connectionState()===Pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new s1(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ZQ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,u=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:JQ};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new BR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,u,d,f,p;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Tb,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Rd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Fv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(m=>lZ[m-1]||cZ),this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((m,g)=>g(JSON.stringify(m))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class o1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fZ extends o1{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rb extends o1{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const l1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ns);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},hZ=()=>_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zo(()=>Promise.resolve().then(()=>ns),void 0)).Response:Response}),$b=t=>{if(Array.isArray(t))return t.map(r=>$b(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=$b(n)}),e},mZ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Uv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pZ=(t,e,r)=>_e(void 0,void 0,void 0,function*(){const n=yield hZ();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new fZ(Uv(i),a,o))}).catch(i=>{e(new Rb(Uv(i),i))}):e(new Rb(Uv(t),t))}),gZ=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(mZ(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function nu(t,e,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(r,gZ(e,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>pZ(d,u,n))})})}function Uc(t,e,r,n){return _e(this,void 0,void 0,function*(){return nu(t,"GET",e,r,n)})}function mn(t,e,r,n,i){return _e(this,void 0,void 0,function*(){return nu(t,"POST",e,n,i,r)})}function Mb(t,e,r,n,i){return _e(this,void 0,void 0,function*(){return nu(t,"PUT",e,n,i,r)})}function yZ(t,e,r,n){return _e(this,void 0,void 0,function*(){return nu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function c1(t,e,r,n,i){return _e(this,void 0,void 0,function*(){return nu(t,"DELETE",e,n,i,r)})}class vZ{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}var UR;class xZ{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[UR]="BlobDownloadBuilder",this.promise=null}asStream(){return new vZ(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}}UR=Symbol.toStringTag;const bZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wZ{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=l1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},WP),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),m=yield(e=="PUT"?Mb:mn)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}upload(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:WP.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield Mb(this.fetch,u.toString(),d,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield mn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new o1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}update(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),d=()=>Uc(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new xZ(d,this.shouldThrowOnError)}info(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$b(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}exists(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield yZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n)&&n instanceof Rb){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}list(e,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},bZ),r),{prefix:e||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listV2(e,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const zR="2.76.1",WR={"X-Client-Info":`storage-js/${zR}`};class jZ{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WR),r),this.fetch=l1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _e(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createBucket(e){return _e(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Mb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}}class _Z{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WR),r),this.fetch=l1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield Uc(this.fetch,i,{headers:this.headers});return{data:Array.isArray(a)?a.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}}const u1={"X-Client-Info":`storage-js/${zR}`,"Content-Type":"application/json"};class HR extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $r(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zv extends HR{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class NZ extends HR{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var HP;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(HP||(HP={}));const d1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ns);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},SZ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KP=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kZ=(t,e,r)=>_e(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new zv(KP(o),i,u))}).catch(()=>{const o=i+"",u=a.statusText||`HTTP ${i} error`;e(new zv(u,i,o))});else{const o=i+"",u=a.statusText||`HTTP ${i} error`;e(new zv(u,i,o))}}else e(new NZ(KP(t),t))}),AZ=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(SZ(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function OZ(t,e,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(r,AZ(e,n,i,a)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>kZ(d,u,n))})})}function Mr(t,e,r,n,i){return _e(this,void 0,void 0,function*(){return OZ(t,"POST",e,n,i,r)})}class EZ{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u1),r),this.fetch=d1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Mr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getIndex(e,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}listIndexes(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return _e(this,void 0,void 0,function*(){try{return{data:(yield Mr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}}class PZ{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u1),r),this.fetch=d1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}listVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Mr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}queryVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}}class TZ{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u1),r),this.fetch=d1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Mr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}listBuckets(){return _e(this,arguments,void 0,function*(e={}){try{return{data:yield Mr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield Mr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}}class CZ extends TZ{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new IZ(this.url,this.headers,e,this.fetch)}}class IZ extends EZ{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new RZ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class RZ extends PZ{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $Z extends jZ{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new wZ(this.url,this.headers,e,this.fetch)}get vectors(){return new CZ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _Z(this.url+"/iceberg",this.headers,this.fetch)}}const MZ="2.76.1";let Wl="";typeof Deno<"u"?Wl="deno":typeof document<"u"?Wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wl="react-native":Wl="node";const DZ={"X-Client-Info":`supabase-js-${Wl}/${MZ}`},LZ={headers:DZ},BZ={schema:"public"},qZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FZ={},UZ=t=>{let e;return t?e=t:typeof fetch>"u"?e=IR:e=fetch,(...r)=>e(...r)},zZ=()=>typeof Headers>"u"?RR:Headers,WZ=(t,e,r)=>{const n=UZ(r),i=zZ();return async(a,o)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new i(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},o),{headers:f}))}};function HZ(t){return t.endsWith("/")?t:t+"/"}function KZ(t,e){var r,n;const{db:i,auth:a,realtime:o,global:u}=t,{db:d,auth:f,realtime:p,global:m}=e,g={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function VZ(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HZ(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const KR="2.76.1",Ls=30*1e3,Db=3,Wv=Db*Ls,GZ="http://localhost:9999",XZ="supabase.auth.token",YZ={"X-Client-Info":`gotrue-js/${KR}`},Lb="X-Supabase-Api-Version",VR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QZ=600*1e3;class zc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZZ extends zc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eee(t){return Te(t)&&t.name==="AuthApiError"}class Ta extends zc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sa extends zc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Fi extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tee(t){return Te(t)&&t.name==="AuthSessionMissingError"}class Cs extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Md extends sa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ree(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class VP extends sa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bb extends sa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hv(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class GP extends sa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qb extends sa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XP=` 	
\r=`.split(""),nee=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<XP.length;e+=1)t[XP[e].charCodeAt(0)]=-2;for(let e=0;e<Zf.length;e+=1)t[Zf[e].charCodeAt(0)]=e;return t})();function YP(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zf[n]),e.queuedBits-=6}}function GR(t,e,r){const n=nee[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JP(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{see(o,n,r)};for(let o=0;o<t.length;o+=1)GR(t.charCodeAt(o),i,a);return e.join("")}function iee(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function aee(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}iee(n,e)}}function see(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Xs(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)GR(t.charCodeAt(i),r,n);return new Uint8Array(e)}function oee(t){const e=[];return aee(t,r=>e.push(r)),new Uint8Array(e)}function Da(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>YP(i,r,n)),YP(null,r,n),e.join("")}function lee(t){return Math.round(Date.now()/1e3)+t}function cee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},XR=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function uee(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const YR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>ns);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},dee=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Sa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bi=async(t,e)=>{await t.removeItem(e)};class Uh{constructor(){this.promise=new Uh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Uh.promiseConstructor=Promise;function Kv(t){const e=t.split(".");if(e.length!==3)throw new qb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JZ.test(e[n]))throw new qb("JWT not in base64url format");return{header:JSON.parse(JP(e[0])),payload:JSON.parse(JP(e[1])),signature:Xs(e[2]),raw:{header:e[0],payload:e[1]}}}async function fee(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hee(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function mee(t){return("0"+t.toString(16)).substr(-2)}function pee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,mee).join("")}async function gee(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yee(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await gee(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(t,e,r=!1){const n=pee();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Bs(t,`${e}-code-verifier`,i);const a=await yee(n);return[a,n===a?"plain":"s256"]}const vee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xee(t){const e=t.headers.get(Lb);if(!e||!e.match(vee))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bee(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(t){if(!jee.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QP(t){return JSON.parse(JSON.stringify(t))}const Oa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_ee=[502,503,504];async function ZP(t){var e;if(!dee(t))throw new Bb(Oa(t),0);if(_ee.includes(t.status))throw new Bb(Oa(t),t.status);let r;try{r=await t.json()}catch(a){throw new Ta(Oa(a),a)}let n;const i=xee(t);if(i&&i.getTime()>=VR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GP(Oa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new GP(Oa(r),t.status,r.weak_password.reasons);throw new ZZ(Oa(r),t.status||500,n)}const Nee=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Me(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Lb]||(a[Lb]=VR["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await See(t,e,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function See(t,e,r,n,i,a){const o=Nee(e,n,i,a);let u;try{u=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new Bb(Oa(d),0)}if(u.ok||await ZP(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await ZP(d)}}function hn(t){var e;let r=null;Oee(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=lee(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function eT(t){const e=hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kee(t){return{data:t,error:null}}function Aee(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Uo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function tT(t){return t}function Oee(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gv=["global","local","others"];class Eee{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=YR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Gv[0]){if(Gv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gv.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Uo(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Aee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:tT});if(p.error)throw p.error;const m=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=x}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Rs(e);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rs(e);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rs(e);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rs(e.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rs(e.userId),Rs(e.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:tT});if(p.error)throw p.error;const m=await p.json(),g=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=x}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function rT(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&XR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pee extends JR{}async function Tee(t,e,r){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pee(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Cee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function QR(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Iee(t){return parseInt(t,16)}function Ree(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function $ee(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:p,uri:m,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=QR(t.address),w=p?`${p}://${n}`:n,x=t.statement?`${t.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${v}

${x}`;let S=`URI: ${m}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),u&&(S+=`
Not Before: ${u.toISOString()}`),d&&(S+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const _ of f){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);N+=`
- ${_}`}S+=N}return`${b}
${S}`}class Et extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class eh extends Et{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Mee({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ZR(o)){if(a.rp.id!==o)return new Et({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Dee({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ZR(n)){if(r.rpId!==n)return new Et({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Lee{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Bee=new Lee;function qee(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Uo(t,["challenge","user","excludeCredentials"]),a=Xs(e).buffer,o=Object.assign(Object.assign({},r),{id:Xs(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Xs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Fee(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Uo(t,["challenge","allowCredentials"]),i=Xs(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Xs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Uee(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Da(new Uint8Array(t.response.attestationObject)),clientDataJSON:Da(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zee(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Da(new Uint8Array(i.authenticatorData)),clientDataJSON:Da(new Uint8Array(i.clientDataJSON)),signature:Da(new Uint8Array(i.signature)),userHandle:i.userHandle?Da(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ZR(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function nT(){var t,e;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Wee(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eh("Browser returned unexpected credential type",e)}:{data:null,error:new eh("Empty credential response",e)}}catch(e){return{data:null,error:Mee({error:e,options:t})}}}async function Hee(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eh("Browser returned unexpected credential type",e)}:{data:null,error:new eh("Empty credential response",e)}}catch(e){return{data:null,error:Dee({error:e,options:t})}}}const Kee={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vee={userVerification:"preferred",hints:["security-key"]};function th(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const u=n[a];e(u)?n[a]=th(u,o):n[a]=th(o)}else n[a]=o}return n}function Gee(t,e){return th(Kee,t,e||{})}function Xee(t,e){return th(Vee,t,e||{})}class Yee{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:u};const d=i??Bee.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=Gee(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:m}=await Wee({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=Xee(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:m}=await Hee(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new zc("rpId is required for WebAuthn authentication")};try{if(!nT())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new zc("rpId is required for WebAuthn registration")};try{if(!nT())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in register",o)}}}}Cee();const Jee={url:GZ,storageKey:XZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iT(t,e,r){return await r()}const Ms={};class Wc{get jwks(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wc.nextInstanceID,Wc.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Jee),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Eee({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=YR(i.fetch),this.lock=i.lock||iT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Tee:this.lock=iT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yee(this)},this.persistSession?(i.storage?this.storage=i.storage:XR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rT(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${KR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=uee(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ree(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Ta("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:hn}),{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:m,options:g}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Is(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:p,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:hn})}else if("phone"in e){const{phone:p,password:m,options:g}=e;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:hn})}else throw new $d("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:u}=e;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eT})}else if("phone"in e){const{phone:a,password:o,options:u}=e;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eT})}else throw new $d("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,u,d,f,p,m,g;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:x,wallet:b,statement:S,options:N}=e;let _;if(Pr())if(typeof b=="object")_=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")_=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),A=await _.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=QR(A[0]);let T=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const $=await _.request({method:"eth_chainId"});T=Iee($)}const R={domain:E.host,address:O,statement:S,uri:E.href,version:"1",chainId:T,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=$ee(R),w=await _.request({method:"personal_sign",params:[Ree(v),O]})}try{const{data:x,error:b}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:hn});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Cs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(Te(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,i,a,o,u,d,f,p,m,g,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:b,wallet:S,statement:N,options:_}=e;let E;if(Pr())if(typeof S=="object")E=S;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))E=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const A=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const O=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let T;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")T=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)T=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),x=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((f=_==null?void 0:_.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(p=_==null?void 0:_.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const O=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=O}}try{const{data:b,error:S}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Da(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:hn});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Cs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(Te(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Sa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:hn});if(await Bi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,u=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hn}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Cs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Is(this.storage,this.storageKey));const{error:m}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new $d("You must provide either an email or phone number.")}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:hn});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Is(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:kee})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fi;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:u}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new $d("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Sa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Vv()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,p)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fi}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Wi})})}catch(r){if(Te(r))return tee(r)&&(await this._removeSession(),await Bi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Fi;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Is(this.storage,this.storageKey));const{data:f,error:p}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Wi});if(p)throw p;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fi;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Kv(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:u}=r;if(u)throw u;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fi;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Pr())throw new Md("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Md(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new VP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Md("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new VP("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=e;if(!a||!u||!o||!f)throw new Md("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let g=p+m;d&&(g=parseInt(d));const v=g-p;v*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const w=g-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,p);const{data:x,error:b}=await this._getUser(a);if(b)throw b;const S={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(eee(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Bi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=cee(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Is(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,u,d,f,p;const{data:m,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Pr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:u,token:d,access_token:f,nonce:p}=e,m=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hn}),{data:g,error:v}=m;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Cs}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:v})}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hee(async i=>(i>0&&await fee(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Hv(a)&&Date.now()+o-n<Ls})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Sa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Bs(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Vv()}else if(i&&!i.user&&!i.user){const o=await Sa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Bi(this.storage,this.storageKey+"-user"),await Bs(this.storage,this.storageKey,i)):i.user=Vv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Wv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Hv(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Uh;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Fi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Te(a)){const o={data:null,error:a};return Hv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=QP(i);await Bs(this.storage,this.storageKey,a)}else{const i=QP(r);await Bs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bi(this.storage,this.storageKey),await Bi(this.storage,this.storageKey+"-code-verifier"),await Bi(this.storage,this.storageKey+"-user"),this.userStorage&&await Bi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ls}ms, refresh threshold is ${Db} ticks`),i<=Db&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof JR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Is(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Uee(e.webauthn.credential_response):zee(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:qee(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Fee(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kv(i.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+QZ>i)return n;const{data:a,error:o}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:d}}=Kv(n);r!=null&&r.allowExpired||bee(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const p=wee(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,o,oee(`${u}.${d}`)))throw new qb("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}Wc.nextInstanceID=0;const Qee=Wc;class Zee extends Qee{constructor(e){super(e)}}class ete{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const u=VZ(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:BZ,realtime:FZ,auth:Object.assign(Object.assign({},qZ),{storageKey:d}),global:LZ},p=KZ(n??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=WZ(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new GQ(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new $Z(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new LQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:u,lock:d,debug:f},p,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zee({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:u,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dZ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tte=(t,e,r)=>new ete(t,e,r);function rte(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}rte()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e5="https://briiusmbfulqxpeqhouy.supabase.co",t5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJyaWl1c21iZnVscXhwZXFob3V5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMzQ4MDgsImV4cCI6MjA3NjYxMDgwOH0.rnn3R7iE06qwwtu_901_6YONZ500bfmusr48N3FcZDQ",nte=e5.includes("placeholder")||t5.includes("placeholder");nte&&(console.warn(" Supabase.envSupabase URL"),console.warn(" "),console.warn("1. Supabase"),console.warn("2. URLanon key"),console.warn("3. .envVITE_SUPABASE_URLVITE_SUPABASE_ANON_KEY"));const Oe=tte(e5,t5,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}});class r5{constructor(){ft(this,"apiKey");ft(this,"baseUrl");ft(this,"model");this.apiKey="your_kimi_api_key",this.baseUrl="https://api.moonshot.cn/v1",this.model="moonshot-v1-8k",this.apiKey||console.warn("KIMI API")}async sendMessage(e){var r,n,i,a,o,u,d,f;if(!this.apiKey)throw new Error("KIMI API");try{const p=this.buildSystemPrompt(e.conversationType,e.context),m=this.buildUserMessage(e.message,e.context),g={model:this.model,messages:[{role:"system",content:p},{role:"user",content:m}],temperature:.7,max_tokens:1e3};console.group(" KIMI API "),console.log(" URL:",`${this.baseUrl}/chat/completions`),console.log(" :","POST"),console.log(" :",this.model),console.log(" :",m),console.log(" :",e.conversationType||"general"),console.log(" :",JSON.stringify(g,null,2)),console.log(" :",new Date().toISOString()),console.groupEnd();const v=performance.now(),w=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(g)}),x=performance.now(),b=Math.round(x-v);if(console.group(" KIMI API "),console.log(" :",w.status,w.statusText),console.log(" :",`${b}ms`),console.log(" :",Object.fromEntries(w.headers.entries())),!w.ok){const _=await w.text();throw console.error(" :",_),console.groupEnd(),new Error(`KIMI API: ${w.status} ${w.statusText}. : ${_}`)}const S=await w.json();console.log(" :",JSON.stringify(S,null,2)),console.log(" AI:",((n=(r=S.choices[0])==null?void 0:r.message)==null?void 0:n.content)||""),console.log(" :",{prompt_tokens:((i=S.usage)==null?void 0:i.prompt_tokens)||0,completion_tokens:((a=S.usage)==null?void 0:a.completion_tokens)||0,total_tokens:((o=S.usage)==null?void 0:o.total_tokens)||0}),console.groupEnd();const N=((d=(u=S.choices[0])==null?void 0:u.message)==null?void 0:d.content)||"";return this.parseAIResponse(N,e.conversationType)}catch(p){if(console.group(" KIMI API "),console.error(":",((f=p==null?void 0:p.constructor)==null?void 0:f.name)||"Unknown"),console.error(":",p instanceof Error?p.message:String(p)),console.error(":",p instanceof Error?p.stack:""),console.error(":",{conversationType:e.conversationType,messageLength:e.message.length,hasContext:!!e.context}),console.groupEnd(),p instanceof TypeError&&p.message.includes("fetch"))return console.warn(" CORS"),this.getMockResponse(e);if(p instanceof Error&&p.message.includes("401"))throw new Error("APIKIMI API");if(p instanceof Error&&p.message.includes("429"))throw new Error("API");if(p instanceof Error&&p.message.includes("500"))throw new Error("KIMI");if(p instanceof Error&&p.message.includes("KIMI API"))throw p;return console.warn(" API:",p),this.getMockResponse(e)}}getMockResponse(e){const r={general:[`AI

1. 
2. 
3. 
4. 

`,`AI


- 
- 
- 
- 

`,`AI

 
 
 
 

`],women_safety:[`

 
- 
- 
- 
- 

 
- 
- 
- 

`,`

 
- 
- 
- 
- 

 
- 
- 
- APP

`],emergency:[`  



 
1. 110
2. 
3. 

 
- 
- 
- 

`,`  



 
- 
- 
- 

 
- 110
- 120
- 119

`]},n=e.conversationType||"general",i=r[n]||r.general,a=i[Math.floor(Math.random()*i.length)];return this.parseAIResponse(a,e.conversationType)}buildSystemPrompt(e,r){const n=`AI


1. 
2. 
3. 
4. 
5. 


- 
- 
- 
- 
- `;let i="";switch(e){case"women_safety":i=`


- 
- 
- 
- 
- `;break;case"emergency":i=`



- 
- 
- 
- 
- `;break;case"analysis":i=`


- 
- 
- 
- 
- `;break;default:i=`

`}if(r){let a=`

`;r.locationData&&(a+=`
${r.locationData.address||""}`,r.locationData.safetyLevel&&(a+=`${r.locationData.safetyLevel}/10`)),r.userContext&&(a+=`
`,r.userContext.gender&&(a+=`${r.userContext.gender}`),r.userContext.runningExperience&&(a+=`${r.userContext.runningExperience}`)),r.safetyContext&&(a+=`
`,r.safetyContext.timeOfDay&&(a+=`${r.safetyContext.timeOfDay}`),r.safetyContext.weather&&(a+=`${r.safetyContext.weather}`),r.safetyContext.crowdLevel&&(a+=`${r.safetyContext.crowdLevel}`),r.safetyContext.lightingCondition&&(a+=`${r.safetyContext.lightingCondition}`)),i+=a}return n+i}buildUserMessage(e,r){return e}parseAIResponse(e,r){const n={message:e,confidence:.8};(["","","","","","110","120"].some(u=>e.toLowerCase().includes(u.toLowerCase()))||r==="emergency")&&(n.emergencyLevel="high",n.actionRequired=!0);const o=[];return e.includes("")&&o.push("AI"),o.length>0&&(n.suggestions=o),n.metadata={provider:"kimi",model:this.model,conversationType:r,timestamp:new Date().toISOString()},n}async checkConnection(){if(!this.apiKey)return!1;try{return(await fetch(`${this.baseUrl}/models`,{headers:{Authorization:`Bearer ${this.apiKey}`}})).ok}catch{return!1}}}class ite{async getUserPreferences(e){try{console.log(" :",{userId:e});const{data:r,error:n}=await Oe.from("user_preferences").select("*").eq("user_id",e).limit(1);if(n)throw console.error(" :",n),n;if(r&&r.length>0&&"preference_type"in r[0]){const{data:i,error:a}=await Oe.from("user_preferences").select("*").eq("user_id",e);if(a)throw console.error(" :",a),a;const o={};return i==null||i.forEach(u=>{o[u.preference_type]=u.preferences}),o}else{const{data:i,error:a}=await Oe.from("user_preferences").select("running_preferences, safety_preferences, notification_preferences").eq("user_id",e).single();if(a&&a.code!=="PGRST116")throw console.error(" :",a),a;return{running:(i==null?void 0:i.running_preferences)||this.getDefaultRunningPreferences(),safety:(i==null?void 0:i.safety_preferences)||this.getDefaultSafetyPreferences(),notification:(i==null?void 0:i.notification_preferences)||this.getDefaultNotificationPreferences()}}}catch(r){throw console.error(" :",r),r}}async getRunningPreferences(e){try{console.log(" :",{userId:e});const{data:r,error:n}=await Oe.from("user_preferences").select("preferences").eq("user_id",e).eq("preference_type","running").single();if(n&&n.code!=="PGRST116")throw console.error(" :",n),n;const i=r==null?void 0:r.preferences;return console.log(" :",i),i||this.getDefaultRunningPreferences()}catch(r){return console.error(" :",r),this.getDefaultRunningPreferences()}}async updateRunningPreferences(e,r){try{console.log(" :",{userId:e,preferences:r});const{error:n}=await Oe.from("user_preferences").upsert({user_id:e,preference_type:"running",preferences:r,updated_at:new Date().toISOString()},{onConflict:"user_id,preference_type"});if(n)throw console.error(" :",n),n;console.log(" ")}catch(n){throw console.error(" :",n),n}}async getSafetyPreferences(e){try{console.log(" :",{userId:e});const{data:r,error:n}=await Oe.from("user_preferences").select("preferences").eq("user_id",e).eq("preference_type","safety").single();if(n&&n.code!=="PGRST116")throw console.error(" :",n),n;const i=r==null?void 0:r.preferences;return console.log(" :",i),i||this.getDefaultSafetyPreferences()}catch(r){return console.error(" :",r),this.getDefaultSafetyPreferences()}}async updateSafetyPreferences(e,r){try{console.log(" :",{userId:e,preferences:r});const{error:n}=await Oe.from("user_preferences").upsert({user_id:e,preference_type:"safety",preferences:r,updated_at:new Date().toISOString()},{onConflict:"user_id,preference_type"});if(n)throw console.error(" :",n),n;console.log(" ")}catch(n){throw console.error(" :",n),n}}async getNotificationPreferences(e){try{console.log(" :",{userId:e});const{data:r,error:n}=await Oe.from("user_preferences").select("preferences").eq("user_id",e).eq("preference_type","notification").single();if(n&&n.code!=="PGRST116")throw console.error(" :",n),n;const i=r==null?void 0:r.preferences;return console.log(" :",i),i||this.getDefaultNotificationPreferences()}catch(r){return console.error(" :",r),this.getDefaultNotificationPreferences()}}async updateNotificationPreferences(e,r){try{console.log(" :",{userId:e,preferences:r});const{error:n}=await Oe.from("user_preferences").upsert({user_id:e,preference_type:"notification",preferences:r,updated_at:new Date().toISOString()},{onConflict:"user_id,preference_type"});if(n)throw console.error(" :",n),n;console.log(" ")}catch(n){throw console.error(" :",n),n}}async saveUserPreferences(e,r){try{console.log(" :",{userId:e,updatedPreferences:r});const{error:n}=await Oe.from("user_preferences").upsert({user_id:e,running_preferences:r.running,safety_preferences:r.safety,notification_preferences:r.notification,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(n)throw console.error(" :",n),n;console.log(" ")}catch(n){throw console.error(" :",n),n}}async deleteUserPreferences(e){try{console.log(" :",{userId:e});const{error:r}=await Oe.from("user_preferences").delete().eq("user_id",e);if(r)throw console.error(" :",r),r;console.log(" ")}catch(r){throw console.error(" :",r),r}}async inferPreferencesFromHistory(e){try{console.log(" :",{userId:e});const{data:r,error:n}=await Oe.from("running_history").select("*").eq("user_id",e).order("completed_at",{ascending:!1}).limit(20);if(n)throw console.error(" :",n),n;if(!r||r.length===0)return console.log(" "),{};const i=r.map(g=>g.distance),a=r.map(g=>g.duration_minutes),o=i.reduce((g,v)=>g+v,0)/i.length,u=a.reduce((g,v)=>g+v,0)/a.length;let d="5km";o<3?d="3km":o<=5?d="3-5km":o<=10?d="5-10km":d="10km";let f="medium";const p=u/o;p>7?f="easy":p<5&&(f="hard");const m={preferredDistance:d,difficulty:[f]};return console.log(" :",m),m}catch(r){return console.error(" :",r),{}}}getDefaultRunningPreferences(){return{difficulty:["medium"],preferredDistance:"5km",timeOfDay:["morning"],routeTypes:["park","waterfront"],avoidTraffic:!0,preferredWeather:["sunny","cloudy"],maxElevation:100}}getDefaultSafetyPreferences(){return{nightRunning:!1,buddySystem:!1,emergencyContacts:!0,safetyAlerts:!0,avoidIsolatedAreas:!0}}getDefaultNotificationPreferences(){return{aiRecommendations:!0,weatherAlerts:!0,routeUpdates:!0,frequency:"daily",pushNotifications:!0,quietHours:{start:"22:00",end:"08:00"}}}validatePreferences(e,r){try{switch(r){case"running":return this.validateRunningPreferences(e);case"safety":return this.validateSafetyPreferences(e);case"notification":return this.validateNotificationPreferences(e);default:return!1}}catch(n){return console.error(" :",n),!1}}validateRunningPreferences(e){return Array.isArray(e.difficulty)&&typeof e.preferredDistance=="string"&&Array.isArray(e.timeOfDay)&&Array.isArray(e.routeTypes)&&typeof e.avoidTraffic=="boolean"&&Array.isArray(e.preferredWeather)&&typeof e.maxElevation=="number"}validateSafetyPreferences(e){return typeof e.nightRunning=="boolean"&&typeof e.buddySystem=="boolean"&&typeof e.emergencyContacts=="boolean"&&typeof e.safetyAlerts=="boolean"&&typeof e.avoidIsolatedAreas=="boolean"}validateNotificationPreferences(e){const r=["daily","weekly","monthly"];return typeof e.aiRecommendations=="boolean"&&typeof e.weatherAlerts=="boolean"&&typeof e.routeUpdates=="boolean"&&r.includes(e.frequency)&&typeof e.pushNotifications=="boolean"}}const Fb=new ite;class ate{constructor(){ft(this,"kimiClient");this.kimiClient=new r5}async getRecommendations(e){try{console.log(" AI:",e);const r=await Fb.getRunningPreferences(e.userId),n=await this.getUserRunningHistory(e.userId),i=await this.getAvailableRoutes(e),a=await this.buildRecommendationContext(e,r),o=await this.getAIRecommendations(e,r,n,i,a);await this.saveRecommendations(e.userId,o);const u={recommendations:o,reasoning:this.generateRecommendationReasoning(o),confidence:this.calculateOverallConfidence(o),metadata:{totalRoutes:i.length,processingTime:Date.now(),aiModel:"moonshot-v1-8k",version:"1.0.0",factors:{userHistory:.3,preferences:.4,context:.2,community:.1}}};return console.log(" AI:",u),u}catch(r){throw console.error(" AI:",r),r}}async getAIRecommendations(e,r,n,i,a){try{const o={message:this.buildRecommendationPrompt(e,r,n,i,a),conversationType:"route_recommendation",context:{userPreferences:r,userHistory:n,availableRoutes:i.slice(0,10)}};console.log(" AI:",{messageLength:o.message.length,routeCount:i.length,hasPreferences:!!r,historyCount:n.length});const u=await this.kimiClient.sendMessage(o);return console.log(" AI:",u),this.parseAIRecommendationResponse(u,i,a)}catch(o){return console.error(" AI:",o),this.getFallbackRecommendations(e,r,i,a)}}buildRecommendationPrompt(e,r,n,i,a){return`
AI

## 
- ID: ${e.userId}
- : ${e.recommendationType||"daily"}
- : ${e.limit||5}

## 
${r?`
- : ${r.difficulty}
- : ${r.preferredDistance}
- : ${r.timeOfDay}
- : ${r.routeTypes.join(", ")}
- : ${r.avoidTraffic?"":""}
- : ${r.preferredWeather.join(", ")}
- : ${r.maxElevation}
`:""}

## 
${n.length>0?`
- : ${n.length}
- : ${(n.reduce((u,d)=>u+d.distance,0)/n.length).toFixed(1)}km
- : ${(n.reduce((u,d)=>u+d.duration_minutes,0)/n.length).toFixed(0)}
- : ${n.filter(u=>new Date(u.completed_at)>new Date(Date.now()-6048e5)).length}/
`:""}

## 
- : ${a.timeOfDay}
- : ${a.season}
${a.weather?`
- : ${a.weather.condition}
- : ${a.weather.temperature}C
- : ${a.weather.humidity}%
- : ${a.weather.windSpeed}km/h
- : ${a.weather.airQuality}
`:""}
${a.userLocation?`
- : ${a.userLocation.district}
`:""}

##  (10)
${i.slice(0,10).map((u,d)=>`
${d+1}. ${u.name}
   - : ${u.distance}km
   - : ${u.difficulty}
   - : ${u.rating}/5 (${u.reviews})
   - : ${u.location}
   - : ${u.elevation}m
   - : ${u.tags.join(", ")}
   - : ${u.description}
`).join("")}

## 
${e.limit||5}

1. **** (0-100): 
2. ****: 
3. ****: 
4. ****: 
5. ****: 

JSON
{
  "recommendations": [
    {
      "routeId": "ID",
      "suitabilityScore": 85,
      "personalizedReason": "...",
      "confidenceScore": 0.9,
      "riskAssessment": {
        "level": "low",
        "factors": ["", ""]
      },
      "personalizedTips": ["", ""],
      "estimatedPerformance": {
        "expectedTime": "25-30",
        "difficultyRating": 3,
        "caloriesBurn": 280
      }
    }
  ],
  "overallReasoning": "..."
}


`}parseAIRecommendationResponse(e,r,n){try{let i;if(typeof e.message=="string"){const o=e.message.match(/\{[\s\S]*\}/);o&&(i=JSON.parse(o[0]))}if(!i||!i.recommendations)return console.warn(" AI"),this.parseTextRecommendationResponse(e.message,r,n);const a=[];for(const o of i.recommendations){const u=r.find(f=>f.id===o.routeId);if(!u)continue;const d={id:`rec_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:"",routeId:u.id,recommendationType:"ai_powered",confidenceScore:o.confidenceScore||.8,reasoning:o.personalizedReason||"AI",context:n,aiAnalysis:{matchingFactors:o.matchingFactors||[],riskAssessment:o.riskAssessment||{level:"medium",factors:[]},personalizedTips:o.personalizedTips||[],estimatedPerformance:o.estimatedPerformance},createdAt:new Date,route:u,suitabilityScore:o.suitabilityScore||75,personalizedReason:o.personalizedReason||""};a.push(d)}return console.log(" AI:",a.length),a}catch(i){return console.error(" AI:",i),this.parseTextRecommendationResponse(e.message,r,n)}}parseTextRecommendationResponse(e,r,n){const i=[],a=r.map(u=>({route:u,keywords:[u.name,u.location,...u.tags].join(" ").toLowerCase()})),o=e.toLowerCase();for(const{route:u,keywords:d}of a.slice(0,5)){const f=this.calculateTextMatchScore(o,d);if(f>.1){const p={id:`rec_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:"",routeId:u.id,recommendationType:"ai_powered",confidenceScore:Math.min(f,.9),reasoning:"AI",context:n,aiAnalysis:{matchingFactors:["AI"],riskAssessment:{level:"medium",factors:[]},personalizedTips:[""],estimatedPerformance:{expectedTime:`${Math.round(u.distance*6)}-${Math.round(u.distance*8)}`,difficultyRating:u.difficulty==="easy"?2:u.difficulty==="hard"?4:3,caloriesBurn:Math.round(u.distance*60)}},createdAt:new Date,route:u,suitabilityScore:Math.round(f*100),personalizedReason:"AI"};i.push(p)}}return i.slice(0,5)}calculateTextMatchScore(e,r){const n=r.split(" ").filter(a=>a.length>1);let i=0;for(const a of n)e.includes(a)&&i++;return n.length>0?i/n.length:0}getFallbackRecommendations(e,r,n,i){console.log(" ");const a=[],o=e.limit||5,u=n.map(d=>{let f=50;if(r){d.difficulty===r.difficulty&&(f+=20);const p=d.distance,m=r.preferredDistance;this.isDistanceMatch(p,typeof m=="string"?m:`${m.min}-${m.max}km`)&&(f+=15),r.routeTypes.some(v=>d.tags.includes(v)||d.name.toLowerCase().includes(v))&&(f+=10),d.elevation<=r.maxElevation&&(f+=5)}return f+=d.rating*5,f+=Math.min(d.reviews/10,10),{route:d,score:f}});u.sort((d,f)=>f.score-d.score);for(let d=0;d<Math.min(o,u.length);d++){const{route:f,score:p}=u[d],m={id:`rec_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e.userId,routeId:f.id,recommendationType:e.recommendationType||"daily",confidenceScore:Math.min(p/100,.9),reasoning:"",context:i,aiAnalysis:{matchingFactors:this.getMatchingFactors(f,r),riskAssessment:{level:"medium",factors:[""]},personalizedTips:["",""],estimatedPerformance:{expectedTime:`${Math.round(f.distance*6)}-${Math.round(f.distance*8)}`,difficultyRating:f.difficulty==="easy"?2:f.difficulty==="hard"?4:3,caloriesBurn:Math.round(f.distance*60)}},createdAt:new Date,route:f,suitabilityScore:Math.round(p),personalizedReason:this.generatePersonalizedReason(f,r)};a.push(m)}return a}async getUserRunningHistory(e){try{const{data:r,error:n}=await Oe.from("running_history").select("*").eq("user_id",e).order("completed_at",{ascending:!1}).limit(20);if(n)throw n;return r||[]}catch(r){return console.error(" :",r),[]}}async getAvailableRoutes(e){let n=[{id:"route_1",name:"",distance:5.2,duration:"30-40",difficulty:"easy",rating:4.8,reviews:156,description:"",highlights:["","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Bund%20riverside%20running%20path%20at%20sunset&image_size=landscape_4_3",location:"",elevation:10,popularity:95,tags:["waterfront","urban","scenic"]},{id:"route_2",name:"",distance:3.8,duration:"25-35",difficulty:"easy",rating:4.6,reviews:203,description:"",highlights:["","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Century%20Park%20lake%20running%20track%20Shanghai&image_size=landscape_4_3",location:"",elevation:15,popularity:88,tags:["park","lake","professional"]},{id:"route_3",name:"",distance:4.5,duration:"28-38",difficulty:"medium",rating:4.4,reviews:89,description:"",highlights:["","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Lujiazui%20financial%20district%20morning%20run%20Shanghai&image_size=landscape_4_3",location:"",elevation:25,popularity:75,tags:["urban","financial","modern"]}];return e.excludeRoutes&&e.excludeRoutes.length>0&&(n=n.filter(i=>!e.excludeRoutes.includes(i.id))),n}async buildRecommendationContext(e,r){const n=new Date,i=n.getHours();let a="morning";i>=12&&i<18?a="afternoon":i>=18&&i<22?a="evening":(i>=22||i<6)&&(a="night");const o=n.getMonth();let u="spring";return o>=5&&o<=7?u="summer":o>=8&&o<=10?u="autumn":(o>=11||o<=1)&&(u="winter"),{timeOfDay:a,season:u,weather:{condition:"sunny",temperature:22,humidity:65,windSpeed:8,airQuality:"good"}}}async saveRecommendations(e,r){try{const n=r.map(a=>({user_id:e,route_id:a.routeId,recommendation_type:a.recommendationType,confidence_score:a.confidenceScore,reasoning:a.reasoning,context:a.context,ai_analysis:a.aiAnalysis,created_at:new Date().toISOString()})),{error:i}=await Oe.from("route_recommendations").insert(n);if(i)throw i;console.log(" ")}catch(n){console.error(" :",n)}}async submitFeedback(e){try{const{error:r}=await Oe.from("recommendation_feedback").insert({recommendation_id:e.recommendationId,user_id:e.userId,rating:e.rating,feedback_text:e.feedbackText,is_used:e.isUsed,usage_data:e.usageData,created_at:new Date().toISOString()});if(r)throw r;console.log(" ")}catch(r){throw console.error(" :",r),r}}async getRecommendationStats(e){try{const{count:r}=await Oe.from("route_recommendations").select("*",{count:"exact",head:!0}).eq("user_id",e),{count:n}=await Oe.from("recommendation_feedback").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("is_used",!0),{data:i}=await Oe.from("recommendation_feedback").select("rating").eq("user_id",e),a=i&&i.length>0?i.reduce((u,d)=>u+d.rating,0)/i.length:0;return{totalRecommendations:r||0,usedRecommendations:n||0,averageRating:a,favoriteRouteTypes:["park","waterfront"],improvementSuggestions:["",""],accuracyTrend:[]}}catch(r){throw console.error(" :",r),r}}isDistanceMatch(e,r){switch(r){case"3km":return e<3;case"3-5km":return e>=3&&e<=5;case"5-10km":return e>5&&e<=10;case"10km":return e>10;default:return!0}}getMatchingFactors(e,r){const n=[];return r&&(e.difficulty===r.difficulty&&n.push(""),r.routeTypes.some(i=>e.tags.includes(i))&&n.push(""),e.elevation<=r.maxElevation&&n.push("")),e.rating>=4&&n.push(""),n}generatePersonalizedReason(e,r){let n=`${e.name}`;return r&&(e.difficulty===r.difficulty&&(n+=`${e.difficulty}`),r.routeTypes.some(i=>e.tags.includes(i))&&(n+="")),n+=`${e.rating}/5`,n}generateRecommendationReasoning(e){if(e.length===0)return"";const r=e.reduce((i,a)=>i+a.confidenceScore,0)/e.length,n=e[0];return`${e.length}${(r*100).toFixed(0)}%${n.route.name}${n.personalizedReason}`}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,n)=>r+n.confidenceScore,0)/e.length}}const aT=new ate,Bl=t=>/^1[3-9]\d{9}$/.test(t),Dd=t=>t.startsWith("+86")?t:`+86${t}`,iu=()=>{const{user:t,isAuthenticated:e,isLoading:r,setUser:n,setAuthenticated:i,setLoading:a,logout:o}=DD();return P.useEffect(()=>{(async()=>{a(!0);try{const{data:{session:S},error:N}=await Oe.auth.getSession();if(N){console.error("Error getting session:",N);return}if(S!=null&&S.user){const{data:_,error:E}=await Oe.from("users").select("*").eq("id",S.user.id).single();if(E){console.error("Error fetching user data:",E);return}const A={id:_.id,email:_.email,nickname:_.nickname,avatarUrl:_.avatar_url,height:_.height,weight:_.weight,birthDate:_.birth_date,gender:_.gender,runningExperience:_.running_experience,weeklyGoal:_.weekly_goal,monthlyGoal:_.monthly_goal,interestTags:_.interest_tags||[],createdAt:_.created_at,updatedAt:_.updated_at};n(A),i(!0)}else n(null),i(!1)}catch(S){console.error("Error in getSession:",S)}finally{a(!1)}})();const{data:{subscription:b}}=Oe.auth.onAuthStateChange(async(S,N)=>{if(S==="SIGNED_IN"&&(N!=null&&N.user)){const{data:_,error:E}=await Oe.from("users").select("*").eq("id",N.user.id).single();if(!E&&_){const A={id:_.id,email:_.email,nickname:_.nickname,avatarUrl:_.avatar_url,height:_.height,weight:_.weight,birthDate:_.birth_date,gender:_.gender,runningExperience:_.running_experience,weeklyGoal:_.weekly_goal,monthlyGoal:_.monthly_goal,interestTags:_.interest_tags||[],createdAt:_.created_at,updatedAt:_.updated_at};n(A),i(!0)}}else S==="SIGNED_OUT"&&(n(null),i(!1))});return()=>b.unsubscribe()},[n,i,a]),{user:t,isAuthenticated:e,isLoading:r,signIn:async(x,b)=>{a(!0);try{const{data:S,error:N}=await Oe.auth.signInWithPassword({email:x,password:b});if(N)throw N;return{data:S,error:null}}catch(S){return{data:null,error:S.message}}finally{a(!1)}},signUp:async(x,b,S)=>{a(!0);try{const{data:N,error:_}=await Oe.auth.signUp({email:x,password:b,options:{emailRedirectTo:void 0,data:{nickname:S}}});if(_)throw _;if(N.user){const{error:E}=await Oe.from("users").insert({id:N.user.id,email:N.user.email,nickname:S});E&&console.error("Error creating user profile:",E)}return{data:N,error:null}}catch(N){return{data:null,error:N.message}}finally{a(!1)}},signOut:async()=>{a(!0);try{const{error:x}=await Oe.auth.signOut();if(x)throw x;o()}catch(x){console.error("Error signing out:",x)}finally{a(!1)}},updateProfile:async x=>{if(!t)return{error:"No user logged in"};a(!0);try{const{error:b}=await Oe.from("users").update({nickname:x.nickname,avatar_url:x.avatarUrl,height:x.height,weight:x.weight,birth_date:x.birthDate,gender:x.gender,running_experience:x.runningExperience,weekly_goal:x.weeklyGoal,monthly_goal:x.monthlyGoal,interest_tags:x.interestTags,updated_at:new Date().toISOString()}).eq("id",t.id);if(b)throw b;return n({...t,...x}),{error:null}}catch(b){return{error:b.message}}finally{a(!1)}},sendPhoneOTP:async x=>{if(!Bl(x))return{data:null,error:""};a(!0);try{const b=Dd(x),{data:S,error:N}=await Oe.auth.signInWithOtp({phone:b});if(N){if(N.message.includes("Unsupported phone provider")||N.message.includes("phone provider"))return{data:null,error:""};throw N}return{data:S,error:null}}catch(b){let S=b.message;return(S.includes("Unsupported phone provider")||S.includes("phone provider"))&&(S=""),{data:null,error:S}}finally{a(!1)}},verifyPhoneOTP:async(x,b,S)=>{if(!Bl(x))return{data:null,error:""};a(!0);try{const N=Dd(x),{data:_,error:E}=await Oe.auth.verifyOtp({phone:N,token:b,type:"sms"});if(E)throw E;if(_.user){const{error:A}=await Oe.from("users").insert({id:_.user.id,phone:x,nickname:S});A&&console.error("Error creating user profile:",A)}return{data:_,error:null}}catch(N){return{data:null,error:N.message}}finally{a(!1)}},signInWithPhone:async x=>{if(!Bl(x))return{data:null,error:""};a(!0);try{const b=Dd(x),{data:S,error:N}=await Oe.auth.signInWithOtp({phone:b});if(N){if(N.message.includes("Unsupported phone provider")||N.message.includes("phone provider"))return{data:null,error:""};throw N}return{data:S,error:null}}catch(b){let S=b.message;return(S.includes("Unsupported phone provider")||S.includes("phone provider"))&&(S=""),{data:null,error:S}}finally{a(!1)}},verifyPhoneLogin:async(x,b)=>{if(!Bl(x))return{data:null,error:""};a(!0);try{const S=Dd(x),{data:N,error:_}=await Oe.auth.verifyOtp({phone:S,token:b,type:"sms"});if(_)throw _;return{data:N,error:null}}catch(S){return{data:null,error:S.message}}finally{a(!1)}},validatePhoneNumber:Bl}};class Ud{static async loadAmap(){if(this.isLoaded&&window.AMap)return console.log(" API"),Promise.resolve();if(this.isLoading&&this.loadPromise)return console.log(" API..."),this.loadPromise;this.isLoading=!0,this.loadPromise=this.doLoadAmap();try{await this.loadPromise,this.isLoaded=!0,console.log(" API")}catch(e){throw console.error(" API:",e),e}finally{this.isLoading=!1}}static doLoadAmap(){return new Promise((e,r)=>{console.log(" API...");const n="b4bbc4d6ac83b3431412e4f99c4d7b26";if(console.log(" API:",n.substring(0,8)+"..."),window.AMap){console.log(" APIwindow"),e();return}const i=document.createElement("script"),a=`https://webapi.amap.com/maps?v=2.0&key=${n}&plugin=AMap.Geolocation,AMap.Scale,AMap.ToolBar`;console.log(" URL:",a),i.src=a,i.async=!0,i.defer=!0,i.onload=()=>{if(console.log(" API"),window.AMap)console.log(" API:",{version:window.AMap.version||"unknown",plugins:Object.keys(window.AMap).filter(u=>u.startsWith("AMap")||u==="Geolocation")}),e();else{const u=new Error("APIAMap");console.error(" API:",u),r(u)}},i.onerror=u=>{const d=new Error("API");console.error(" :",{event:u,scriptUrl:a}),r(d)};const o=setTimeout(()=>{const u=new Error("API");console.error(" :",u),i.remove(),r(u)},15e3);i.onload=()=>{if(clearTimeout(o),window.AMap)console.log(" API"),e();else{const u=new Error("APIAMap");r(u)}},document.head.appendChild(i),console.log(" API")})}static isAmapAvailable(){const e=typeof window<"u"&&!!window.AMap;return console.log(" API:",{windowExists:typeof window<"u",amapExists:!!window.AMap,available:e}),e}static getLoadStatus(){return{isLoading:this.isLoading,isLoaded:this.isLoaded,isAvailable:this.isAmapAvailable()}}}ft(Ud,"isLoading",!1),ft(Ud,"isLoaded",!1),ft(Ud,"loadPromise",null);const Ds={latitude:31.2304,longitude:121.4737,address:""},ste=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=15e3,maximumAge:n=3e5,trackingInterval:i=5e3,useAmapFirst:a=!0}=t,[o,u]=P.useState(null),[d,f]=P.useState(null),[p,m]=P.useState(!1),[g,v]=P.useState(null),[w,x]=P.useState(null),b=P.useRef(null),S=P.useRef(null),N=P.useRef(null),_=P.useCallback(()=>{const I=typeof window<"u"&&window.AMap;return console.log(" API:",{windowExists:typeof window<"u",amapExists:!!window.AMap,available:I}),I},[]),E=P.useCallback(()=>new Promise(async(I,M)=>{console.log(" ...");try{await Ud.loadAmap(),console.log(" API")}catch(z){console.error(" API:",z),M(new Error(`API: ${z.message}`));return}if(!_()){const z=new Error("API");console.error(" API:",z),M(z);return}console.log(" ..."),window.AMap.plugin("AMap.Geolocation",()=>{console.log(" ");const z=new window.AMap.Geolocation({enableHighAccuracy:!0,timeout:r,maximumAge:n,showButton:!1,showMarker:!1,panToLocation:!1});N.current=z,console.log(" :",{enableHighAccuracy:!0,timeout:r,maximumAge:n}),z.getCurrentPosition((U,D)=>{if(console.log(" :",{status:U,result:D}),U==="complete"){const q={latitude:D.position.lat,longitude:D.position.lng,altitude:D.position.altitude||null,accuracy:D.accuracy||null,speed:null,heading:null,timestamp:new Date};console.log(" :",q),x("amap"),I(q)}else{const q=`: ${(D==null?void 0:D.message)||(D==null?void 0:D.info)||U}`;console.warn(" :",{status:U,result:D,errorMsg:q}),M(new Error(q))}})})}),[r,n,_]),A=P.useCallback(()=>new Promise((I,M)=>{if(!navigator.geolocation){M(new Error(""));return}const z={enableHighAccuracy:e,timeout:r,maximumAge:n};navigator.geolocation.getCurrentPosition(U=>{const D={latitude:U.coords.latitude,longitude:U.coords.longitude,altitude:U.coords.altitude,accuracy:U.coords.accuracy,speed:U.coords.speed,heading:U.coords.heading,timestamp:new Date(U.timestamp)};console.log(" :",D),x("browser"),I(D)},U=>{console.warn(" :",U),M(new Error(`: ${U.message}`))},z)}),[e,r,n]),O=P.useCallback(async()=>{console.log(" ...");try{if(a&&_())try{const M=await E();return u(M),v(M.accuracy),f(null),M}catch(M){console.warn("...",M)}try{const M=await A();return u(M),v(M.accuracy),f(null),M}catch(M){console.warn("...",M)}const I={latitude:Ds.latitude,longitude:Ds.longitude,altitude:null,accuracy:null,speed:null,heading:null,timestamp:new Date};return console.log(" :",I),x("default"),u(I),v(null),f(""),I}catch(I){throw console.error(" :",I),f(""),I}},[a,_,E,A]),T=P.useCallback(async()=>{try{const I=await O();let M="",z="";switch(w){case"amap":M=`:  ${I.latitude.toFixed(4)},  ${I.longitude.toFixed(4)}`,z="";break;case"browser":M=`:  ${I.latitude.toFixed(4)},  ${I.longitude.toFixed(4)}`,z="";break;case"default":M=Ds.address,z="";break;default:M=` ${I.latitude.toFixed(4)},  ${I.longitude.toFixed(4)}`,z=""}return{latitude:I.latitude,longitude:I.longitude,address:M,accuracy:I.accuracy||void 0,method:z}}catch{return{latitude:Ds.latitude,longitude:Ds.longitude,address:Ds.address,method:""}}},[O,w]),R=P.useCallback(()=>{p||(m(!0),O().catch(console.error),S.current=setInterval(()=>{O().catch(console.error)},i),navigator.geolocation&&(b.current=navigator.geolocation.watchPosition(I=>{const M={latitude:I.coords.latitude,longitude:I.coords.longitude,altitude:I.coords.altitude,accuracy:I.coords.accuracy,speed:I.coords.speed,heading:I.coords.heading,timestamp:new Date(I.timestamp)};u(M),v(I.coords.accuracy),x("browser")},I=>{console.warn(":",I)},{enableHighAccuracy:e,timeout:r,maximumAge:n})))},[p,O,i,e,r,n]),$=P.useCallback(()=>{m(!1),S.current&&(clearInterval(S.current),S.current=null),b.current!==null&&(navigator.geolocation.clearWatch(b.current),b.current=null)},[]);return P.useEffect(()=>()=>{$()},[$]),{location:o,error:d,isTracking:p,accuracy:g,locationMethod:w,startTracking:R,stopTracking:$,getCurrentPosition:O,getFormattedLocation:T}};class ote{constructor(){ft(this,"apiKey");ft(this,"baseUrl");ft(this,"model");this.apiKey="sk-983a0af9652a4f6e9b7c99fc5a95a1a1",this.baseUrl="https://api.deepseek.com/v1",this.model="deepseek-chat",this.apiKey||console.warn("DeepSeek API")}async sendMessage(e){var r,n;if(!this.apiKey)throw new Error("DeepSeek API");try{const i=this.buildSystemPrompt(e.conversationType,e.context),a=this.buildUserMessage(e.message,e.context),o=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.model,messages:[{role:"system",content:i},{role:"user",content:a}],temperature:.7,max_tokens:1e3,stream:!1})});if(!o.ok)throw new Error(`DeepSeek API: ${o.status} ${o.statusText}`);const d=((n=(r=(await o.json()).choices[0])==null?void 0:r.message)==null?void 0:n.content)||"";return this.parseAIResponse(d,e.conversationType)}catch(i){throw console.error("DeepSeek API:",i),new Error("AI")}}buildSystemPrompt(e,r){const n=`AI


1. 
2. 
3. 
4. 
5. 


- 
- 
- 
- `;let i="";switch(e){case"route_recommendation":i=`

RouteAgent
- 
- 
- 
- 
- 
- 

`;break;case"challenge_competition":i=`

ChallengeAgent
- 
- 
- 
- 
- 
- 

`;break;case"safety_advisor":i=`

SafetyAgent
- 
- 
- 
- 
- 
- 

`;break;case"women_safety":i=`


- 
- 
- 
- 
- 
- `;break;case"emergency":i=`


- 
- 
- 
- 
- 
- `;break;default:i=`

`}let a="";return r&&(r.userLocation&&(a+=`
${r.userLocation.address||""}`),r.weatherData&&(a+=`
${r.weatherData.condition}${r.weatherData.temperature}C`),r.userPreferences&&(a+=`
${JSON.stringify(r.userPreferences)}`),r.safetyLevel&&(a+=`
${r.safetyLevel}`)),`${n}
${i}${a}


1. 
2. 
3. 
4. 
5. `}buildUserMessage(e,r){return e}parseAIResponse(e,r){const n={message:e,confidence:.85},i=["","","","",""],a=["","","",""],o=["","","110","120",""],u=i.some(g=>e.toLowerCase().includes(g.toLowerCase())),d=a.some(g=>e.toLowerCase().includes(g.toLowerCase()));o.some(g=>e.toLowerCase().includes(g.toLowerCase()))||r==="emergency"?(n.emergencyLevel="critical",n.actionRequired=!0):u?(n.emergencyLevel="high",n.actionRequired=!0):d?n.emergencyLevel="medium":n.emergencyLevel="low";const p=[];return[/[:](.+?)(?=[\n]|$)/g,/[:](.+?)(?=[\n]|$)/g,/(.+?)(?=[\n]|$)/g,/(.+?)(?=[\n]|$)/g].forEach(g=>{var w;let v;for(;(v=g.exec(e))!==null;){const x=(w=v[1])==null?void 0:w.trim();x&&x.length>5&&x.length<100&&p.push(x)}}),p.length>0&&(n.suggestions=[...new Set(p)].slice(0,5)),n.metadata={provider:"deepseek",model:this.model,conversationType:r,timestamp:new Date().toISOString(),analysisDepth:"deep",suggestionCount:p.length},n}async checkConnection(){if(!this.apiKey)return!1;try{return(await fetch(`${this.baseUrl}/models`,{headers:{Authorization:`Bearer ${this.apiKey}`}})).ok}catch{return!1}}async getModelInfo(){if(!this.apiKey)throw new Error("DeepSeek API");try{const e=await fetch(`${this.baseUrl}/models`,{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!e.ok)throw new Error(`: ${e.status}`);return await e.json()}catch(e){throw console.error("DeepSeek:",e),e}}}class lte{constructor(){ft(this,"kimiClient");ft(this,"deepseekClient");ft(this,"providerStatus",new Map);ft(this,"lastHealthCheck",new Date(0));ft(this,"healthCheckInterval",300*1e3);this.kimiClient=new r5,this.deepseekClient=new ote}async routeRequest(e){if(await this.checkProviderHealth(),e.provider)return this.sendToProvider(e,e.provider);const r=this.selectProviderByType(e.conversationType);try{return await this.sendToProvider(e,r)}catch{console.warn(` ${r} `);const i=r==="kimi"?"deepseek":"kimi";try{return await this.sendToProvider(e,i)}catch(a){throw console.error("AI:",a),new Error("AI")}}}selectProviderByType(e){return this.isProviderAvailable("kimi"),"kimi"}async sendToProvider(e,r){const n=Date.now();try{const i=await this.kimiClient.sendMessage(e),a=Date.now()-n;return this.updateProviderMetrics("kimi",a,!0),i}catch(i){throw this.updateProviderMetrics("kimi",Date.now()-n,!1),i}}async checkProviderHealth(){const e=new Date;if(!(e.getTime()-this.lastHealthCheck.getTime()<this.healthCheckInterval)){this.lastHealthCheck=e;try{const r=await this.kimiClient.checkConnection();this.providerStatus.set("kimi",r),console.log("KIMI API:",{kimi:r})}catch(r){console.error("KIMI:",r),this.providerStatus.set("kimi",!1)}}}isProviderAvailable(e){return this.providerStatus.get(e)??!0}getFastestProvider(){return"kimi"}getBalancedProvider(){return"kimi"}updateProviderMetrics(e,r,n){console.log(` ${e} :`,{responseTime:`${r}ms`,success:n,timestamp:new Date().toISOString()})}async getProviderStatus(){return await this.checkProviderHealth(),{kimi:{available:this.isProviderAvailable("kimi"),lastCheck:this.lastHealthCheck.toISOString()},deepseek:{available:this.isProviderAvailable("deepseek"),lastCheck:this.lastHealthCheck.toISOString()}}}async refreshProviderStatus(){this.lastHealthCheck=new Date(0),await this.checkProviderHealth()}getRecommendedProvider(e){return this.selectProviderByType(e)}async testAllConnections(){try{return{kimi:await this.kimiClient.checkConnection()}}catch(e){return console.error("KIMI:",e),{kimi:!1}}}}class cte{async createConversation(e,r){const n=performance.now();try{console.group(" Supabase API - "),console.log(" :",{userId:e,title:r.title,aiProvider:r.aiProvider,conversationType:r.conversationType,isEmergency:r.isEmergency,timestamp:new Date().toISOString()});const{data:i,error:a}=await Oe.from("ai_conversations").insert({user_id:e,title:r.title||"",ai_provider:r.aiProvider||"kimi",conversation_type:r.conversationType||"general",is_emergency:r.isEmergency||!1}).select().single(),o=performance.now(),u=Math.round(o-n);if(a)throw console.error(" Supabase:",{code:a.code,message:a.message,details:a.details,hint:a.hint,responseTime:`${u}ms`}),console.groupEnd(),a;return console.log(" :",{conversationId:i.id,responseTime:`${u}ms`,data:JSON.stringify(i,null,2)}),console.groupEnd(),{id:i.id,userId:i.user_id,title:i.title,aiProvider:i.ai_provider,conversationType:i.conversation_type,isEmergency:i.is_emergency,isActive:i.is_active||!0,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at),messages:[]}}catch(i){const a=performance.now(),o=Math.round(a-n);throw console.group(" Supabase API  - "),console.error(":",{error:i instanceof Error?i.message:String(i),responseTime:`${o}ms`,requestParams:{userId:e,title:r.title,aiProvider:r.aiProvider,conversationType:r.conversationType,isEmergency:r.isEmergency}}),console.groupEnd(),new Error("")}}async getUserConversations(e,r=20,n=0){const i=performance.now();try{console.group(" Supabase API - "),console.log(" :",{userId:e,limit:r,offset:n,timestamp:new Date().toISOString()});const{data:a,error:o}=await Oe.from("ai_conversations").select(`
          *,
          ai_messages (
            id,
            role,
            content,
            created_at,
            confidence_score,
            metadata
          )
        `).eq("user_id",e).order("updated_at",{ascending:!1}).range(n,n+r-1),u=performance.now(),d=Math.round(u-i);if(o)throw console.error(" Supabase:",{code:o.code,message:o.message,details:o.details,hint:o.hint,responseTime:`${d}ms`}),console.groupEnd(),o;return console.log(" :",{conversationCount:a.length,responseTime:`${d}ms`,totalMessages:a.reduce((f,p)=>{var m;return f+(((m=p.ai_messages)==null?void 0:m.length)||0)},0)}),console.log(" :",JSON.stringify(a,null,2)),console.groupEnd(),a.map(f=>({id:f.id,userId:f.user_id,title:f.title,aiProvider:f.ai_provider,conversationType:f.conversation_type,isEmergency:f.is_emergency,isActive:f.is_active||!0,createdAt:new Date(f.created_at),updatedAt:new Date(f.updated_at),messages:f.ai_messages.map(p=>({id:p.id,role:p.role,content:p.content,timestamp:new Date(p.created_at),confidenceScore:p.confidence_score,metadata:p.metadata})),lastMessage:f.ai_messages.length>0?f.ai_messages[f.ai_messages.length-1].content:void 0,messageCount:f.ai_messages.length}))}catch(a){throw console.error(":",a),new Error("")}}async getConversation(e){try{const{data:r,error:n}=await Oe.from("ai_conversations").select(`
          *,
          ai_messages (
            id,
            role,
            content,
            created_at,
            confidence_score,
            metadata
          )
        `).eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}const i=r.ai_messages.sort((a,o)=>new Date(a.created_at).getTime()-new Date(o.created_at).getTime()).map(a=>({id:a.id,role:a.role,content:a.content,timestamp:new Date(a.created_at),confidenceScore:a.confidence_score,metadata:a.metadata}));return{id:r.id,userId:r.user_id,title:r.title,aiProvider:r.ai_provider,conversationType:r.conversation_type,isEmergency:r.is_emergency,isActive:r.is_active||!0,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),messages:i,lastMessage:i.length>0?i[i.length-1].content:void 0,messageCount:i.length}}catch(r){throw console.error(":",r),new Error("")}}async addMessage(e,r,n,i,a){try{const{data:o,error:u}=await Oe.from("ai_messages").insert({conversation_id:e,role:r,content:n,metadata:i||{},confidence_score:a||0}).select().single();if(u)throw u;return await Oe.from("ai_conversations").update({updated_at:new Date().toISOString()}).eq("id",e),{id:o.id,role:o.role,content:o.content,timestamp:new Date(o.created_at),metadata:o.metadata,confidenceScore:o.confidence_score}}catch(o){throw console.error(":",o),new Error("")}}async saveContext(e,r,n,i){try{const{data:a,error:o}=await Oe.from("ai_context").insert({conversation_id:e,location_data:r||{},user_context:n||{},safety_context:i||{}}).select().single();if(o)throw o;return{id:a.id,conversationId:a.conversation_id,locationData:a.location_data,userContext:a.user_context,safetyContext:a.safety_context,createdAt:new Date(a.created_at)}}catch(a){throw console.error(":",a),new Error("")}}async getContext(e){try{const{data:r,error:n}=await Oe.from("ai_context").select("*").eq("conversation_id",e).order("created_at",{ascending:!1}).limit(1).single();if(n){if(n.code==="PGRST116")return null;throw n}return{id:r.id,conversationId:r.conversation_id,locationData:r.location_data,userContext:r.user_context,safetyContext:r.safety_context,createdAt:new Date(r.created_at)}}catch(r){return console.error(":",r),null}}async updateConversationTitle(e,r){try{const{error:n}=await Oe.from("ai_conversations").update({title:r}).eq("id",e);if(n)throw n}catch(n){throw console.error(":",n),new Error("")}}async deleteConversation(e){try{const{error:r}=await Oe.from("ai_conversations").delete().eq("id",e);if(r)throw r}catch(r){throw console.error(":",r),new Error("")}}async getSafetyProfile(e){try{const{data:r,error:n}=await Oe.from("safety_profiles").select("*").eq("user_id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return{id:r.id,userId:r.user_id,gender:r.gender,preferences:r.preferences,emergencyContacts:r.emergency_contacts,safetySettings:r.safety_settings,updatedAt:new Date(r.updated_at)}}catch(r){return console.error(":",r),null}}async upsertSafetyProfile(e,r){try{const{data:n,error:i}=await Oe.from("safety_profiles").upsert({user_id:e,gender:r.gender,preferences:r.preferences||{},emergency_contacts:r.emergencyContacts||[],safety_settings:r.safetySettings||{}}).select().single();if(i)throw i;return{id:n.id,userId:n.user_id,gender:n.gender,preferences:n.preferences,emergencyContacts:n.emergency_contacts,safetySettings:n.safety_settings,updatedAt:new Date(n.updated_at)}}catch(n){throw console.error(":",n),new Error("")}}async getConversationStats(e){try{const{data:r,error:n}=await Oe.from("ai_conversation_stats").select("*").eq("user_id",e).single();if(n){if(n.code==="PGRST116")return{totalConversations:0,totalMessages:0,activeConversations:0,averageResponseTime:1.2,womenSafetyConversations:0,emergencyConversations:0,emergencySessions:0,lastConversationAt:new Date};throw n}return{totalConversations:r.total_conversations,totalMessages:r.total_messages||0,activeConversations:r.active_conversations||0,averageResponseTime:r.average_response_time||1.2,womenSafetyConversations:r.women_safety_conversations,emergencyConversations:r.emergency_conversations,emergencySessions:r.emergency_sessions,lastConversationAt:new Date(r.last_conversation_at)}}catch(r){throw console.error(":",r),new Error("")}}async searchConversations(e,r,n){try{let i=Oe.from("ai_conversations").select(`
          *,
          ai_messages (
            id,
            role,
            content,
            created_at,
            confidence_score,
            metadata
          )
        `).eq("user_id",e).or(`title.ilike.%${r}%,ai_messages.content.ilike.%${r}%`).order("updated_at",{ascending:!1});n&&(i=i.eq("conversation_type",n));const{data:a,error:o}=await i;if(o)throw o;return a.map(u=>({id:u.id,userId:u.user_id,title:u.title,aiProvider:u.ai_provider,conversationType:u.conversation_type,isEmergency:u.is_emergency,isActive:u.is_active||!0,createdAt:new Date(u.created_at),updatedAt:new Date(u.updated_at),messages:u.ai_messages.map(d=>({id:d.id,role:d.role,content:d.content,timestamp:new Date(d.created_at),confidenceScore:d.confidence_score,metadata:d.metadata})),lastMessage:u.ai_messages.length>0?u.ai_messages[u.ai_messages.length-1].content:void 0,messageCount:u.ai_messages.length}))}catch(i){throw console.error(":",i),new Error("")}}}class ute{constructor(){ft(this,"aiRouter");ft(this,"conversationManager");ft(this,"contextCache",new Map);ft(this,"CACHE_TTL",300*1e3);this.aiRouter=new lte,this.conversationManager=new cte,setInterval(()=>this.cleanExpiredCache(),60*1e3)}cleanExpiredCache(){const e=Date.now();for(const[r,n]of this.contextCache.entries())e-n.timestamp>this.CACHE_TTL&&this.contextCache.delete(r)}async sendMessage(e,r,n,i,a,o){try{let u;if(n){const v=await this.conversationManager.getConversation(n);if(!v)throw new Error("");u=v}else{const v=this.generateConversationTitle(r,o),w=a||this.aiRouter.getRecommendedProvider(o);u=await this.conversationManager.createConversation(e,v,w,o||"general",o==="emergency"),n=u.id}const d=await this.conversationManager.addMessage(n,"user",r);i&&await this.conversationManager.saveContext(n,i.locationData,i.userContext,i.safetyContext);const f=await this.buildFullContext(n,i),p={message:r,context:f,conversationId:n,provider:a||u.aiProvider,conversationType:o||u.conversationType},m=await this.aiRouter.routeRequest(p),g=await this.conversationManager.addMessage(n,"assistant",m.message,m.metadata,m.confidence);return(m.emergencyLevel==="critical"||m.emergencyLevel==="high")&&await this.handleEmergencyResponse(e,n,m,f),u.messages=[...u.messages||[],d,g],{response:m,conversation:u,userMessage:d,aiMessage:g}}catch(u){throw console.error("AI:",u),u}}async getConversations(e,r,n){return this.conversationManager.getUserConversations(e,r,n)}async getConversationStats(e){const r=await this.conversationManager.getUserConversations(e),n={totalConversations:r.length,totalMessages:r.reduce((i,a)=>i+a.messages.length,0),activeConversations:r.filter(i=>i.isActive).length,averageResponseTime:1.2,womenSafetyConversations:r.filter(i=>i.conversationType==="women_safety").length,emergencyConversations:r.filter(i=>i.conversationType==="emergency").length,emergencySessions:r.filter(i=>i.isEmergency).length,lastConversationAt:r.length>0?r[0].updatedAt:void 0};return{totalConversations:n.totalConversations,totalMessages:n.totalMessages,activeConversations:n.activeConversations,averageResponseTime:n.averageResponseTime,womenSafetyConversations:n.womenSafetyConversations||0,emergencyConversations:n.emergencyConversations||0,emergencySessions:n.emergencySessions||0,lastConversationAt:n.lastConversationAt}}async createConversation(e,r){return this.conversationManager.createConversation(e,{title:r.title,aiProvider:r.provider,conversationType:r.conversationType,isEmergency:r.isEmergency})}async getConversation(e){return this.conversationManager.getConversation(e)}async deleteConversation(e){return this.conversationManager.deleteConversation(e)}async getSafetyProfile(e){return this.conversationManager.getSafetyProfile(e)}async updateSafetyProfile(e,r){return this.conversationManager.upsertSafetyProfile(e,r)}async performSafetyAnalysis(e,r={}){try{const{type:n="comprehensive",timeRange:i="week",includeRecommendations:a=!0,data:o}=r,u=this.buildSafetyAnalysisPrompt(n,i,o),d={locationData:(o==null?void 0:o.location)||{},userContext:(o==null?void 0:o.user)||{},safetyContext:(o==null?void 0:o.safety)||{}},f={message:u,context:d,conversationType:"safety"},p=await this.aiRouter.routeRequest(f);return this.parseAnalysisResponse(p,n,i,a)}catch(n){throw console.error(":",n),new Error("")}}async handleEmergency(e,r,n,i="manual"){try{const a=await this.conversationManager.createConversation(e,"","kimi","emergency",!0),o={locationData:{latitude:r.latitude,longitude:r.longitude,address:r.address},safetyContext:{emergencyContacts:[]}},u=`${n}`,d=await this.sendMessage(e,u,a.id,o,"kimi","emergency");return{id:`emergency_${Date.now()}`,userId:e,location:r,alertType:i,severity:d.response.emergencyLevel||"high",description:n,timestamp:new Date,status:"active",aiAnalysis:{riskAssessment:d.response.message,recommendedActions:d.response.suggestions||[],confidence:d.response.confidence}}}catch(a){throw console.error(":",a),new Error("")}}async searchConversations(e,r,n){return this.conversationManager.searchConversations(e,r,n)}async getProviderStatus(){return this.aiRouter.getProviderStatus()}async testConnections(){return this.aiRouter.testAllConnections()}generateConversationTitle(e,r){const i=e.length>30?e.substring(0,30)+"...":e;return({women_safety:" - ",emergency:" - ",analysis:" - ",general:""}[r]||"")+i}async buildFullContext(e,r){const n=`context_${e}`,i=Date.now(),a=this.contextCache.get(n);let o=null;return a&&i-a.timestamp<this.CACHE_TTL?o=a.context:(o=await this.conversationManager.getContext(e),o&&this.contextCache.set(n,{context:o,timestamp:i})),{locationData:{...o==null?void 0:o.locationData,...r==null?void 0:r.locationData},userContext:{...o==null?void 0:o.userContext,...r==null?void 0:r.userContext},safetyContext:{...o==null?void 0:o.safetyContext,...r==null?void 0:r.safetyContext}}}buildSafetyAnalysisPrompt(e,r,n){return`${e}${r}

${e}
${r}
${JSON.stringify(n||{})}


1. 1-100
2. 
3. 
4. 
5. 

`}parseAnalysisResponse(e,r,n,i){const a=Math.floor(Math.random()*30)+70,o=a>=85?"low":a>=70?"medium":"high";return{overallScore:a,riskLevel:o,improvements:Math.floor(Math.random()*5)+3,lastUpdated:new Date().toISOString(),metrics:{safeRoutes:Math.floor(Math.random()*10)+5,riskAreas:Math.floor(Math.random()*3)+1,avgResponseTime:Math.floor(Math.random()*2)+1},recentActivities:[{type:"safe",title:"",description:"AI3",timestamp:new Date(Date.now()-7200*1e3).toISOString()},{type:"warning",title:"",description:"",timestamp:new Date(Date.now()-1440*60*1e3).toISOString()},{type:"safe",title:"",description:"",timestamp:new Date(Date.now()-4320*60*1e3).toISOString()}],routeAnalysis:[{name:"",riskLevel:"low",description:"",distance:5.2,safetyScore:92,usageCount:15},{name:"",riskLevel:"low",description:"",distance:3.8,safetyScore:88,usageCount:8},{name:"",riskLevel:"medium",description:"",distance:2.5,safetyScore:75,usageCount:3}],behaviorPatterns:[{pattern:"",description:"6-8",frequency:"85%",impact:"positive"},{pattern:"",description:"",frequency:"70%",impact:"positive"},{pattern:"",description:"",frequency:"30%",impact:"negative"}],recommendations:[{title:"",description:"",priority:"high"},{title:"",description:"",priority:"medium"},{title:"",description:"",priority:"high"},{title:"",description:"",priority:"medium"}],riskFactors:[{factor:"",level:"medium",description:"AI...",aiInsight:e.message}],locationAnalysis:{safetyScore:85,crowdLevel:"moderate",lightingCondition:"good",historicalIncidents:0,aiAssessment:e.message},timeAnalysis:{timeOfDay:"morning",riskLevel:"medium",aiRecommendation:e.message}}}async handleEmergencyResponse(e,r,n,i){console.log(":",{userId:e,conversationId:r,emergencyLevel:n.emergencyLevel,actionRequired:n.actionRequired})}}const qt=new ute,dte=()=>"550e8400-e29b-41d4-a716-446655440000",Nn=Io(t=>({user:{id:dte(),name:"",email:"demo@example.com"},isAuthenticated:!0,login:e=>t({user:e,isAuthenticated:!0}),logout:()=>t({user:null,isAuthenticated:!1})})),Ho=({conversationId:t,conversation:e,conversationType:r="general",provider:n,context:i,onConversationCreated:a,onConversationUpdate:o,onMessageSent:u,className:d="",placeholder:f="..."})=>{const{user:p}=Nn(),[m,g]=P.useState([]),[v,w]=P.useState(""),[x,b]=P.useState(!1),[S,N]=P.useState(null),[_,E]=P.useState(null),A=P.useRef(null),O=P.useRef(null),T=()=>{var D;(D=A.current)==null||D.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{T()},[m]),P.useEffect(()=>{e&&(N(e),g(e.messages||[]))},[e]),P.useEffect(()=>{t&&!e&&R()},[t,e]);const R=async()=>{if(t)try{const D=await qt.getConversation(t);D&&(N(D),g(D.messages||[]))}catch(D){console.error(":",D),E("")}},$=async()=>{var q;if(!v.trim()||!p||x)return;const D=v.trim();w(""),b(!0),E(null);try{const H=await qt.sendMessage(p.id,D,t||(e==null?void 0:e.id),i,n,r);S?(N(H.conversation),o==null||o(H.conversation)):(N(H.conversation),a==null||a(H.conversation)),g(ee=>[...ee,H.userMessage,H.aiMessage]),u==null||u(H.userMessage,H.response),(H.response.emergencyLevel==="critical"||H.response.emergencyLevel==="high")&&console.log(":",H.response)}catch(H){console.error(":",H),E(H instanceof Error?H.message:"")}finally{b(!1),(q=O.current)==null||q.focus()}},I=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),$())},M=D=>{if(D==="user")return s.jsx(eo,{className:"w-5 h-5 text-blue-600"});const q=(S==null?void 0:S.aiProvider)||n||"kimi";return s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ri,{className:"w-5 h-5 text-purple-600"}),s.jsx($T,{className:"w-3 h-3 text-yellow-500"}),s.jsx("span",{className:"text-xs text-gray-500 uppercase",children:q})]})},z=()=>{switch(r){case"emergency":return"border-red-500 bg-red-50";case"women_safety":return"border-pink-500 bg-pink-50";case"safety":return"border-blue-500 bg-blue-50";default:return"border-gray-300 bg-white"}},U=()=>{switch(r){case"emergency":return"";case"women_safety":return"";case"safety":return"";default:return"AI"}};return p?s.jsxs("div",{className:`flex flex-col h-full ${z()} rounded-lg border-2 ${d}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white/80 backdrop-blur-sm rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"w-6 h-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:U()}),S&&s.jsx("p",{className:"text-sm text-gray-500",children:S.title})]})]}),r==="emergency"&&s.jsxs("div",{className:"flex items-center space-x-1 text-red-600",children:[s.jsx(We,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:""})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white/50",children:[m.length===0&&s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(ri,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"AI"}),s.jsxs("p",{className:"text-sm",children:[r==="emergency"&&"",r==="women_safety"&&"",r==="safety"&&"",r==="general"&&"AI"]})]}),m.map(D=>s.jsx("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${D.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[D.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0 mt-1",children:M(D.role)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"whitespace-pre-wrap",children:D.content}),D.role==="assistant"&&D.confidenceScore&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[": ",Math.round(D.confidenceScore*100),"%"]}),s.jsx("div",{className:`text-xs mt-1 ${D.role==="user"?"text-blue-100":"text-gray-400"}`,children:D.timestamp.toLocaleTimeString()})]}),D.role==="user"&&s.jsx("div",{className:"flex-shrink-0 mt-1",children:M(D.role)})]})})},D.id)),x&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"w-5 h-5 text-purple-600"}),s.jsx(In,{className:"w-4 h-4 animate-spin text-gray-500"}),s.jsx("span",{className:"text-gray-500",children:"AI..."})]})})}),s.jsx("div",{ref:A})]}),_&&s.jsx("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:_})]})}),s.jsxs("div",{className:"p-4 border-t bg-white rounded-b-lg",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:O,type:"text",value:v,onChange:D=>w(D.target.value),onKeyPress:I,placeholder:f||(r==="emergency"?"...":"..."),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:x}),s.jsx("button",{onClick:$,disabled:!v.trim()||x,className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="emergency"?"bg-red-600 hover:bg-red-700 text-white":"bg-purple-600 hover:bg-purple-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:x?s.jsx(In,{className:"w-5 h-5 animate-spin"}):s.jsx(RT,{className:"w-5 h-5"})})]}),m.length===0&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r==="emergency"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-full hover:bg-red-200",children:""}),s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-full hover:bg-red-200",children:""})]}),r==="women_safety"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-pink-100 text-pink-700 rounded-full hover:bg-pink-200",children:""}),s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-pink-100 text-pink-700 rounded-full hover:bg-pink-200",children:""})]}),r==="general"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:""}),s.jsx("button",{onClick:()=>w(""),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:""})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"AI"})},fte=({userLocation:t,userPreferences:e,weatherData:r,onRouteRecommendation:n,onLocationUpdate:i,className:a=""})=>{const{user:o}=Nn(),[u,d]=P.useState(null),[f,p]=P.useState(!1),[m,g]=P.useState([]);P.useEffect(()=>{if(t&&e){const E=v(t,e);g(E)}},[t,e]);const v=(E,A)=>{if(!E||!A)return[];const O=[];return A.preferredDistance<=3?(O.push("3"),O.push("")):A.preferredDistance<=10?(O.push("5-10"),O.push("")):(O.push(""),O.push("")),A.timeOfDay==="night"?O.push(""):A.timeOfDay==="morning"&&O.push(""),A.safetyPriority==="high"&&O.push(""),O.slice(0,4)},w=E=>{const A=document.querySelector('input[placeholder*=""]');A&&(A.value=E,A.focus())},x=E=>{d(E)},b=(E,A)=>{var O,T;(O=A.metadata)!=null&&O.routeRecommendation&&(n==null||n(A.metadata.routeRecommendation)),(T=A.metadata)!=null&&T.locationUpdate&&(i==null||i(A.metadata.locationUpdate))},S=()=>{console.log(" RouteAgent:",t);const E={conversationId:(u==null?void 0:u.id)||"route-conversation",locationData:{latitude:(t==null?void 0:t.latitude)||31.2304,longitude:(t==null?void 0:t.longitude)||121.4737,address:(t==null?void 0:t.address)||"",safetyLevel:85},userContext:{userType:"runner",preferences:e},safetyContext:{currentLevel:"normal",alerts:[]},userLocation:t,weatherData:r,safetyLevel:(e==null?void 0:e.safetyPriority)||"medium",agentContext:{agentType:"route_recommendation",capabilities:["route_planning","safety_analysis","weather_consideration","terrain_analysis","real_time_navigation","personalized_recommendations"]},createdAt:new Date};return console.log(" RouteAgent:",E),E},N=()=>e?e.safetyPriority:"medium",_=()=>{switch(N()){case"high":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return o?s.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden ${a}`,children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(Zs,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:""}),s.jsx("p",{className:"text-blue-100 text-sm",children:""})]})]}),s.jsx("button",{onClick:()=>p(!f),className:"bg-white/20 hover:bg-white/30 rounded-lg p-2 transition-colors",children:s.jsx(aM,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-4 bg-blue-50 border-b",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Ue,{className:"w-4 h-4 mr-2 text-blue-500"}),""]}),t?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700",children:t.address}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",t.latitude.toFixed(4),", ",t.longitude.toFixed(4)]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:""}),s.jsx("p",{className:"text-xs text-red-500 mt-1",children:""})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-yellow-500"}),""]}),e?s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"text-gray-900",children:[e.preferredDistance,"km"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_()}`,children:e.safetyPriority})]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:""})]})]})}),r&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-cyan-50 to-blue-50 border-b",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(wn,{className:"w-4 h-4 mr-2 text-cyan-500"}),""]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-cyan-600",children:[r.temperature,"C"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-cyan-600",children:[r.humidity,"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-cyan-600",children:[r.windSpeed,"km/h"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-cyan-600",children:r.airQuality}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]}),m.length>0&&s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(sc,{className:"w-4 h-4 mr-2 text-green-500"}),""]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:m.map((E,A)=>s.jsx("button",{onClick:()=>w(E),className:"text-left p-3 bg-gradient-to-r from-blue-50 to-green-50 hover:from-blue-100 hover:to-green-100 rounded-lg transition-colors text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zs,{className:"w-4 h-4 text-blue-500 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:E})]})},A))})]}),s.jsx("div",{className:`transition-all duration-300 ${f?"h-96":"h-64"}`,children:s.jsx(Ho,{conversationType:"general",provider:"deepseek",context:S(),onConversationCreated:x,onMessageSent:b,className:"h-full border-0 rounded-none",placeholder:"..."})}),s.jsx("div",{className:"p-3 bg-gray-50 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jt,{className:"w-3 h-3 mr-1"}),""]})]})})]}):s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 text-center",children:[s.jsx(Ue,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600 mb-4",children:""})]})},hte=()=>{const t=To(),{user:e}=iu(),{location:r,error:n,getFormattedLocation:i,locationMethod:a,accuracy:o}=ste({enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5,useAmapFirst:!0}),[u,d]=P.useState("all"),[f,p]=P.useState(""),[m,g]=P.useState("popularity"),[v,w]=P.useState(!1),[x,b]=P.useState([]),[S,N]=P.useState(!1),[_,E]=P.useState(null),[A,O]=P.useState(null),[T,R]=P.useState("idle");P.useEffect(()=>{(async()=>{if(!e){console.log(" ");return}console.log(" ..."),R("loading");try{console.log(" ...");const L=await i();console.log(" :",{latitude:L.latitude,longitude:L.longitude,address:L.address,method:L.method,accuracy:L.accuracy}),O(L),R("success"),console.log(" RouteAgent")}catch(L){console.error(" :",{error:L.message,stack:L.stack,type:L.constructor.name}),R("error");const V={latitude:31.2304,longitude:121.4737,address:""};O(V),console.log(" :",V)}})()},[e,i]),P.useEffect(()=>{if(r){const W={latitude:r.latitude,longitude:r.longitude,address:`: ${r.latitude.toFixed(4)}, : ${r.longitude.toFixed(4)}`};O(W),R("success")}},[r]),P.useEffect(()=>{n&&(console.error(":",n),R("error"))},[n]);const $=W=>{console.log(":",W.name)},I=W=>{console.log(":",W)},M=async()=>{if(!e){alert("AI");return}N(!0);try{console.log(" AI...");const W=await aT.getRecommendations({userId:e.id,recommendationType:"daily",limit:5});E(W),b(W.recommendations),w(!0),console.log(" AI:",W)}catch(W){console.error(" AI:",W),alert("AI")}finally{N(!1)}},z=async(W,L)=>{if(e)try{await aT.submitFeedback({recommendationId:W,userId:e.id,rating:L?5:2,isUsed:!1,usageData:{}}),console.log(" ")}catch(V){console.error(" :",V)}},U=()=>{w(!1),b([]),E(null)},D=[{id:"1",name:"",distance:5.2,duration:"30-40",difficulty:"easy",rating:4.8,reviews:1234,description:"",highlights:["","","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Bund%20waterfront%20running%20path%20with%20skyline%20view&image_size=landscape_4_3",location:"",elevation:5,popularity:95,tags:["","",""]},{id:"2",name:"",distance:3.8,duration:"25-35",difficulty:"easy",rating:4.6,reviews:856,description:"",highlights:["","","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Century%20Park%20Shanghai%20lake%20running%20trail%20with%20trees&image_size=landscape_4_3",location:"",elevation:15,popularity:88,tags:["","",""]},{id:"3",name:"",distance:6.5,duration:"40-50",difficulty:"medium",rating:4.5,reviews:642,description:"",highlights:["","","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Lujiazui%20financial%20district%20Shanghai%20urban%20running%20route&image_size=landscape_4_3",location:"",elevation:25,popularity:82,tags:["","",""]},{id:"4",name:"",distance:2.5,duration:"15-25",difficulty:"easy",rating:4.4,reviews:423,description:"",highlights:["","","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Xujiahui%20Park%20Shanghai%20jogging%20path%20green%20space&image_size=landscape_4_3",location:"",elevation:8,popularity:75,tags:["","",""]},{id:"5",name:"",distance:8.2,duration:"60-80",difficulty:"hard",rating:4.7,reviews:318,description:"",highlights:["","","",""],image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Sheshan%20Forest%20Park%20Shanghai%20mountain%20trail%20running&image_size=landscape_4_3",location:"",elevation:120,popularity:68,tags:["","",""]}],q=[{id:"all",label:"",icon:Ue},{id:"easy",label:"",icon:tn},{id:"medium",label:"",icon:wn},{id:"hard",label:"",icon:Jb}],H=W=>{switch(W){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ee=W=>{switch(W){case"easy":return"";case"medium":return"";case"hard":return"";default:return""}},Y=[...D.filter(W=>{const L=u==="all"||W.difficulty===u,V=W.name.toLowerCase().includes(f.toLowerCase())||W.location.toLowerCase().includes(f.toLowerCase())||W.tags.some(ae=>ae.toLowerCase().includes(f.toLowerCase()));return L&&V})].sort((W,L)=>{switch(m){case"popularity":return L.popularity-W.popularity;case"rating":return L.rating-W.rating;case"distance":return W.distance-L.distance;case"difficulty":const V={easy:1,medium:2,hard:3};return V[W.difficulty]-V[L.difficulty];default:return 0}});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:M,disabled:S,className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[S?s.jsx(In,{className:"w-5 h-5 mr-2 animate-spin"}):s.jsx($T,{className:"w-5 h-5 mr-2"}),"AI"]}),s.jsxs("button",{onClick:()=>t("/route-recommendation-settings"),className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(ih,{className:"w-5 h-5 mr-2"}),""]}),s.jsxs("button",{onClick:()=>t("/route-recommendation-history"),className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(pM,{className:"w-5 h-5 mr-2"}),""]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm p-4 lg:p-6 mb-6",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(nh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"...",value:f,onChange:W=>p(W.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:q.map(W=>{const L=W.icon;return s.jsxs("button",{onClick:()=>d(W.id),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u===W.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(L,{className:"w-4 h-4 mr-2"}),W.label]},W.id)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[" ",Y.length," "]}),s.jsxs("select",{value:m,onChange:W=>g(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"popularity",children:""}),s.jsx("option",{value:"rating",children:""}),s.jsx("option",{value:"distance",children:""}),s.jsx("option",{value:"difficulty",children:""})]})]})]}),e&&s.jsxs("div",{className:"mb-4",children:[T==="loading"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center",children:[s.jsx(In,{className:"w-4 h-4 text-blue-500 animate-spin mr-2"}),s.jsx("span",{className:"text-blue-700 text-sm",children:"..."})]}),T==="error"&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-center",children:[s.jsx(Ue,{className:"w-4 h-4 text-yellow-500 mr-2"}),s.jsx("span",{className:"text-yellow-700 text-sm",children:""})]}),T==="success"&&A&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Ue,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsxs("span",{className:"text-green-700 text-sm font-medium",children:["",A.address]})]}),s.jsxs("div",{className:"text-xs text-green-600 ml-6",children:[": ",a==="amap"?"":a==="browser"?"":a==="default"?"":"",o&&` | : ${Math.round(o)}`]})]})]}),v&&_&&s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg lg:rounded-xl p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fa,{className:"w-6 h-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[": ",(_.confidence*100).toFixed(0),"% | : ",_.metadata.processingTime,"ms"]})]})]}),s.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),s.jsx("div",{className:"mb-4 p-4 bg-white rounded-lg border border-purple-100",children:s.jsx("p",{className:"text-sm text-gray-700",children:_.reasoning})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(W=>s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:W.routeId}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>z(W.id,!0),className:"p-1 text-gray-400 hover:text-green-500 transition-colors",children:s.jsx(ax,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(W.id,!1),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(ix,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("span",{className:"font-medium text-purple-600",children:[Math.round(W.confidenceScore*100),"/100"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full",style:{width:`${W.confidenceScore*100}%`}})})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:W.reasoning}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["ID: ",W.routeId]}),s.jsx("span",{children:W.recommendationType})]}),s.jsx("button",{onClick:()=>console.log(":",W.routeId),className:"w-full mt-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white py-2 px-4 rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all text-sm",children:""})]},W.id))})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:Y.map(W=>s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"relative h-48 lg:h-56",children:[s.jsx("img",{src:W.image,alt:W.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${H(W.difficulty)}`,children:ee(W.difficulty)})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("button",{className:"w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center text-gray-600 hover:text-red-500 transition-colors",children:s.jsx(tn,{className:"w-5 h-5"})})}),s.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-3 text-white",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:W.name}),s.jsxs("div",{className:"flex items-center text-sm opacity-90",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),W.location]})]})})]}),s.jsxs("div",{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg lg:text-xl font-bold text-gray-900",children:[W.distance," km"]}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg lg:text-xl font-bold text-gray-900",children:W.duration}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg lg:text-xl font-bold text-gray-900",children:[W.elevation,"m"]}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:""})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),s.jsx("span",{className:"font-medium text-gray-900",children:W.rating}),s.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",W.reviews,")"]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ys,{className:"w-4 h-4 mr-1"}),W.popularity,"% "]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:W.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[W.highlights.slice(0,3).map((L,V)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:L},V)),W.highlights.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",W.highlights.length-3]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>$(W),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),""]}),s.jsx("button",{onClick:()=>I(W),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""})]})]})]},W.id))}),Y.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ue,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"mt-8 bg-blue-50 rounded-lg lg:rounded-xl p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Qt,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-900",children:""}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:""})]})]})})]}),s.jsx(fte,{userLocation:A,userPreferences:{preferredDistance:5,preferredTerrain:"mixed",safetyPriority:"high",timeOfDay:"morning",avoidAreas:[]},onLocationUpdate:W=>{console.log(":",W),O(W)},className:"mt-6"})]})},mte=()=>(P.useEffect(()=>{window.location.href="/recommendations-fallback.html"},[]),s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontFamily:"Arial, sans-serif"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("h2",{children:"..."}),s.jsxs("p",{children:[" ",s.jsx("a",{href:"/recommendations-fallback.html",style:{color:"white"},children:""})]})]})})),pte={easy:{label:"",color:"bg-green-100 text-green-800 border-green-200",range:[1,3]},moderate:{label:"",color:"bg-yellow-100 text-yellow-800 border-yellow-200",range:[4,6]},hard:{label:"",color:"bg-red-100 text-red-800 border-red-200",range:[7,10]}},gte=t=>t>=1&&t<=3?"easy":t>=4&&t<=6?"moderate":"hard",yte=t=>{const e=gte(t);return pte[e]},vte=({level:t,size:e="md",showLabel:r=!1,showLevel:n=!0,className:i=""})=>{const a=yte(t),o={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"};return s.jsxs("span",{className:`
      inline-flex items-center gap-1 rounded-full border font-medium
      ${a.color}
      ${o[e]}
      ${i}
    `,children:[n&&s.jsxs("span",{children:["Level ",t]}),r&&s.jsx("span",{children:a.label})]})},xte=[{id:"scenic",label:"",category:"positive"},{id:"safe",label:"",category:"positive"},{id:"challenging",label:"",category:"positive"},{id:"well-maintained",label:"",category:"positive"},{id:"good-facilities",label:"",category:"positive"},{id:"quiet",label:"",category:"positive"},{id:"crowded",label:"",category:"neutral"},{id:"steep",label:"",category:"neutral"},{id:"long-distance",label:"",category:"neutral"},{id:"poor-lighting",label:"",category:"negative"},{id:"uneven-surface",label:"",category:"negative"},{id:"traffic-noise",label:"",category:"negative"}],bte=({routeId:t,routeName:e,isOpen:r,onClose:n,onSubmit:i})=>{const[a,o]=P.useState({routeId:t,rating:0,difficulty:0,safety:0,scenery:0,tags:[],comment:""}),[u,d]=P.useState(!1);if(!r)return null;const f=(w,x)=>{o(b=>({...b,[w]:x}))},p=w=>{o(x=>({...x,tags:x.tags.includes(w)?x.tags.filter(b=>b!==w):[...x.tags,w]}))},m=async()=>{if(a.rating===0){alert("");return}d(!0);try{await i(a),n(),o({routeId:t,rating:0,difficulty:0,safety:0,scenery:0,tags:[],comment:""})}catch(w){console.error(":",w),alert("")}finally{d(!1)}},g=(w,x,b,S=!1)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:[w," ",S&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex gap-0.5 sm:gap-1",children:[1,2,3,4,5].map(N=>s.jsx("button",{type:"button",onClick:()=>b(N),className:`p-0.5 sm:p-1 transition-colors ${N<=x?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-gray-400"}`,children:s.jsx(wr,{className:"w-5 sm:w-6 h-5 sm:h-6 fill-current"})},N))}),s.jsx("p",{className:"text-xs text-gray-500",children:x===0?"":`${x} `})]}),v=w=>{switch(w){case"positive":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"negative":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:""}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:e})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Vc,{className:"w-4 sm:w-5 h-4 sm:h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[g("",a.rating,w=>f("rating",w),!0),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[g("",a.difficulty,w=>f("difficulty",w)),g("",a.safety,w=>f("safety",w)),g("",a.scenery,w=>f("scenery",w))]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:" ()"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:xte.map(w=>s.jsx("button",{type:"button",onClick:()=>p(w.id),className:`px-2 sm:px-3 py-1 text-xs sm:text-sm rounded-full border transition-colors ${a.tags.includes(w.id)?"border-blue-500 bg-blue-50 text-blue-700":v(w.category)}`,children:w.label},w.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:" ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-3 w-3 sm:w-4 h-3 sm:h-4 text-gray-400"}),s.jsx("textarea",{value:a.comment,onChange:w=>o(x=>({...x,comment:w.target.value})),placeholder:"...",className:"w-full pl-8 sm:pl-10 pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:3,maxLength:500}),s.jsxs("div",{className:"absolute bottom-2 sm:bottom-3 right-3 text-xs text-gray-400",children:[a.comment.length,"/500"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-3 sm:pt-4",children:[s.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 sm:py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm sm:text-base",children:""}),s.jsxs("button",{onClick:m,disabled:u||a.rating===0,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 sm:py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm sm:text-base",children:[u?s.jsx("div",{className:"w-3 sm:w-4 h-3 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(RT,{className:"w-3 sm:w-4 h-3 sm:h-4"}),u?"...":""]})]})]})]})})};class sT{static async submitFeedback(e,r){try{const{error:n}=await Oe.from("route_feedback").insert({route_id:e.routeId,user_id:r,rating:e.rating,difficulty_rating:e.difficulty,safety_rating:e.safety,scenery_rating:e.scenery,tags:e.tags,feedback_text:e.comment});if(n)throw new Error(`: ${n.message}`);await this.updateRecommendationLearning(e,r)}catch(n){throw console.error(":",n),n}}static async getRouteFeedbackStats(e){try{const{data:r,error:n}=await Oe.from("route_feedback").select("*").eq("route_id",e);if(n)throw new Error(`: ${n.message}`);if(!r||r.length===0)return{routeId:e,averageRating:0,totalFeedbacks:0,difficultyRating:0,safetyRating:0,sceneryRating:0,recommendationRate:0,popularTags:[],recentComments:[]};const i=r.length,a=r.reduce((v,w)=>v+w.rating,0)/i,o=r.reduce((v,w)=>v+(w.difficulty_rating||0),0)/i,u=r.reduce((v,w)=>v+(w.safety_rating||0),0)/i,d=r.reduce((v,w)=>v+(w.scenery_rating||0),0)/i,f=r.filter(v=>v.rating>=4).length/i,p={};r.forEach(v=>{v.tags&&v.tags.forEach(w=>{p[w]=(p[w]||0)+1})});const m=Object.entries(p).map(([v,w])=>({tag:v,count:w})).sort((v,w)=>w.count-v.count).slice(0,10),g=r.filter(v=>v.feedback_text&&v.feedback_text.trim()).sort((v,w)=>new Date(w.created_at).getTime()-new Date(v.created_at).getTime()).slice(0,5).map(v=>({comment:v.feedback_text,rating:v.rating,createdAt:v.created_at}));return{routeId:e,averageRating:Math.round(a*10)/10,totalFeedbacks:i,difficultyRating:Math.round(o*10)/10,safetyRating:Math.round(u*10)/10,sceneryRating:Math.round(d*10)/10,recommendationRate:Math.round(f*100)/100,popularTags:m,recentComments:g}}catch(r){throw console.error(":",r),r}}static async getUserFeedbacks(e){try{const{data:r,error:n}=await Oe.from("route_feedback").select(`
          *,
          routes (
            name,
            distance,
            difficulty_level
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(`: ${n.message}`);return r||[]}catch(r){throw console.error(":",r),r}}static async hasUserFeedback(e,r){try{const{data:n,error:i}=await Oe.from("route_feedback").select("id").eq("route_id",e).eq("user_id",r).single();if(i&&i.code!=="PGRST116")throw new Error(`: ${i.message}`);return!!n}catch(n){return console.error(":",n),!1}}static async updateRecommendationLearning(e,r){try{const n={user_id:r,route_id:e.routeId,action_type:"feedback",rating:e.rating,difficulty_preference:e.difficulty,safety_importance:e.safety,scenery_preference:e.scenery,would_recommend:e.wouldRecommend||!1,tags:e.tags,timestamp:new Date().toISOString()};console.log(":",n),await this.updateUserPreferences(r,e)}catch(n){console.error(":",n)}}static async updateUserPreferences(e,r){try{const{data:n,error:i}=await Oe.from("user_preferences").select("*").eq("user_id",e).single();if(i&&i.code!=="PGRST116")throw new Error(`: ${i.message}`);const a={user_id:e,difficulty_preference:this.calculateNewPreference((n==null?void 0:n.difficulty_preference)||5,r.difficulty,r.rating),safety_importance:this.calculateNewPreference((n==null?void 0:n.safety_importance)||5,r.safety,r.rating),scenery_importance:this.calculateNewPreference((n==null?void 0:n.scenery_importance)||5,r.scenery,r.rating),updated_at:new Date().toISOString()},{error:o}=await Oe.from("user_preferences").upsert(a);if(o)throw new Error(`: ${o.message}`)}catch(n){console.error(":",n)}}static calculateNewPreference(e,r,n){if(r===0)return e;const i=n/5,a=e*.8+r*i*.2;return Math.max(1,Math.min(10,Math.round(a*10)/10))}static async getRouteAverageRating(e){try{const{data:r,error:n}=await Oe.from("route_feedback").select("rating").eq("route_id",e);if(n)throw new Error(`: ${n.message}`);if(!r||r.length===0)return 0;const i=r.reduce((a,o)=>a+o.rating,0)/r.length;return Math.round(i*10)/10}catch(r){return console.error(":",r),0}}static async getPopularTags(e=20){try{const{data:r,error:n}=await Oe.from("route_feedback").select("tags");if(n)throw new Error(`: ${n.message}`);if(!r)return[];const i={};return r.forEach(a=>{a.tags&&a.tags.forEach(o=>{i[o]=(i[o]||0)+1})}),Object.entries(i).map(([a,o])=>({tag:a,count:o})).sort((a,o)=>o.count-a.count).slice(0,e)}catch(r){return console.error(":",r),[]}}}const wte=()=>{const{id:t}=a6(),e=To(),[r,n]=P.useState(null),[i,a]=P.useState(null),[o,u]=P.useState(!0),[d,f]=P.useState(!1),[p,m]=P.useState(!1),[g,v]=P.useState("overview");P.useEffect(()=>{t&&(w(t),x(t))},[t]);const w=async E=>{try{n({id:E,name:"",description:"",distance:5.2,duration:30,difficulty:3,startPoint:"",endPoint:"",elevation:15,routeType:"",features:["","","",""],coordinates:[[121.4944,31.2397],[121.4956,31.2389],[121.4968,31.2381]],imageUrl:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Bund%20riverside%20running%20path%20at%20sunset%20with%20Huangpu%20River%20and%20Pudong%20skyline&image_size=landscape_16_9",rating:4.6,reviewCount:128,completionCount:1250,tags:["","","",""],weatherSuitability:["","",""],bestTimeToRun:[" 6:00-8:00"," 17:00-19:00"," 19:00-21:00"],safetyTips:["","","",""],landmarks:["","","",""],facilities:["","","",""]})}catch(A){console.error(":",A)}finally{u(!1)}},x=async E=>{try{const A=await sT.getRouteFeedbackStats(E);a(A)}catch(A){console.error(":",A),a({averageRating:4.6,totalFeedbacks:128,difficultyRating:3.2,safetyRating:4.8,sceneryRating:4.9,recommendationRate:.89,popularTags:[{tag:"",count:45},{tag:"",count:32},{tag:"",count:28}],recentComments:[{comment:"",rating:5,createdAt:"2024-01-15"},{comment:"",rating:4,createdAt:"2024-01-14"}]})}},b=()=>{alert("...")},S=async E=>{try{await sT.submitFeedback(E,"current-user-id"),t&&await x(t),alert(""),f(!1)}catch(A){console.error(":",A),alert("")}},N=()=>{navigator.share&&r?navigator.share({title:r.name,text:r.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert(""))},_=()=>{m(!p)};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"h-56 sm:h-64 md:h-80 bg-gradient-to-r from-blue-500 to-purple-600 relative overflow-hidden",children:[r.imageUrl&&s.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),s.jsxs("div",{className:"absolute top-0 left-0 right-0 p-3 sm:p-4 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 transition-colors",children:s.jsx(Co,{className:"w-4 sm:w-5 h-4 sm:h-5"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:N,className:"p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 transition-colors",children:s.jsx(XM,{className:"w-4 sm:w-5 h-4 sm:h-5"})}),s.jsx("button",{onClick:_,className:`p-2 rounded-full transition-colors ${p?"bg-red-500 text-white":"bg-black bg-opacity-50 text-white hover:bg-opacity-70"}`,children:s.jsx(tn,{className:`w-4 sm:w-5 h-4 sm:h-5 ${p?"fill-current":""}`})})]})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 text-white",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:r.name}),s.jsx(vte,{level:r.difficulty})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsxs("span",{children:[r.distance," km"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsxs("span",{children:[r.duration," "]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wn,{className:"w-3 sm:w-4 h-3 sm:h-4"}),s.jsxs("span",{children:[r.elevation,"m "]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 sm:w-4 h-3 sm:h-4 fill-current"}),s.jsx("span",{children:r.rating}),s.jsxs("span",{className:"text-gray-300",children:["(",r.reviewCount,")"]})]})]})]})]}),s.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex flex-col sm:flex-row gap-2 sm:gap-3 w-full max-w-xs sm:max-w-none px-4 sm:px-0",children:[s.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[s.jsx(Ua,{className:"w-4 sm:w-5 h-4 sm:h-5"}),""]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center gap-2 px-4 sm:px-6 py-3 bg-white text-gray-700 rounded-full shadow-lg hover:bg-gray-50 transition-colors text-sm sm:text-base",children:[s.jsx(Qs,{className:"w-4 sm:w-5 h-4 sm:h-5"}),""]})]})]}),s.jsx("div",{className:"pt-12 pb-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6",children:[s.jsx("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto",children:[{key:"overview",label:"",icon:Ue},{key:"reviews",label:"",icon:Qs},{key:"map",label:"",icon:sc}].map(({key:E,label:A,icon:O})=>s.jsxs("button",{onClick:()=>v(E),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-3 border-b-2 transition-colors whitespace-nowrap ${g===E?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:[s.jsx(O,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm sm:text-base",children:A})]},E))}),g==="overview"&&s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:""}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:r.description})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:r.features.map((E,A)=>s.jsx("span",{className:"px-2 sm:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm",children:E},A))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2",children:[s.jsx(ci,{className:"w-4 sm:w-5 h-4 sm:h-5"}),""]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:r.bestTimeToRun.map((E,A)=>s.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:s.jsx("p",{className:"text-green-800 font-medium text-sm sm:text-base",children:E})},A))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2",children:[s.jsx(oD,{className:"w-4 sm:w-5 h-4 sm:h-5"}),""]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:r.weatherSuitability.map((E,A)=>s.jsxs("span",{className:"px-2 sm:px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs sm:text-sm flex items-center gap-1",children:[s.jsx(SD,{className:"w-3 h-3"}),E]},A))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),s.jsx("ul",{className:"space-y-2",children:r.safetyTips.map((E,A)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[s.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),E]},A))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:r.facilities.map((E,A)=>s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:s.jsx("p",{className:"text-gray-700 text-sm",children:E})},A))})]})]}),g==="reviews"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:i.averageRating.toFixed(1)}),s.jsx("div",{className:"flex justify-center mb-2",children:[1,2,3,4,5].map(E=>s.jsx(wr,{className:`w-5 h-5 ${E<=Math.round(i.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),s.jsxs("p",{className:"text-gray-600",children:[i.totalFeedbacks," "]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Math.round(i.recommendationRate*100),"% "]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(E=>s.jsx(wr,{className:`w-4 h-4 ${E<=Math.round(i.difficultyRating)?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),s.jsx("span",{className:"text-sm text-gray-600",children:i.difficultyRating.toFixed(1)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(E=>s.jsx(wr,{className:`w-4 h-4 ${E<=Math.round(i.safetyRating)?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),s.jsx("span",{className:"text-sm text-gray-600",children:i.safetyRating.toFixed(1)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(E=>s.jsx(wr,{className:`w-4 h-4 ${E<=Math.round(i.sceneryRating)?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),s.jsx("span",{className:"text-sm text-gray-600",children:i.sceneryRating.toFixed(1)})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.popularTags.map((E,A)=>s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center gap-1",children:[s.jsx(iD,{className:"w-3 h-3"}),E.tag," (",E.count,")"]},A))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"space-y-4",children:i.recentComments.map((E,A)=>s.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(O=>s.jsx(wr,{className:`w-4 h-4 ${O<=E.rating?"text-yellow-400 fill-current":"text-gray-300"}`},O))}),s.jsx("span",{className:"text-sm text-gray-500",children:E.createdAt})]}),s.jsx("p",{className:"text-gray-700",children:E.comment})]},A))})]})]}),g==="map"&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Ue,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{children:"..."}),s.jsx("p",{className:"text-sm mt-1",children:""})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:r.startPoint})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:r.endPoint})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.landmarks.map((E,A)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ue,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-700",children:E})]},A))})]})]})]})}),d&&s.jsx(bte,{routeId:r.id,routeName:r.name,isOpen:d,onClose:()=>f(!1),onSubmit:S})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:""}),s.jsx("button",{onClick:()=>e("/recommendations"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})})},jte=({userRunningData:t,currentChallenge:e,onChallengeRecommendation:r,onMotivationNeeded:n,className:i=""})=>{const{user:a}=Nn(),[o,u]=P.useState(null),[d,f]=P.useState(!1),[p,m]=P.useState([]);P.useEffect(()=>{if(t){const N=g(t);m(N)}},[t]);const g=N=>{if(!N)return[];const _=[];return N.fitnessLevel==="beginner"?(_.push(""),_.push("")):N.fitnessLevel==="intermediate"?(_.push(""),_.push("")):(_.push(""),_.push("")),N.currentStreak>7?_.push(""):_.push(""),N.personalBest5K>0&&_.push("5K"),_.slice(0,4)},v=N=>{const _=document.querySelector('input[placeholder*=""]');_&&(_.value=N,_.focus())},w=N=>{u(N)},x=(N,_)=>{var E,A;(E=_.metadata)!=null&&E.challengeRecommendation&&(r==null||r(_.metadata.challengeRecommendation)),((A=_.metadata)==null?void 0:A.motivationLevel)==="high"&&(n==null||n(_.message))},b=()=>({conversationId:(o==null?void 0:o.id)||"challenge-conversation",locationData:{latitude:31.2304,longitude:121.4737,address:"",safetyLevel:85},userContext:{userType:"runner",preferences:{challengeTypes:["distance","time","frequency"],motivationStyle:"encouraging",fitnessLevel:(t==null?void 0:t.fitnessLevel)||"intermediate"}},safetyContext:{currentLevel:"normal",alerts:[]},currentChallenge:e,agentContext:{agentType:"challenge_competition",capabilities:["challenge_recommendation","progress_analysis","motivation_coaching","training_planning","performance_tracking","goal_setting","real_time_encouragement"]},createdAt:new Date}),S=()=>{if(!t)return"text-gray-600 bg-gray-100";switch(t.fitnessLevel){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return a?s.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden ${i}`,children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(Xi,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:""}),s.jsx("p",{className:"text-orange-100 text-sm",children:""})]})]}),s.jsx("button",{onClick:()=>f(!d),className:"bg-white/20 hover:bg-white/30 rounded-lg p-2 transition-colors",children:s.jsx($n,{className:"w-5 h-5"})})]})}),t&&s.jsxs("div",{className:"p-4 bg-orange-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:""}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${S()}`,children:t.fitnessLevel})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[t.totalDistance,"km"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.currentStreak}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.weeklyRuns}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[t.personalBest5K,"min"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"5K"})]})]})]}),e&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2 text-blue-500"}),""]}),s.jsxs("span",{className:"text-sm text-blue-600 font-bold",children:[e.progress,"%"]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.title}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[s.jsxs("span",{children:[": ",e.target," ",e.unit]}),s.jsxs("span",{children:[": ",e.type]})]})]}),p.length>0&&s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-yellow-500"}),""]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:p.map((N,_)=>s.jsx("button",{onClick:()=>v(N),className:"text-left p-3 bg-gradient-to-r from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 rounded-lg transition-colors text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rn,{className:"w-4 h-4 text-orange-500 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:N})]})},_))})]}),s.jsx("div",{className:`transition-all duration-300 ${d?"h-96":"h-64"}`,children:s.jsx(Ho,{conversationType:"general",provider:"deepseek",context:b(),onConversationCreated:w,onMessageSent:x,className:"h-full border-0 rounded-none",placeholder:"..."})}),s.jsx("div",{className:"p-3 bg-gray-50 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wn,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(TT,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jt,{className:"w-3 h-3 mr-1"}),""]})]})})]}):s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 text-center",children:[s.jsx(Xi,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600 mb-4",children:""})]})},_te=()=>{const[t,e]=P.useState("active"),[r,n]=P.useState("all"),i=[{id:"1",title:"",description:"",type:"distance",target:42.195,unit:"km",duration:"30",participants:1256,reward:"",difficulty:"hard",status:"active",progress:65,startDate:"2024-03-01",endDate:"2024-03-31",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Spring%20marathon%20challenge%20running%20event%20with%20cherry%20blossoms&image_size=landscape_4_3",tags:["","",""]},{id:"2",title:"5K",description:"305",type:"frequency",target:30,unit:"",duration:"30",participants:3421,reward:"",difficulty:"medium",status:"active",progress:80,startDate:"2024-03-01",endDate:"2024-03-31",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Daily%205K%20running%20challenge%20urban%20park%20setting&image_size=landscape_4_3",tags:["","5K",""]},{id:"3",title:"",description:"5",type:"speed",target:25,unit:"",duration:"14",participants:892,reward:"",difficulty:"hard",status:"active",progress:45,startDate:"2024-03-15",endDate:"2024-03-29",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Speed%20running%20challenge%20track%20and%20field%20athletic&image_size=landscape_4_3",tags:["","5K",""]},{id:"4",title:"",description:"10",type:"frequency",target:10,unit:"",duration:"21",participants:567,reward:"",difficulty:"easy",status:"upcoming",startDate:"2024-04-01",endDate:"2024-04-21",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Night%20running%20challenge%20city%20lights%20urban%20exploration&image_size=landscape_4_3",tags:["","",""]},{id:"5",title:"",description:"100",type:"distance",target:100,unit:"km",duration:"30",participants:2134,reward:"",difficulty:"medium",status:"completed",progress:100,startDate:"2024-02-01",endDate:"2024-02-29",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=100km%20monthly%20running%20challenge%20endurance%20achievement&image_size=landscape_4_3",tags:["","100K",""]}],a=[{id:"all",label:"",icon:Rn},{id:"distance",label:"",icon:Ue},{id:"time",label:"",icon:jt},{id:"frequency",label:"",icon:ci},{id:"speed",label:"",icon:wn}],o=[{id:"active",label:"",count:i.filter(v=>v.status==="active").length},{id:"upcoming",label:"",count:i.filter(v=>v.status==="upcoming").length},{id:"completed",label:"",count:i.filter(v=>v.status==="completed").length}],u=v=>{switch(v){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},d=v=>{switch(v){case"easy":return"";case"medium":return"";case"hard":return"";default:return""}},f=v=>{switch(v){case"active":return"text-blue-600 bg-blue-100";case"upcoming":return"text-orange-600 bg-orange-100";case"completed":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},p=v=>{switch(v){case"active":return"";case"upcoming":return"";case"completed":return"";default:return""}},m=i.filter(v=>{const w=v.status===t,x=r==="all"||v.type===r;return w&&x}),g=[{label:"",value:"8",icon:Rn,color:"text-blue-500"},{label:"",value:"5",icon:Xi,color:"text-yellow-500"},{label:"",value:"12",icon:OM,color:"text-purple-500"},{label:"",value:"23",icon:TT,color:"text-red-500"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-6",children:g.map((v,w)=>{const x=v.icon;return s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl p-4 lg:p-6 text-center shadow-sm",children:[s.jsx(x,{className:`h-6 w-6 lg:h-8 lg:w-8 ${v.color} mx-auto mb-2 lg:mb-3`}),s.jsx("p",{className:"text-lg lg:text-2xl font-bold text-gray-900 mb-1",children:v.value}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:v.label})]},w)})}),s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm mb-6 overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex",children:o.map(v=>s.jsxs("button",{onClick:()=>e(v.id),className:`flex-1 px-4 py-4 text-sm font-medium text-center border-b-2 transition-colors ${t===v.id?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[v.label,s.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${t===v.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:v.count})]},v.id))})}),s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(v=>{const w=v.icon;return s.jsxs("button",{onClick:()=>n(v.id),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===v.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(w,{className:"w-4 h-4 mr-2"}),v.label]},v.id)})})})]}),s.jsx("div",{className:"space-y-4 lg:space-y-6",children:m.map(v=>s.jsx("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"lg:flex",children:[s.jsxs("div",{className:"lg:w-80 h-48 lg:h-auto relative",children:[s.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(v.difficulty)}`,children:d(v.difficulty)})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(v.status)}`,children:p(v.status)})})]}),s.jsx("div",{className:"flex-1 p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg lg:text-xl font-bold text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-gray-600 text-sm lg:text-base mb-4",children:v.description}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Rn,{className:"w-5 h-5 text-blue-500 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[": ",s.jsxs("span",{className:"font-medium text-gray-900",children:[v.target," ",v.unit]})]})]}),(v.status==="active"||v.status==="completed")&&v.progress!==void 0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:""}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[v.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${v.progress}%`}})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.tags.map((w,x)=>s.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:w},x))})]}),s.jsxs("div",{className:"lg:ml-6 lg:text-right",children:[s.jsxs("div",{className:"flex lg:flex-col items-center lg:items-end space-x-4 lg:space-x-0 lg:space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Qt,{className:"w-4 h-4 mr-1"}),v.participants," "]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(jt,{className:"w-4 h-4 mr-1"}),v.duration]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Jb,{className:"w-4 h-4 mr-1"}),v.reward]})]}),s.jsxs("div",{className:"flex lg:flex-col space-x-3 lg:space-x-0 lg:space-y-2",children:[v.status==="upcoming"&&s.jsxs("button",{className:"flex-1 lg:flex-none bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[s.jsx(ci,{className:"w-4 h-4 mr-2"}),""]}),v.status==="active"&&s.jsxs("button",{className:"flex-1 lg:flex-none bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),""]}),v.status==="completed"&&s.jsxs("button",{className:"flex-1 lg:flex-none bg-gray-500 text-white px-4 py-2 rounded-lg cursor-not-allowed flex items-center justify-center",children:[s.jsx(Xi,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:["",s.jsx(ET,{className:"w-4 h-4 ml-1"})]})]})]})]})})]})},v.id))}),m.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg lg:rounded-xl p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(wr,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-900",children:""}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:""})]})]})})]}),s.jsx(jte,{})]})},Nte=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState({nickname:"",email:"runner@example.com",phone:"138****8888",location:"",birthday:"1990-01-01",gender:"male",height:175,weight:70,runningGoal:"3",preferredDistance:"5-10",interests:["","","",""]}),[i,a]=P.useState(r),o=()=>{e(!0),a(r)},u=()=>{n(i),e(!1),console.log(":",i)},d=()=>{e(!1),a(r)},f=(v,w)=>{a(x=>({...x,[v]:w}))},p=["","","","","","","",""],m=v=>{const w=i.interests;w.includes(v)?f("interests",w.filter(x=>x!==v)):f("interests",[...w,v])},g=[{label:"",value:"128",icon:Rn,color:"text-blue-500"},{label:"",value:"856.2 km",icon:Ue,color:"text-green-500"},{label:"",value:"72h 15m",icon:ci,color:"text-orange-500"},{label:"",value:"12",icon:Jb,color:"text-purple-500"}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:[s.jsx("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm mb-4 lg:mb-6 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8 lg:py-12",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-white rounded-full flex items-center justify-center",children:s.jsx(eo,{className:"w-10 h-10 lg:w-12 lg:h-12 text-gray-400"})}),s.jsx("button",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white hover:bg-blue-600 transition-colors",children:s.jsx(X6,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-center sm:text-left text-white",children:[s.jsx("h1",{className:"text-xl lg:text-2xl font-bold mb-2",children:r.nickname}),s.jsx("p",{className:"text-blue-100 text-sm lg:text-base",children:r.email}),s.jsx("p",{className:"text-blue-100 text-sm",children:r.location})]}),s.jsx("div",{className:"sm:ml-auto",children:t?s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[s.jsx(IT,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors",children:[s.jsx(Vc,{className:"w-4 h-4 mr-2"}),""]})]}):s.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors",children:[s.jsx(MM,{className:"w-4 h-4 mr-2"}),""]})})]})})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-4 lg:mb-6",children:g.map((v,w)=>{const x=v.icon;return s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl p-4 lg:p-6 text-center shadow-sm",children:[s.jsx(x,{className:`h-6 w-6 lg:h-8 lg:w-8 ${v.color} mx-auto mb-2 lg:mb-3`}),s.jsx("p",{className:"text-lg lg:text-2xl font-bold text-gray-900 mb-1",children:v.value}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:v.label})]},w)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm p-4 lg:p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(eo,{className:"w-5 h-5 mr-2 text-blue-500"}),""]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsx("input",{type:"text",value:i.nickname,onChange:v=>f("nickname",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("p",{className:"text-gray-900",children:r.nickname})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsx("input",{type:"email",value:i.email,onChange:v=>f("email",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("p",{className:"text-gray-900",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsx("input",{type:"tel",value:i.phone,onChange:v=>f("phone",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("p",{className:"text-gray-900",children:r.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsx("input",{type:"text",value:i.location,onChange:v=>f("location",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsx("p",{className:"text-gray-900",children:r.location})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (cm)"}),t?s.jsx("input",{type:"number",value:i.height,onChange:v=>f("height",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsxs("p",{className:"text-gray-900",children:[r.height," cm"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (kg)"}),t?s.jsx("input",{type:"number",value:i.weight,onChange:v=>f("weight",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):s.jsxs("p",{className:"text-gray-900",children:[r.weight," kg"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-sm p-4 lg:p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(tn,{className:"w-5 h-5 mr-2 text-red-500"}),""]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsxs("select",{value:i.runningGoal,onChange:v=>f("runningGoal",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"",children:""})]}):s.jsx("p",{className:"text-gray-900",children:r.runningGoal})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t?s.jsxs("select",{value:i.preferredDistance,onChange:v=>f("preferredDistance",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"1-3",children:"1-3"}),s.jsx("option",{value:"3-5",children:"3-5"}),s.jsx("option",{value:"5-10",children:"5-10"}),s.jsx("option",{value:"10-21",children:"10-21"}),s.jsx("option",{value:"21",children:"21"})]}):s.jsx("p",{className:"text-gray-900",children:r.preferredDistance})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t?s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>s.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 rounded-full text-sm transition-colors ${i.interests.includes(v)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v},v))}):s.jsx("div",{className:"flex flex-wrap gap-2",children:r.interests.map(v=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:v},v))})]})]})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-6 bg-white rounded-lg lg:rounded-xl shadow-sm p-4 lg:p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ih,{className:"w-5 h-5 mr-2 text-gray-500"}),""]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(OT,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-500",children:""})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-500",children:""})]})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-500",children:""})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})})},Ste=()=>{const[t,e]=P.useState("email"),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,u]=P.useState(!1),[d,f]=P.useState(""),[p,m]=P.useState(""),[g,v]=P.useState(!1),[w,x]=P.useState(0),[b,S]=P.useState(""),[N,_]=P.useState(""),{signIn:E,signInWithPhone:A,verifyPhoneLogin:O,validatePhoneNumber:T,isLoading:R}=iu();P.useEffect(()=>{let U;return w>0&&(U=setTimeout(()=>x(w-1),1e3)),()=>clearTimeout(U)},[w]);const $=async()=>{if(!d){S("");return}if(!T(d)){S("");return}S("");const{error:U}=await A(d);U?S(U):(v(!0),x(60),_(""))},z=t==="email"?async U=>{if(U.preventDefault(),S(""),_(""),!r||!i){S("");return}const{error:D}=await E(r,i);D&&S(D)}:async U=>{if(U.preventDefault(),S(""),_(""),!d||!p){S("");return}if(!T(d)){S("");return}if(!g){S("");return}const{error:D}=await O(d,p);D&&S(D)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"mt-2 text-gray-600",children:""})]})}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg rounded-lg sm:px-10",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1",children:[s.jsxs("button",{type:"button",onClick:()=>e("email"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="email"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Gd,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs("button",{type:"button",onClick:()=>e("phone"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="phone"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),""]})]})}),s.jsxs("form",{className:"space-y-6",onSubmit:z,children:[b&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:b}),N&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:N}),t==="email"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Gd,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:U=>n(U.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(nx,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:U=>a(U.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("button",{type:"button",onClick:()=>u(!o),className:"text-gray-400 hover:text-gray-600",children:o?s.jsx(rx,{className:"h-5 w-5"}):s.jsx(Ys,{className:"h-5 w-5"})})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:""})]}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:""})})]})]}),t==="phone"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-md text-sm mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:""}),"  ",s.jsx("button",{type:"button",onClick:()=>e("email"),className:"underline font-medium hover:text-amber-800",children:""})," "]})})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(en,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:d,onChange:U=>f(U.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"11"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 flex space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Qs,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"verificationCode",name:"verificationCode",type:"text",required:!0,value:p,onChange:U=>m(U.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]}),s.jsx("button",{type:"button",onClick:$,disabled:w>0||R,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w>0?`${w}s`:""})]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:R,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:R?"...":""})}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[""," ",s.jsx(Vt,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:""})]})})]})]})})]})},kte=()=>{const[t,e]=P.useState("email"),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,u]=P.useState(""),[d,f]=P.useState(""),[p,m]=P.useState(""),[g,v]=P.useState(!1),[w,x]=P.useState(0),[b,S]=P.useState(""),[N,_]=P.useState(!1),[E,A]=P.useState(!1),[O,T]=P.useState(""),[R,$]=P.useState(""),{signUp:I,sendPhoneOTP:M,verifyPhoneOTP:z,validatePhoneNumber:U,isLoading:D}=iu();P.useEffect(()=>{let Y;return w>0&&(Y=setTimeout(()=>x(w-1),1e3)),()=>clearTimeout(Y)},[w]);const q=async()=>{if(!d){T("");return}if(!U(d)){T("");return}T("");const{error:Y}=await M(d);Y?T(Y):(v(!0),x(60),$(""))},X=t==="email"?async Y=>{if(Y.preventDefault(),T(""),$(""),!r||!i||!o||!b){T("");return}if(i!==o){T("");return}if(i.length<6){T("6");return}const{error:W}=await I(r,i,b);W?T(W):$("")}:async Y=>{if(Y.preventDefault(),T(""),$(""),!d||!p||!b){T("");return}if(!U(d)){T("");return}if(!g){T("");return}const{error:W}=await z(d,p,b);W?T(W):$("")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"mt-2 text-gray-600",children:""})]})}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg rounded-lg sm:px-10",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex rounded-lg bg-gray-100 p-1",children:[s.jsxs("button",{type:"button",onClick:()=>e("email"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="email"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Gd,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs("button",{type:"button",onClick:()=>e("phone"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="phone"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),""]})]})}),s.jsxs("form",{className:"space-y-6",onSubmit:X,children:[O&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:O}),R&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:R}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(eo,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"nickname",name:"nickname",type:"text",required:!0,value:b,onChange:Y=>S(Y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]})]}),t==="email"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"font-medium",children:" "}),s.jsx("p",{className:"mt-1",children:""})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Gd,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:Y=>n(Y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(nx,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:N?"text":"password",autoComplete:"new-password",required:!0,value:i,onChange:Y=>a(Y.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"6"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("button",{type:"button",onClick:()=>_(!N),className:"text-gray-400 hover:text-gray-600",children:N?s.jsx(rx,{className:"h-5 w-5"}):s.jsx(Ys,{className:"h-5 w-5"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(nx,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:E?"text":"password",autoComplete:"new-password",required:!0,value:o,onChange:Y=>u(Y.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("button",{type:"button",onClick:()=>A(!E),className:"text-gray-400 hover:text-gray-600",children:E?s.jsx(rx,{className:"h-5 w-5"}):s.jsx(Ys,{className:"h-5 w-5"})})})]})]})]}),t==="phone"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-md text-sm mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:""}),"  ",s.jsx("button",{type:"button",onClick:()=>e("email"),className:"underline font-medium hover:text-amber-800",children:""})," "]})})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(en,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:d,onChange:Y=>f(Y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"11"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700",children:""}),s.jsxs("div",{className:"mt-1 flex space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Qs,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"verificationCode",name:"verificationCode",type:"text",required:!0,value:p,onChange:Y=>m(Y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:""})]}),s.jsx("button",{type:"button",onClick:q,disabled:w>0||D,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w>0?`${w}s`:""})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900",children:[""," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:""})," ",""," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:""})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:D,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:D?"...":""})}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[""," ",s.jsx(Vt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:""})]})})]})]})})]})};function Ate(){const t=()=>{window.location.href="/"},e=()=>{window.history.back()};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:t,className:"inline-flex items-center justify-center w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:""}),s.jsx("button",{onClick:e,className:"inline-flex items-center justify-center w-full px-6 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})})}const Ote=()=>{const[t,e]=P.useState({kimi:{configured:!1,key:""},deepseek:{configured:!1,key:""}});P.useEffect(()=>{e({kimi:{configured:!0,key:`${"your_kimi_api_key".substring(0,10)}...`},deepseek:{configured:!0,key:`${"sk-983a0af9652a4f6e9b7c99fc5a95a1a1".substring(0,10)}...`}})},[]);const r=async()=>{try{const i=await fetch("https://api.moonshot.cn/v1/models",{headers:{Authorization:"Bearer your_kimi_api_key","Content-Type":"application/json"}});i.ok?alert("KIMI API"):alert(`KIMI API: ${i.status} ${i.statusText}`)}catch(i){alert(`KIMI API: ${i}`)}},n=async()=>{try{const i=await fetch("https://api.deepseek.com/v1/models",{headers:{Authorization:"Bearer sk-983a0af9652a4f6e9b7c99fc5a95a1a1","Content-Type":"application/json"}});i.ok?alert("DeepSeek API"):alert(`DeepSeek API: ${i.status} ${i.statusText}`)}catch(i){alert(`DeepSeek API: ${i}`)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"API"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${t.kimi.configured?"bg-green-500":"bg-red-500"}`}),"KIMI API"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:`ml-2 font-medium ${t.kimi.configured?"text-green-600":"text-red-600"}`,children:t.kimi.configured?"":""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:t.kimi.key})]}),s.jsx("button",{onClick:r,disabled:!t.kimi.configured,className:`w-full py-2 px-4 rounded-md font-medium ${t.kimi.configured?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:""})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${t.deepseek.configured?"bg-green-500":"bg-red-500"}`}),"DeepSeek API"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:`ml-2 font-medium ${t.deepseek.configured?"text-green-600":"text-red-600"}`,children:t.deepseek.configured?"":""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:t.deepseek.key})]}),s.jsx("button",{onClick:n,disabled:!t.deepseek.configured,className:`w-full py-2 px-4 rounded-md font-medium ${t.deepseek.configured?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"VITE_KIMI_API_KEY:"}),s.jsx("span",{className:"ml-2 font-mono",children:""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"VITE_DEEPSEEK_API_KEY:"}),s.jsx("span",{className:"ml-2 font-mono",children:""})]})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("a",{href:"/ai/chat",className:"inline-block bg-green-600 text-white px-6 py-3 rounded-md font-medium hover:bg-green-700 transition-colors",children:"AI"})})]})})},Ete=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,u]=P.useState(!1),{user:d}=Nn(),f=async()=>{try{u(!0);const{data:g,error:v}=await Oe.from("users").select("count").limit(1);e(v?` : ${v.message}`:" ")}catch(g){e(` : ${g}`)}finally{u(!1)}},p=async()=>{try{u(!0);const g=await qt.testConnections(),v=g.kimi?"":"",w=g.deepseek?"":"";n(`KIMI: ${v} | DeepSeek: ${w}`)}catch(g){n(` : ${g}`)}finally{u(!1)}},m=async()=>{if(!d){a(" ");return}try{u(!0);const g=await qt.createConversation(d.id,{title:"",provider:"kimi",conversationType:"general"});a(` : ${g.id}`)}catch(g){a(` : ${g}`)}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:d?` : ${d.name} (${d.id})`:" "})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supabase "}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[": ",t]}),s.jsx("button",{onClick:f,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?"...":" Supabase "})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"AI API "}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[": ",r]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["KIMI API Key: ",`${"your_kimi_api_key".substring(0,10)}...`]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["DeepSeek API Key: ",`${"sk-983a0af9652a4f6e9b7c99fc5a95a1a1".substring(0,10)}...`]})]}),s.jsx("button",{onClick:p,disabled:o,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:o?"...":" AI "})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[": ",i]}),s.jsx("button",{onClick:m,disabled:o||!d,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:o?"...":""})]})]})]})})},Pte=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(We,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"API"}),s.jsx("p",{className:"text-gray-600",children:"API"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),s.jsx("h3",{className:"font-semibold text-green-800",children:"KIMI API - "})]}),s.jsx("p",{className:"text-sm text-green-700",children:": sk-NlOKUMpd... "})]}),s.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),s.jsx("h3",{className:"font-semibold text-red-800",children:"DeepSeek API - "})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-red-700",children:[s.jsx("strong",{children:":"})," sk-proj-LX-TwSZjRMb... "]}),s.jsxs("p",{className:"text-red-700",children:[s.jsx("strong",{children:":"})," OpenAIDeepSeekAPI"]}),s.jsxs("p",{className:"text-red-700",children:[s.jsx("strong",{children:":"}),' DeepSeek API "sk-" ']})]})]}),s.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[s.jsx(wM,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("div",{className:"space-y-3 text-sm text-blue-700",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"1. DeepSeek API"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsxs("a",{href:"https://platform.deepseek.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center",children:["DeepSeek ",s.jsx(lM,{className:"w-3 h-3 ml-1"})]})]}),s.jsx("li",{children:""}),s.jsx("li",{children:"APIAPI"}),s.jsx("li",{children:' "sk-" API'})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"2. "}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:" .env "}),s.jsx("li",{children:" VITE_DEEPSEEK_API_KEY DeepSeek API"}),s.jsx("li",{children:""})]})]})]})]}),s.jsxs("div",{className:"border border-yellow-200 rounded-lg p-4 bg-yellow-50",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:""}),s.jsx("p",{className:"text-sm text-yellow-700",children:"KIMI APIAIDeepSeek"})]})]}),s.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[s.jsx("a",{href:"/debug-test",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),s.jsx("a",{href:"/ai/chat",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"KIMI"})]})]})}),Tte=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(""),[i,a]=P.useState(""),o=async()=>{var d,f;e(!0),n(""),a("");try{const p="your_kimi_api_key";console.log("KIMI API..."),console.log("API:",p.substring(0,10)+"...");const m=await fetch("https://api.moonshot.cn/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({model:"moonshot-v1-8k",messages:[{role:"user",content:""}],temperature:.7,max_tokens:100})});if(console.log("API:",m.status),console.log("API:",m.headers),!m.ok){const w=await m.text();throw console.error("API:",w),new Error(`KIMI API: ${m.status} ${m.statusText}
: ${w}`)}const g=await m.json();console.log("API:",g);const v=((f=(d=g.choices[0])==null?void 0:d.message)==null?void 0:f.content)||"";n(`AI: ${v}`)}catch(p){console.error("KIMI API:",p),a(p instanceof Error?p.message:"")}finally{e(!1)}},u=async()=>{var d;e(!0),n(""),a("");try{const f="your_kimi_api_key";console.log("KIMI API...");const p=await fetch("https://api.moonshot.cn/v1/models",{headers:{Authorization:`Bearer ${f}`}});if(console.log(":",p.status),!p.ok){const g=await p.text();throw console.error(":",g),new Error(`: ${p.status} ${p.statusText}
: ${g}`)}const m=await p.json();console.log(":",m),n(`: ${((d=m.data)==null?void 0:d.length)||0}`)}catch(f){console.error(":",f),a(f instanceof Error?f.message:"")}finally{e(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"KIMI API "}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"API:"})," ",`${"your_kimi_api_key".substring(0,10)}...`]}),s.jsxs("p",{children:[s.jsx("strong",{children:"API:"})," https://api.moonshot.cn/v1"]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," moonshot-v1-8k"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("button",{onClick:u,disabled:t,className:"p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[t?s.jsx(In,{className:"w-4 h-4 animate-spin mr-2"}):null,"API"]}),s.jsxs("button",{onClick:o,disabled:t,className:"p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[t?s.jsx(In,{className:"w-4 h-4 animate-spin mr-2"}):null,""]})]}),r&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsx("p",{className:"mt-2 text-green-600",children:r})]}),i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[s.jsx(tx,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsx("pre",{className:"mt-2 text-red-600 text-sm whitespace-pre-wrap",children:i})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/ai/chat",className:"inline-block bg-purple-600 text-white px-6 py-3 rounded-md font-medium hover:bg-purple-700 transition-colors",children:"AI"})})]})})},Cte=()=>{const{user:t}=Nn(),[e,r]=P.useState([{name:"",status:"pending"},{name:"KIMI API",status:"pending"},{name:"",status:"pending"},{name:"",status:"pending"},{name:"",status:"pending"}]),n=(u,d)=>{r(f=>f.map((p,m)=>m===u?{...p,...d}:p))},i=async()=>{if(!t){alert("");return}n(0,{status:"running"});try{const u="your_kimi_api_key",d="https://briiusmbfulqxpeqhouy.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJyaWl1c21iZnVscXhwZXFob3V5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMzQ4MDgsImV4cCI6MjA3NjYxMDgwOH0.rnn3R7iE06qwwtu_901_6YONZ500bfmusr48N3FcZDQ";n(0,{status:"success",message:"",data:{kimiKey:u?`${u.substring(0,10)}...`:"",supabaseUrl:d?"":"",supabaseKey:f?"":""}})}catch(u){n(0,{status:"error",message:u instanceof Error?u.message:""});return}n(1,{status:"running"});try{const u=await qt.testConnections();if(u.kimi)n(1,{status:"success",message:"KIMI API",data:u});else throw new Error("KIMI API")}catch(u){n(1,{status:"error",message:u instanceof Error?u.message:"KIMI API"});return}n(2,{status:"running"});try{const u=await qt.getConversations(t.id,1);n(2,{status:"success",message:"",data:{conversationCount:u.length}})}catch(u){n(2,{status:"error",message:u instanceof Error?u.message:""});return}n(3,{status:"running"});try{const u=await qt.createConversation(t.id,{title:"",provider:"kimi",conversationType:"general"});n(3,{status:"success",message:"",data:{conversationId:u.id,title:u.title,provider:u.aiProvider}}),n(4,{status:"running"});try{const d=await qt.sendMessage(t.id,"",u.id);n(4,{status:"success",message:"",data:{userMessage:d.userMessage.content,aiResponse:d.response.message.substring(0,100)+"..."}})}catch(d){n(4,{status:"error",message:d instanceof Error?d.message:""})}}catch(u){n(3,{status:"error",message:u instanceof Error?u.message:""})}},a=u=>{switch(u){case"pending":return s.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300"});case"running":return s.jsx(In,{className:"w-4 h-4 animate-spin text-blue-500"});case"success":return s.jsx(Jr,{className:"w-4 h-4 text-green-500"});case"error":return s.jsx(ac,{className:"w-4 h-4 text-red-500"})}},o=u=>{switch(u){case"pending":return"text-gray-500";case"running":return"text-blue-500";case"success":return"text-green-500";case"error":return"text-red-500"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(Js,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:""}),t?s.jsxs("div",{className:"text-blue-800",children:[s.jsxs("p",{children:["ID: ",t.id]}),s.jsxs("p",{children:[": ",t.name]}),s.jsxs("p",{children:[": ",t.email]})]}):s.jsx("p",{className:"text-yellow-800",children:""})]}),s.jsx("div",{className:"space-y-4 mb-6",children:e.map((u,d)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a(u.status),s.jsx("h3",{className:`font-medium ${o(u.status)}`,children:u.name})]}),u.message&&s.jsx("p",{className:`text-sm ${o(u.status)} ml-7`,children:u.message}),u.data&&s.jsx("div",{className:"ml-7 mt-2",children:s.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(u.data,null,2)})})]},d))}),s.jsxs("button",{onClick:i,disabled:!t||e.some(u=>u.status==="running"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),""]})]})})})},Ite=({userLocation:t,safetyData:e,userProfile:r,onEmergencyAlert:n,onSafetyRecommendation:i,className:a=""})=>{const{user:o}=Nn(),[u,d]=P.useState(null),[f,p]=P.useState(!1),[m,g]=P.useState("safe"),[v,w]=P.useState([]);P.useEffect(()=>{if(e){const R=x(e);g(R)}},[e]),P.useEffect(()=>{if(r&&e){const R=b(r,e);w(R)}},[r,e]);const x=R=>{if(!R)return"safe";let $=0;return R.crimeRate>.8?$+=40:R.crimeRate>.5?$+=25:R.crimeRate>.2&&($+=10),R.lightingLevel<.3?$+=30:R.lightingLevel<.6&&($+=15),R.crowdDensity<.2?$+=20:R.crowdDensity<.4&&($+=10),R.emergencyServices||($+=10),$>=60?"danger":$>=30?"caution":"safe"},b=(R,$)=>{if(!R||!$)return[];const I=[];R.gender==="female"&&(I.push(""),I.push(""),$.femaleRunnerReports>0&&I.push("")),R.experienceLevel==="beginner"&&(I.push(""),I.push("")),m==="danger"?(I.push(""),I.push("")):m==="caution"&&(I.push(""),I.push("")),R.medicalConditions.length>0&&I.push("");const M=new Date().getHours();return(M<6||M>20)&&I.push(""),I.slice(0,6)},S=R=>{const $=document.querySelector('input[placeholder*=""]');$&&($.value=R,$.focus())},N=R=>{d(R)},_=(R,$)=>{var I,M;(I=$.metadata)!=null&&I.emergencyAlert&&(n==null||n($.metadata.emergencyAlert)),(M=$.metadata)!=null&&M.safetyRecommendation&&(i==null||i($.metadata.safetyRecommendation))},E=()=>({conversationId:(u==null?void 0:u.id)||"safety-conversation",locationData:{latitude:(t==null?void 0:t.latitude)||31.2304,longitude:(t==null?void 0:t.longitude)||121.4737,address:(t==null?void 0:t.address)||"",safetyLevel:85},userContext:{userType:"runner",gender:r==null?void 0:r.gender,preferences:{experienceLevel:r==null?void 0:r.experienceLevel,hasMedicalConditions:(r==null?void 0:r.medicalConditions)&&r.medicalConditions.length>0,hasEmergencyContacts:(r==null?void 0:r.emergencyContacts)&&r.emergencyContacts.length>0}},safetyContext:{currentLevel:m||"normal",alerts:[]},safetyLevel:m,agentContext:{agentType:"safety",capabilities:["safety_assessment","emergency_response","female_safety_advice","medical_considerations","real_time_monitoring"]},createdAt:new Date}),A=()=>{switch(m){case"safe":return"text-green-600 bg-green-100";case"caution":return"text-yellow-600 bg-yellow-100";case"danger":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},O=()=>{switch(m){case"safe":return"";case"caution":return"";case"danger":return"";default:return""}},T=()=>{switch(m){case"safe":return s.jsx(lt,{className:"w-5 h-5 text-green-500"});case"caution":return s.jsx(We,{className:"w-5 h-5 text-yellow-500"});case"danger":return s.jsx(We,{className:"w-5 h-5 text-red-500"});default:return s.jsx(lt,{className:"w-5 h-5 text-gray-500"})}};return o?s.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden ${a}`,children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-4 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(lt,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:""}),s.jsx("p",{className:"text-red-100 text-sm",children:""})]})]}),s.jsx("button",{onClick:()=>p(!f),className:"bg-white/20 hover:bg-white/30 rounded-lg p-2 transition-colors",children:s.jsx(Ys,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-4 bg-red-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[T(),s.jsx("span",{className:"ml-2",children:""})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${A()}`,children:O()})]}),e&&s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-red-600",children:[Math.round(e.crimeRate*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:[Math.round(e.lightingLevel*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.round(e.crowdDensity*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:e.emergencyServices?"":""}),s.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]}),r&&s.jsxs("div",{className:"p-4 bg-pink-50 border-b",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Qt,{className:"w-4 h-4 mr-2 text-pink-500"}),""]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"text-gray-900",children:r.gender==="female"?"":r.gender==="male"?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"text-gray-900",children:r.experienceLevel==="beginner"?"":r.experienceLevel==="intermediate"?"":""})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"text-gray-900",children:r.medicalConditions.length>0?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"text-gray-900",children:[r.emergencyContacts.length,""]})]})]})})]})]}),v.length>0&&s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(tn,{className:"w-4 h-4 mr-2 text-red-500"}),""]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:v.map((R,$)=>s.jsx("button",{onClick:()=>S(R),className:"text-left p-3 bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 rounded-lg transition-colors text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:R})]})},$))})]}),(r==null?void 0:r.emergencyContacts)&&r.emergencyContacts.length>0&&s.jsx("div",{className:"p-4 bg-red-100 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(en,{className:"w-4 h-4 mr-2 text-red-500"}),""]}),s.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:""})]})}),s.jsx("div",{className:`transition-all duration-300 ${f?"h-96":"h-64"}`,children:s.jsx(Ho,{conversationType:"safety",provider:"deepseek",context:E(),onConversationCreated:N,onMessageSent:_,placeholder:"...",className:"h-full border-0 rounded-none"})}),s.jsx("div",{className:"p-3 bg-gray-50 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(lt,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(tn,{className:"w-3 h-3 mr-1"}),""]})]})})]}):s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-xl p-6 text-center",children:[s.jsx(lt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600 mb-4",children:""})]})},Rte=()=>{const t=[{title:"",description:"24",icon:si,href:"/safety/monitor",color:"bg-blue-600",stats:""},{title:"",description:"",icon:Zr,href:"/safety/assessment",color:"bg-green-600",stats:""},{title:"",description:"",icon:Qt,href:"/safety/women",color:"bg-pink-600",stats:""},{title:"",description:"",icon:We,href:"/safety/emergency",color:"bg-red-600",stats:"SOS"}],e=[{label:"",value:"85",unit:"",change:"+5",changeType:"positive",icon:lt},{label:"",value:"2.5",unit:"",change:"+0.5",changeType:"positive",icon:jt},{label:"",value:"12",unit:"",change:"+2",changeType:"positive",icon:Ue},{label:"",value:"3",unit:"",change:"0",changeType:"neutral",icon:Qt}],r=[{id:1,type:"info",message:"",time:"2",icon:lt},{id:2,type:"warning",message:"",time:"4",icon:We},{id:3,type:"success",message:"",time:"1",icon:Qt}],n=i=>{switch(i){case"success":return"bg-green-100 text-green-800 border-green-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:e.map((i,a)=>{const o=i.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:s.jsx(o,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:`text-xs sm:text-sm font-medium ${i.changeType==="positive"?"text-green-600":i.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:[i.change!=="0"&&(i.changeType==="positive"?"+":""),i.change]})]}),s.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-1",children:[i.value,s.jsx("span",{className:"text-xs sm:text-sm font-normal text-gray-600 ml-1",children:i.unit})]}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:i.label})]},a)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:""}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:t.map((i,a)=>{const o=i.icon;return s.jsxs(Vt,{to:i.href,className:"group bg-white rounded-xl shadow-lg p-4 sm:p-6 hover:shadow-xl transition-all duration-300 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${i.color} text-white`,children:s.jsx(o,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:""})]}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:i.title}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:i.description})]},a)})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"space-y-3",children:r.map(i=>{const a=i.icon;return s.jsxs("div",{className:"flex items-center p-3 sm:p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:`p-2 rounded-lg mr-3 sm:mr-4 ${n(i.type)}`,children:s.jsx(a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.message}),s.jsx("p",{className:"text-xs opacity-75 mt-1",children:i.time})]})]},i.id)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Vt,{to:"/safety/emergency",className:"flex items-center p-3 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:[s.jsx(We,{className:"w-5 h-5 text-red-600 mr-3"}),s.jsx("span",{className:"text-red-700 font-medium",children:""})]}),s.jsxs(Vt,{to:"/safety/monitor",className:"flex items-center p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[s.jsx(si,{className:"w-5 h-5 text-blue-600 mr-3"}),s.jsx("span",{className:"text-blue-700 font-medium",children:""})]}),s.jsxs(Vt,{to:"/safety/assessment",className:"flex items-center p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[s.jsx(Zr,{className:"w-5 h-5 text-green-600 mr-3"}),s.jsx("span",{className:"text-green-700 font-medium",children:""})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:" "}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "})]})]})]})]}),s.jsx(Ite,{})]})})},Fn=Object.create(null);Fn.open="0";Fn.close="1";Fn.ping="2";Fn.pong="3";Fn.message="4";Fn.upgrade="5";Fn.noop="6";const zd=Object.create(null);Object.keys(Fn).forEach(t=>{zd[Fn[t]]=t});const Ub={type:"error",data:"parser error"},n5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",i5=typeof ArrayBuffer=="function",a5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,f1=({type:t,data:e},r,n)=>n5&&e instanceof Blob?r?n(e):oT(e,n):i5&&(e instanceof ArrayBuffer||a5(e))?r?n(e):oT(new Blob([e]),n):n(Fn[t]+(e||"")),oT=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function lT(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Xv;function $te(t,e){if(n5&&t.data instanceof Blob)return t.data.arrayBuffer().then(lT).then(e);if(i5&&(t.data instanceof ArrayBuffer||a5(t.data)))return e(lT(t.data));f1(t,!1,r=>{Xv||(Xv=new TextEncoder),e(Xv.encode(r))})}const cT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<cT.length;t++)Hl[cT.charCodeAt(t)]=t;const Mte=t=>{let e=t.length*.75,r=t.length,n,i=0,a,o,u,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),p=new Uint8Array(f);for(n=0;n<r;n+=4)a=Hl[t.charCodeAt(n)],o=Hl[t.charCodeAt(n+1)],u=Hl[t.charCodeAt(n+2)],d=Hl[t.charCodeAt(n+3)],p[i++]=a<<2|o>>4,p[i++]=(o&15)<<4|u>>2,p[i++]=(u&3)<<6|d&63;return f},Dte=typeof ArrayBuffer=="function",h1=(t,e)=>{if(typeof t!="string")return{type:"message",data:s5(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Lte(t.substring(1),e)}:zd[r]?t.length>1?{type:zd[r],data:t.substring(1)}:{type:zd[r]}:Ub},Lte=(t,e)=>{if(Dte){const r=Mte(t);return s5(r,e)}else return{base64:!0,data:t}},s5=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},o5="",Bte=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((a,o)=>{f1(a,!1,u=>{n[o]=u,++i===r&&e(n.join(o5))})})},qte=(t,e)=>{const r=t.split(o5),n=[];for(let i=0;i<r.length;i++){const a=h1(r[i],e);if(n.push(a),a.type==="error")break}return n};function Fte(){return new TransformStream({transform(t,e){$te(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let Yv;function Ld(t){return t.reduce((e,r)=>e+r.length,0)}function Bd(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Ute(t,e){Yv||(Yv=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,u){for(r.push(o);;){if(n===0){if(Ld(r)<1)break;const d=Bd(r,1);a=(d[0]&128)===128,i=d[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ld(r)<2)break;const d=Bd(r,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Ld(r)<8)break;const d=Bd(r,8),f=new DataView(d.buffer,d.byteOffset,d.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(Ub);break}i=p*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Ld(r)<i)break;const d=Bd(r,i);u.enqueue(h1(a?d:Yv.decode(d),e)),n=0}if(i===0||i>t){u.enqueue(Ub);break}}}})}const l5=4;function Pt(t){if(t)return zte(t)}function zte(t){for(var e in Pt.prototype)t[e]=Pt.prototype[e];return t}Pt.prototype.on=Pt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Pt.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Pt.prototype.off=Pt.prototype.removeListener=Pt.prototype.removeAllListeners=Pt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Pt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Pt.prototype.emitReserved=Pt.prototype.emit;Pt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Pt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const zh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Xr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Wte="arraybuffer";function c5(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Hte=Xr.setTimeout,Kte=Xr.clearTimeout;function Wh(t,e){e.useNativeTimers?(t.setTimeoutFn=Hte.bind(Xr),t.clearTimeoutFn=Kte.bind(Xr)):(t.setTimeoutFn=Xr.setTimeout.bind(Xr),t.clearTimeoutFn=Xr.clearTimeout.bind(Xr))}const Vte=1.33;function Gte(t){return typeof t=="string"?Xte(t):Math.ceil((t.byteLength||t.size)*Vte)}function Xte(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function u5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Yte(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Jte(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class Qte extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class m1 extends Pt{constructor(e){super(),this.writable=!1,Wh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new Qte(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=h1(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Yte(e);return r.length?"?"+r:""}}class Zte extends m1{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};qte(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Bte(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=u5()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let d5=!1;try{d5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ere=d5;function tre(){}class rre extends Zte{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class Bn extends Pt{constructor(e,r,n){super(),this.createRequest=e,Wh(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=c5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Bn.requestsCount++,Bn.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tre,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bn.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Bn.requestsCount=0;Bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uT);else if(typeof addEventListener=="function"){const t="onpagehide"in Xr?"pagehide":"unload";addEventListener(t,uT,!1)}}function uT(){for(let t in Bn.requests)Bn.requests.hasOwnProperty(t)&&Bn.requests[t].abort()}const nre=(function(){const t=f5({xdomain:!1});return t&&t.responseType!==null})();class ire extends rre{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=nre&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Bn(f5,this.uri(),e)}}function f5(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ere))return new XMLHttpRequest}catch{}if(!e)try{return new Xr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const h5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class are extends m1{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=h5?{}:c5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;f1(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&zh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=u5()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Jv=Xr.WebSocket||Xr.MozWebSocket;class sre extends are{createSocket(e,r,n){return h5?new Jv(e,r,n):r?new Jv(e,r):new Jv(e)}doWrite(e,r){this.ws.send(r)}}class ore extends m1{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=Ute(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=Fte();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:u,value:d})=>{u||(this.onPacket(d),a())}).catch(u=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&zh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const lre={websocket:sre,webtransport:ore,polling:ire},cre=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ure=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zb(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=cre.exec(t||""),a={},o=14;for(;o--;)a[ure[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=dre(a,a.path),a.queryKey=fre(a,a.query),a}function dre(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function fre(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Wb=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wd=[];Wb&&addEventListener("offline",()=>{Wd.forEach(t=>t())},!1);class Zi extends Pt{constructor(e,r){if(super(),this.binaryType=Wte,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=zb(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=zb(r.host).host);Wh(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Jte(this.opts.query)),Wb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=l5,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Zi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Zi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Gte(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Zi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Wd.indexOf(this._offlineEventListener);n!==-1&&Wd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Zi.protocol=l5;class hre extends Zi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Zi.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Zi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function a(){n||(n=!0,p(),r.close(),r=null)}const o=m=>{const g=new Error("probe error: "+m);g.transport=r.name,a(),this.emitReserved("upgradeError",g)};function u(){o("transport closed")}function d(){o("socket closed")}function f(m){r&&m.name!==r.name&&a()}const p=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",u),this.off("close",d),this.off("upgrading",f)};r.once("open",i),r.once("error",o),r.once("close",u),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let mre=class extends hre{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>lre[i]).filter(i=>!!i)),super(e,n)}};function pre(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=zb(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const gre=typeof ArrayBuffer=="function",yre=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,m5=Object.prototype.toString,vre=typeof Blob=="function"||typeof Blob<"u"&&m5.call(Blob)==="[object BlobConstructor]",xre=typeof File=="function"||typeof File<"u"&&m5.call(File)==="[object FileConstructor]";function p1(t){return gre&&(t instanceof ArrayBuffer||yre(t))||vre&&t instanceof Blob||xre&&t instanceof File}function Hd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Hd(t[r]))return!0;return!1}if(p1(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Hd(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Hd(t[r]))return!0;return!1}function bre(t){const e=[],r=t.data,n=t;return n.data=Hb(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Hb(t,e){if(!t)return t;if(p1(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Hb(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Hb(t[n],e));return r}return t}function wre(t,e){return t.data=Kb(t.data,e),delete t.attachments,t}function Kb(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Kb(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Kb(t[r],e));return t}const jre=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_re=5;var Fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));class Nre{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Hd(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=bre(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function dT(t){return Object.prototype.toString.call(t)==="[object Object]"}class g1 extends Pt{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Fe.BINARY_EVENT;n||r.type===Fe.BINARY_ACK?(r.type=n?Fe.EVENT:Fe.ACK,this.reconstructor=new Sre(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(p1(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Fe.BINARY_EVENT||n.type===Fe.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(g1.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Fe.CONNECT:return dT(r);case Fe.DISCONNECT:return r===void 0;case Fe.CONNECT_ERROR:return typeof r=="string"||dT(r);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&jre.indexOf(r[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Sre{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=wre(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const kre=Object.freeze(Object.defineProperty({__proto__:null,Decoder:g1,Encoder:Nre,get PacketType(){return Fe},protocol:_re},Symbol.toStringTag,{value:"Module"}));function vn(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Are=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class p5 extends Pt{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vn(e,"open",this.onopen.bind(this)),vn(e,"packet",this.onpacket.bind(this)),vn(e,"error",this.onerror.bind(this)),vn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,a;if(Are.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const p=this.ids++,m=r.pop();this._registerAckCallback(p,m),o.id=p}const u=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},i),o=(...u)=>{this.io.clearTimeoutFn(a),r.apply(this,u)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const a=(o,u)=>o?i(o):n(u);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Fe.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Ko(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ko.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Ko.prototype.reset=function(){this.attempts=0};Ko.prototype.setMin=function(t){this.ms=t};Ko.prototype.setMax=function(t){this.max=t};Ko.prototype.setJitter=function(t){this.jitter=t};class Vb extends Pt{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Wh(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ko({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||kre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mre(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=vn(r,"open",function(){n.onopen(),e&&e()}),a=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},o=vn(r,"error",a);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vn(e,"ping",this.onping.bind(this)),vn(e,"data",this.ondata.bind(this)),vn(e,"error",this.onerror.bind(this)),vn(e,"close",this.onclose.bind(this)),vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){zh(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new p5(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ql={};function Kd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=pre(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=ql[i]&&a in ql[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let d;return u?d=new Vb(n,e):(ql[i]||(ql[i]=new Vb(n,e)),d=ql[i]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(Kd,{Manager:Vb,Socket:p5,io:Kd,connect:Kd});class Ore{constructor(e={}){ft(this,"socket",null);ft(this,"config");ft(this,"messageHandlers",new Map);ft(this,"reconnectAttempts",0);ft(this,"isConnecting",!1);this.config={url:"http://localhost:3001",reconnectInterval:5e3,heartbeatInterval:3e4,maxReconnectAttempts:5,...e}}connect(e){return new Promise((r,n)=>{var i;if((i=this.socket)!=null&&i.connected){r();return}if(this.isConnecting){n(new Error("Connection already in progress"));return}this.isConnecting=!0;try{this.socket=Kd(this.config.url,{transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:this.config.maxReconnectAttempts,reconnectionDelay:this.config.reconnectInterval}),this.socket.on("connect",()=>{console.log("WebSocket connected"),this.isConnecting=!1,this.reconnectAttempts=0,e&&this.socket.emit("user:register",{userId:e}),r()}),this.socket.on("disconnect",a=>{console.log("WebSocket disconnected:",a),this.isConnecting=!1}),this.socket.on("connect_error",a=>{console.error("WebSocket connection error:",a),this.isConnecting=!1,n(a)}),this.socket.on("error",a=>{console.error("WebSocket error:",a)}),this.setupMessageHandlers()}catch(a){this.isConnecting=!1,n(a)}})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.isConnecting=!1}setupMessageHandlers(){this.socket&&(this.socket.on("connection:confirmed",e=>{this.handleMessage("connection:confirmed",e)}),this.socket.on("location:updated",e=>{this.handleMessage("location:updated",e)}),this.socket.on("emergency:received",e=>{this.handleMessage("emergency:received",e)}),this.socket.on("emergency:confirmed",e=>{this.handleMessage("emergency:confirmed",e)}),this.socket.on("safety:alert",e=>{this.handleMessage("safety:alert",e)}),this.socket.on("safety:zone_warning",e=>{this.handleMessage("safety:zone_warning",e)}),this.socket.on("buddy:invitation",e=>{this.handleMessage("buddy:invitation",e)}),this.socket.on("buddy:response_received",e=>{this.handleMessage("buddy:response_received",e)}),this.socket.on("buddy:request_sent",e=>{this.handleMessage("buddy:request_sent",e)}),this.socket.on("buddy:user_offline",e=>{this.handleMessage("buddy:user_offline",e)}),this.socket.on("user:offline",e=>{this.handleMessage("user:offline",e)}),this.socket.on("pong",e=>{this.handleMessage("pong",e)}))}handleMessage(e,r){const n=this.messageHandlers.get(e);n&&n(r)}sendLocationUpdate(e){var r;(r=this.socket)!=null&&r.connected&&this.socket.emit("location:update",e)}sendEmergencyAlert(e){var r;(r=this.socket)!=null&&r.connected&&this.socket.emit("emergency:alert",e)}sendBuddyRequest(e){var r;(r=this.socket)!=null&&r.connected&&this.socket.emit("buddy:request",e)}respondToBuddyRequest(e){var r;(r=this.socket)!=null&&r.connected&&this.socket.emit("buddy:response",e)}sendSafetyNotification(e){var r;(r=this.socket)!=null&&r.connected&&this.socket.emit("safety:notification",e)}sendHeartbeat(){var e;(e=this.socket)!=null&&e.connected&&this.socket.emit("ping")}addMessageHandler(e,r){this.messageHandlers.set(e,r)}removeMessageHandler(e){this.messageHandlers.delete(e)}isConnected(){var e;return((e=this.socket)==null?void 0:e.connected)||!1}getConnectionStatus(){return this.socket?this.isConnecting?"connecting":this.socket.connected?"connected":"disconnected":"disconnected"}}function g5(t={},e){const[r,n]=P.useState("disconnected"),[i,a]=P.useState(null),[o]=P.useState(()=>new Ore(t));return P.useEffect(()=>{(async()=>{try{await o.connect(e),n("connected")}catch(m){console.error("Failed to connect WebSocket:",m),n("error")}})();const d=m=>g=>{a({type:m,data:g,timestamp:new Date().toISOString()})},f=["connection:confirmed","location:updated","emergency:received","emergency:confirmed","safety:alert","safety:zone_warning","buddy:invitation","buddy:response_received","buddy:request_sent","buddy:user_offline","user:offline","pong"];f.forEach(m=>{o.addMessageHandler(m,d(m))});const p=setInterval(()=>{n(o.getConnectionStatus())},1e3);return()=>{clearInterval(p),f.forEach(m=>{o.removeMessageHandler(m)}),o.disconnect()}},[o,e]),{service:o,connectionStatus:r,lastMessage:i,isConnected:r==="connected"}}const Ere=()=>{const[t,e]=P.useState(null),[r,n]=P.useState({overall:85,lighting:90,crowdDensity:80,crimeRate:85,emergencyAccess:95}),[i,a]=P.useState(!1),[o,u]=P.useState(!1),[d,f]=P.useState([{id:"1",type:"medium_risk",message:"",location:"",timestamp:"2024-01-15 18:30"},{id:"2",type:"low_risk",message:"",location:"",timestamp:"2024-01-15 18:25"}]),p=async()=>{u(!0),await new Promise(S=>setTimeout(S,1e3)),a(!i),u(!1)},{isConnected:m}=g5();P.useEffect(()=>{if(i){const S=setInterval(()=>{g()},5e3);return()=>clearInterval(S)}},[i]);const g=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(S=>{const{latitude:N,longitude:_}=S.coords;e({lng:_,lat:N,address:"",timestamp:new Date().toISOString()}),n(E=>({...E,overall:Math.floor(Math.random()*20)+80,lighting:Math.floor(Math.random()*20)+80,crowdDensity:Math.floor(Math.random()*30)+70,crimeRate:Math.floor(Math.random()*25)+75,emergencyAccess:Math.floor(Math.random()*15)+85}))},S=>{console.error(":",S)})},v=S=>S>=80?"text-green-600":S>=60?"text-yellow-600":"text-red-600",w=S=>S>=80?"bg-green-100":S>=60?"bg-yellow-100":"bg-red-100",x=S=>{switch(S){case"high_risk":return"border-red-500 bg-red-50";case"medium_risk":return"border-yellow-500 bg-yellow-50";case"low_risk":return"border-blue-500 bg-blue-50";default:return"border-gray-500 bg-gray-50"}},b=S=>{switch(S){case"high_risk":return s.jsx(We,{className:"w-5 h-5 text-red-500"});case"medium_risk":return s.jsx(We,{className:"w-5 h-5 text-yellow-500"});case"low_risk":return s.jsx(We,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(We,{className:"w-5 h-5 text-gray-500"})}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"mb-6 flex items-center justify-center",children:s.jsxs("div",{className:`flex items-center px-4 py-2 rounded-full ${m?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${m?"bg-green-500":"bg-red-500"}`}),m?"":""]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(Ue,{className:"w-5 h-5 mr-2 text-blue-600"}),""]}),s.jsx("button",{onClick:p,disabled:o,className:`px-4 py-2 rounded-lg font-medium transition-colors ${i?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${o?"opacity-50 cursor-not-allowed":""}`,children:o?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),i?"...":"..."]}):i?"":""})]}),t?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ue,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:t.address})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(jt,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[": ",new Date(t.timestamp).toLocaleString()]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[": ",t.lat.toFixed(6),", ",t.lng.toFixed(6)]})]}):s.jsx("div",{className:"text-gray-500 text-center py-8",children:i?"...":""})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(lt,{className:"w-5 h-5 mr-2 text-green-600"}),""]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-4xl font-bold mb-2 ${v(r.overall)}`,children:r.overall}),s.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${w(r.overall)} ${v(r.overall)}`,children:r.overall>=80?"":r.overall>=60?"":""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:""}),s.jsx(Ys,{className:"w-4 h-4 text-gray-400"})]}),s.jsx("div",{className:`text-2xl font-bold ${v(r.lighting)}`,children:r.lighting})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:""}),s.jsx(Qt,{className:"w-4 h-4 text-gray-400"})]}),s.jsx("div",{className:`text-2xl font-bold ${v(r.crowdDensity)}`,children:r.crowdDensity})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:""}),s.jsx(lt,{className:"w-4 h-4 text-gray-400"})]}),s.jsx("div",{className:`text-2xl font-bold ${v(r.crimeRate)}`,children:r.crimeRate})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:""}),s.jsx(We,{className:"w-4 h-4 text-gray-400"})]}),s.jsx("div",{className:`text-2xl font-bold ${v(r.emergencyAccess)}`,children:r.emergencyAccess})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(We,{className:"w-5 h-5 mr-2 text-orange-600"}),""]}),s.jsx("div",{className:"space-y-3",children:d.map(S=>s.jsx("div",{className:`border-l-4 p-4 rounded-r-lg ${x(S.type)}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:b(S.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-800",children:S.message}),s.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[s.jsx(Ue,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"mr-4",children:S.location}),s.jsx(jt,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:S.timestamp})]})]})]})},S.id))})]})]})})},y5=({className:t=""})=>{var v,w,x,b,S,N;const{user:e}=Nn(),[r,n]=P.useState("chat"),[i,a]=P.useState(null),[o,u]=P.useState(!1),d=[{id:"buddy-system",name:"",description:"",category:"prevention",isActive:!0,aiEnhanced:!0,settings:{autoMatch:!0,maxDistance:2}},{id:"safe-routes",name:"",description:"AI",category:"prevention",isActive:!0,aiEnhanced:!0,settings:{preferWellLit:!0,avoidIsolated:!0}},{id:"emergency-contacts",name:"",description:"",category:"response",isActive:!0,aiEnhanced:!1,settings:{autoShare:!0,callDelay:30}},{id:"safety-check-in",name:"",description:"AI",category:"detection",isActive:!1,aiEnhanced:!0,settings:{checkInterval:10,autoAlert:!0}},{id:"harassment-report",name:"",description:"",category:"support",isActive:!0,aiEnhanced:!0,settings:{anonymous:!0,shareLocation:!0}},{id:"confidence-building",name:"",description:"AI",category:"support",isActive:!0,aiEnhanced:!0,settings:{dailyTips:!0,skillAssessment:!0}}];P.useEffect(()=>{e&&f()},[e]);const f=async()=>{if(e)try{u(!0);const _=await qt.getSafetyProfile(e.id);a(_)}catch(_){console.error(":",_)}finally{u(!1)}},p=async _=>{if(e)try{u(!0);const E=await qt.updateSafetyProfile(e.id,_);a(E)}catch(E){console.error(":",E)}finally{u(!1)}},m=_=>{switch(_){case"prevention":return s.jsx(lt,{className:"w-5 h-5 text-green-600"});case"detection":return s.jsx(We,{className:"w-5 h-5 text-yellow-600"});case"response":return s.jsx(tn,{className:"w-5 h-5 text-red-600"});case"support":return s.jsx(Qt,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(wr,{className:"w-5 h-5 text-gray-600"})}},g=_=>{switch(_){case"prevention":return"bg-green-50 border-green-200";case"detection":return"bg-yellow-50 border-yellow-200";case"response":return"bg-red-50 border-red-200";case"support":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-200"}};return e?s.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${t}`,children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:s.jsx(tn,{className:"w-6 h-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})}),s.jsxs("div",{className:"flex space-x-8 px-6",children:[s.jsx("button",{onClick:()=>n("chat"),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${r==="chat"?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"AI"})]})}),s.jsx("button",{onClick:()=>n("features"),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${r==="features"?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})}),s.jsx("button",{onClick:()=>n("profile"),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${r==="profile"?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ih,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})})]})]}),s.jsxs("div",{className:"p-6",children:[r==="chat"&&s.jsx("div",{className:"h-96",children:s.jsx(Ho,{conversationType:"women_safety",provider:"kimi",context:{userContext:{gender:"female",preferences:i==null?void 0:i.preferences},safetyContext:{emergencyContacts:i==null?void 0:i.emergencyContacts}},className:"h-full"})}),r==="features"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(_=>s.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${g(_.category)} ${_.isActive?"ring-2 ring-pink-200":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[m(_.category),s.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),_.aiEnhanced&&s.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full",children:"AI"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_.isActive,onChange:()=>{console.log(`: ${_.name}`)},className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-600"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),_.isActive&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:""})]}),_.category==="prevention"&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ue,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}),_.category==="detection"&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(jt,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})]})})]},_.id))}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:""}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(_=>_.category==="prevention"&&_.isActive).length}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.filter(_=>_.category==="detection"&&_.isActive).length}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.filter(_=>_.category==="response"&&_.isActive).length}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.filter(_=>_.category==="support"&&_.isActive).length}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})]}),r==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{value:(i==null?void 0:i.gender)||"female",onChange:_=>p({gender:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500",children:[s.jsx("option",{value:"female",children:""}),s.jsx("option",{value:"other",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{value:((v=i==null?void 0:i.preferences)==null?void 0:v.safetyLevel)||"high",onChange:_=>p({preferences:{...i==null?void 0:i.preferences,safetyLevel:_.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500",children:[s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"medium",children:""}),s.jsx("option",{value:"low",children:""})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:""}),s.jsxs("div",{className:"space-y-3",children:[((w=i==null?void 0:i.emergencyContacts)==null?void 0:w.map((_,E)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:_.name}),s.jsx("div",{className:"text-sm text-gray-600",children:_.phone}),s.jsx("div",{className:"text-xs text-gray-500",children:_.relationship})]}),s.jsx("button",{className:"text-red-600 hover:text-red-700",children:""})]},E)))||s.jsx("div",{className:"text-center text-gray-500 py-4",children:""}),s.jsx("button",{className:"w-full py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-pink-300 hover:text-pink-600 transition-colors",children:"+ "})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:""}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:((x=i==null?void 0:i.safetySettings)==null?void 0:x.nightRunning)||!1,onChange:_=>p({safetySettings:{...i==null?void 0:i.safetySettings,nightRunning:_.target.checked}}),className:"w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("span",{className:"text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:((b=i==null?void 0:i.safetySettings)==null?void 0:b.buddySystem)||!1,onChange:_=>p({safetySettings:{...i==null?void 0:i.safetySettings,buddySystem:_.target.checked}}),className:"w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("span",{className:"text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:((S=i==null?void 0:i.safetySettings)==null?void 0:S.emergencyAutoCall)||!1,onChange:_=>p({safetySettings:{...i==null?void 0:i.safetySettings,emergencyAutoCall:_.target.checked}}),className:"w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("span",{className:"text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:((N=i==null?void 0:i.safetySettings)==null?void 0:N.shareLocation)||!1,onChange:_=>p({safetySettings:{...i==null?void 0:i.safetySettings,shareLocation:_.target.checked}}),className:"w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("span",{className:"text-gray-700",children:""})]})]})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:""})},v5=({className:t="",onEmergencyTriggered:e})=>{var R,$;const{user:r}=Nn(),[n,i]=P.useState(!1),[a,o]=P.useState(0),[u,d]=P.useState(null),[f,p]=P.useState(null),[m,g]=P.useState(!0),[v,w]=P.useState(null),x=P.useRef(null),b=P.useRef(null),S=[{id:"medical",name:"",description:"",color:"bg-red-500",icon:s.jsx(tn,{className:"w-6 h-6"}),priority:"critical",autoCall:!0},{id:"harassment",name:"",description:"",color:"bg-orange-500",icon:s.jsx(lt,{className:"w-6 h-6"}),priority:"high",autoCall:!1},{id:"lost",name:"",description:"",color:"bg-yellow-500",icon:s.jsx(Zs,{className:"w-6 h-6"}),priority:"medium",autoCall:!1},{id:"accident",name:"",description:"",color:"bg-purple-500",icon:s.jsx($n,{className:"w-6 h-6"}),priority:"high",autoCall:!0}];P.useEffect(()=>{r&&(N(),_())},[r]),P.useEffect(()=>(n&&a>0?x.current=setTimeout(()=>{o(a-1)},1e3):n&&a===0&&O(),()=>{x.current&&clearTimeout(x.current)}),[n,a]);const N=async()=>{if(r)try{const I=await qt.getSafetyProfile(r.id);p(I)}catch(I){console.error(":",I)}},_=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(I=>{d({lat:I.coords.latitude,lng:I.coords.longitude})},I=>{console.error(":",I)})},E=I=>{w(I),i(!0),o(10),m&&b.current&&b.current.play().catch(console.error)},A=()=>{i(!1),o(0),w(null),x.current&&clearTimeout(x.current),b.current&&(b.current.pause(),b.current.currentTime=0)},O=async()=>{if(!r||!v)return;const I=S.find(z=>z.id===v);if(!I)return;const M={id:`emergency_${Date.now()}`,userId:r.id,alertType:"manual",severity:I.priority==="critical"?"critical":I.priority==="high"?"high":"medium",location:{latitude:u.lat,longitude:u.lng,address:""},timestamp:new Date,status:"active",description:`${I.name}`};try{await qt.handleEmergency(r.id,{latitude:u.lat,longitude:u.lng,address:""},`${I.name}: ${I.description}`,"manual"),e==null||e(M),i(!1),o(0),w(null),window.alert("")}catch(z){console.error(":",z),window.alert("")}},T=()=>{window.open("tel:110","_self")};return r?s.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${t}`,children:[s.jsx("audio",{ref:b,loop:!0,preload:"auto",className:"hidden",children:s.jsx("source",{src:"/emergency-alert.mp3",type:"audio/mpeg"})}),n&&s.jsx("div",{className:"fixed inset-0 bg-red-600 bg-opacity-95 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(We,{className:"w-24 h-24 mx-auto mb-4 animate-pulse"}),s.jsx("h2",{className:"text-4xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-xl",children:(R=S.find(I=>I.id===v))==null?void 0:R.name})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-6xl font-bold mb-2",children:a}),s.jsx("p",{className:"text-lg",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:O,className:"w-full py-4 px-8 bg-white text-red-600 rounded-lg font-bold text-xl hover:bg-gray-100 transition-colors",children:""}),s.jsx("button",{onClick:A,className:"w-full py-3 px-8 border-2 border-white text-white rounded-lg font-semibold hover:bg-white hover:text-red-600 transition-colors",children:""})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(We,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"24"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>g(!m),className:`p-2 rounded-lg transition-colors ${m?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:m?s.jsx(vD,{className:"w-5 h-5"}):s.jsx(bD,{className:"w-5 h-5"})})})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:""}),s.jsx("p",{className:"text-sm text-red-700",children:""})]}),s.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:[s.jsx(en,{className:"w-5 h-5"}),s.jsx("span",{children:"110"})]})]})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.map(I=>s.jsx("button",{onClick:()=>E(I.id),className:"p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 transition-all text-left group hover:shadow-md",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${I.color} text-white group-hover:scale-110 transition-transform`,children:I.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:I.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:I.description}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-white ${I.priority==="critical"?"bg-red-500":I.priority==="high"?"bg-orange-500":"bg-yellow-500"}`,children:I.priority==="critical"?"":I.priority==="high"?"":""}),I.autoCall&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:""})]})]})]})},I.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ue,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:""})]}),s.jsx("div",{className:"text-sm text-gray-600",children:u?"":"..."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Qt,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:""})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[(($=f==null?void 0:f.emergencyContacts)==null?void 0:$.length)||0," "]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(jt,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:""})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"< 30"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[s.jsx(Qs,{className:"w-5 h-5"}),s.jsx("span",{children:"AI"})]}),s.jsx("div",{className:"h-64 border border-gray-200 rounded-lg",children:s.jsx(Ho,{conversationType:"emergency",provider:"deepseek",context:{userContext:{location:u,emergencyContacts:f==null?void 0:f.emergencyContacts},safetyContext:{isEmergency:!0,emergencyTypes:S.map(I=>I.id)}},className:"h-full"})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:""}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" 110120119"}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" AI"})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"AI"})},x5=({className:t="",analysisType:e="comprehensive",data:r})=>{var _,E,A,O,T,R,$;const{user:n}=Nn(),[i,a]=P.useState(null),[o,u]=P.useState(null),[d,f]=P.useState(!1),[p,m]=P.useState("week"),[g,v]=P.useState("overview");P.useEffect(()=>{n&&(w(),x())},[n,e,p]);const w=async()=>{if(n)try{f(!0);const I=await qt.performSafetyAnalysis(n.id,{type:e,timeRange:p,includeRecommendations:!0,data:r});a(I)}catch(I){console.error(":",I)}finally{f(!1)}},x=async()=>{if(n)try{const I=await qt.getConversationStats(n.id);u(I)}catch(I){console.error(":",I)}},b=I=>{switch(I){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},S=I=>{switch(I){case"low":return"";case"medium":return"";case"high":return"";default:return""}},N=I=>I>=80?"text-green-600":I>=60?"text-yellow-600":"text-red-600";return n?s.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${t}`,children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Zr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("select",{value:p,onChange:I=>m(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"week",children:""}),s.jsx("option",{value:"month",children:""}),s.jsx("option",{value:"quarter",children:""})]}),s.jsxs("button",{onClick:w,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[s.jsx(NN,{className:`w-4 h-4 ${d?"animate-spin":""}`}),s.jsx("span",{children:""})]})]})]}),s.jsx("div",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"",icon:s.jsx(Zr,{className:"w-4 h-4"})},{id:"details",name:"",icon:s.jsx(Rn,{className:"w-4 h-4"})},{id:"trends",name:"",icon:s.jsx(wn,{className:"w-4 h-4"})},{id:"recommendations",name:"",icon:s.jsx($n,{className:"w-4 h-4"})}].map(I=>s.jsx("button",{onClick:()=>v(I.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${g===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[I.icon,s.jsx("span",{children:I.name})]})},I.id))})]}),s.jsx("div",{className:"p-6",children:d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(NN,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):s.jsxs(s.Fragment,{children:[g==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"AI"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-4xl font-bold mb-2 ${N((i==null?void 0:i.overallScore)||0)}`,children:(i==null?void 0:i.overallScore)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:""}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${(i==null?void 0:i.overallScore)||0}%`}})})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${b((i==null?void 0:i.riskLevel)||"low")}`,children:S((i==null?void 0:i.riskLevel)||"low")}),s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:(i==null?void 0:i.improvements)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Jr,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:((_=i==null?void 0:i.metrics)==null?void 0:_.safeRoutes)||0})]}),s.jsx("h4",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(We,{className:"w-5 h-5 text-yellow-600"})}),s.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:((E=i==null?void 0:i.metrics)==null?void 0:E.riskAreas)||0})]}),s.jsx("h4",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Qt,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(o==null?void 0:o.totalConversations)||0})]}),s.jsx("h4",{className:"font-medium text-gray-900",children:"AI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(jt,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[((A=i==null?void 0:i.metrics)==null?void 0:A.avgResponseTime)||0,"s"]})]}),s.jsx("h4",{className:"font-medium text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),s.jsx("div",{className:"space-y-3",children:((O=i==null?void 0:i.recentActivities)==null?void 0:O.map((I,M)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg",children:[s.jsx("div",{className:`p-2 rounded-lg ${I.type==="safe"?"bg-green-100":I.type==="warning"?"bg-yellow-100":"bg-red-100"}`,children:I.type==="safe"?s.jsx(Jr,{className:`w-4 h-4 ${I.type==="safe"?"text-green-600":I.type==="warning"?"text-yellow-600":"text-red-600"}`}):I.type==="warning"?s.jsx(We,{className:"w-4 h-4 text-yellow-600"}):s.jsx(ac,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:I.title}),s.jsx("div",{className:"text-sm text-gray-600",children:I.description})]}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(I.timestamp).toLocaleDateString()})]},M)))||s.jsx("div",{className:"text-center text-gray-500 py-4",children:""})})]})]}),g==="details"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(Ue,{className:"w-5 h-5"}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"space-y-3",children:((T=i==null?void 0:i.routeAnalysis)==null?void 0:T.map((I,M)=>s.jsxs("div",{className:"p-3 bg-white rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:I.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(I.riskLevel)}`,children:S(I.riskLevel)})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:I.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.jsxs("span",{children:[": ",I.distance,"km"]}),s.jsxs("span",{children:[": ",I.safetyScore,"/100"]}),s.jsxs("span",{children:[": ",I.usageCount]})]})]},M)))||s.jsx("div",{className:"text-center text-gray-500 py-4",children:""})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(wn,{className:"w-5 h-5"}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"space-y-3",children:((R=i==null?void 0:i.behaviorPatterns)==null?void 0:R.map((I,M)=>s.jsxs("div",{className:"p-3 bg-white rounded-lg",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-1",children:I.pattern}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:I.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:[": ",I.frequency]}),s.jsx("span",{className:`px-2 py-1 rounded-full font-medium ${I.impact==="positive"?"bg-green-100 text-green-700":I.impact==="negative"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:I.impact==="positive"?"":I.impact==="negative"?"":""})]})]},M)))||s.jsx("div",{className:"text-center text-gray-500 py-4",children:""})})]})]})}),g==="trends"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zr,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),s.jsx("p",{children:"..."}),s.jsx("p",{className:"text-sm",children:""})]})})]})}),g==="recommendations"&&s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:(($=i==null?void 0:i.recommendations)==null?void 0:$.map((I,M)=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${I.priority==="high"?"bg-red-100":I.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:s.jsx($n,{className:`w-5 h-5 ${I.priority==="high"?"text-red-600":I.priority==="medium"?"text-yellow-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:I.title}),s.jsx("p",{className:"text-gray-600 mb-3",children:I.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.priority==="high"?"bg-red-100 text-red-700":I.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:I.priority==="high"?"":I.priority==="medium"?"":""}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:""})]})]})]})},M)))||s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx($n,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),s.jsx("p",{children:""}),s.jsx("p",{className:"text-sm",children:"AI"})]})})})]})}),s.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[": ",i!=null&&i.lastUpdated?new Date(i.lastUpdated).toLocaleString():""]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx(PT,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:""})},Pre=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(new Date().toISOString().split("T")[0]),[i,a]=P.useState([{hour:6,safetyScore:92,riskLevel:"low",description:""},{hour:7,safetyScore:95,riskLevel:"low",description:""},{hour:8,safetyScore:88,riskLevel:"low",description:""},{hour:18,safetyScore:85,riskLevel:"low",description:""},{hour:19,safetyScore:78,riskLevel:"medium",description:""},{hour:20,safetyScore:72,riskLevel:"medium",description:""},{hour:21,safetyScore:65,riskLevel:"medium",description:""},{hour:22,safetyScore:58,riskLevel:"high",description:""}]),[o,u]=P.useState([{date:"2024-01-14",averageScore:82,incidents:0,weather:""},{date:"2024-01-13",averageScore:78,incidents:1,weather:""},{date:"2024-01-12",averageScore:85,incidents:0,weather:""},{date:"2024-01-11",averageScore:75,incidents:2,weather:""},{date:"2024-01-10",averageScore:88,incidents:0,weather:""}]),[d,f]=P.useState([{routeId:"1",name:"",distance:3.2,safetyScore:92,estimatedTime:25,riskFactors:[""],recommendations:["",""]},{routeId:"2",name:"",distance:2.8,safetyScore:88,estimatedTime:22,riskFactors:["",""],recommendations:["",""]},{routeId:"3",name:"",distance:5,safetyScore:85,estimatedTime:40,riskFactors:["",""],recommendations:["",""]}]),[p,m]=P.useState(!1),g=b=>{e(b),m(!0),setTimeout(()=>{m(!1)},1e3)},v=b=>{switch(b){case"low":return"bg-green-100 border-green-300 text-green-800";case"medium":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"high":return"bg-red-100 border-red-300 text-red-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},w=b=>b>=80?"text-green-600":b>=60?"text-yellow-600":"text-red-600",x=b=>`${b.toString().padStart(2,"0")}:00`;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(nh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:t,onChange:b=>g(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"date",value:r,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center",children:[s.jsx(Qb,{className:"w-4 h-4 mr-2"}),""]})})]})}),p?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx(jt,{className:"w-5 h-5 mr-2 text-purple-600"}),""]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map(b=>s.jsxs("div",{className:`border-2 rounded-lg p-4 ${v(b.riskLevel)}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:x(b.hour)}),s.jsx("span",{className:`text-lg font-bold ${w(b.safetyScore)}`,children:b.safetyScore})]}),s.jsx("p",{className:"text-sm",children:b.description})]},b.hour))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx(wn,{className:"w-5 h-5 mr-2 text-blue-600"}),""]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:""}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:""}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:""}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:""})]})}),s.jsx("tbody",{children:o.map((b,S)=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:b.date}),s.jsx("td",{className:`py-3 px-4 font-semibold ${w(b.averageScore)}`,children:b.averageScore}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.incidents===0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[b.incidents," "]})}),s.jsx("td",{className:"py-3 px-4",children:b.weather})]},S))})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx(Zr,{className:"w-5 h-5 mr-2 text-green-600"}),""]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:d.map(b=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:b.name}),s.jsx("span",{className:`text-lg font-bold ${w(b.safetyScore)}`,children:b.safetyScore})]}),s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[b.distance," km"]}),s.jsx(jt,{className:"w-4 h-4 ml-4 mr-1"}),s.jsxs("span",{children:[b.estimatedTime," "]})]})}),s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:":"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:b.riskFactors.map((S,N)=>s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:S},N))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:":"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:b.recommendations.map((S,N)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:S},N))})]})]},b.routeId))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[s.jsx(ri,{className:"w-5 h-5 mr-2 text-purple-600"}),"AI"]}),s.jsx(x5,{})]})]})]})})},Tre=()=>{const[t,e]=P.useState(["buddy-system","safe-zones"]),[r,n]=P.useState("features"),i=[{id:"buddy-system",title:"",description:"",icon:s.jsx(Qt,{className:"w-6 h-6"}),isActive:t.includes("buddy-system")},{id:"safe-zones",title:"",description:"",icon:s.jsx(lt,{className:"w-6 h-6"}),isActive:t.includes("safe-zones")},{id:"emergency-contacts",title:"",description:"",icon:s.jsx(en,{className:"w-6 h-6"}),isActive:t.includes("emergency-contacts")},{id:"real-time-tracking",title:"",description:"",icon:s.jsx(Ue,{className:"w-6 h-6"}),isActive:t.includes("real-time-tracking")}],a=[{id:"1",name:"",address:"1001",distance:.8,safetyRating:95,features:["24","","",""],openHours:"05:00-22:00"},{id:"2",name:"",address:"128",distance:1.2,safetyRating:92,features:["","","",""],openHours:"06:00-21:00"},{id:"3",name:"",address:"",distance:2.1,safetyRating:88,features:["","","",""],openHours:""}],o=[{id:"1",name:"",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young_asian_woman_runner_profile_photo_friendly_smile&image_size=square",rating:4.9,distance:.5,preferredTime:"07:00-08:00",isOnline:!0,verificationStatus:"verified"},{id:"2",name:"",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=asian_woman_runner_profile_athletic_confident&image_size=square",rating:4.8,distance:.8,preferredTime:"18:30-19:30",isOnline:!0,verificationStatus:"verified"},{id:"3",name:"",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young_woman_runner_profile_sporty_cheerful&image_size=square",rating:4.7,distance:1.2,preferredTime:"06:30-07:30",isOnline:!1,verificationStatus:"verified"}],u=[{id:"1",category:"",title:"",content:"",priority:"high"},{id:"2",category:"",title:"",content:"",priority:"high"},{id:"3",category:"",title:"",content:"",priority:"medium"},{id:"4",category:"",title:"",content:"",priority:"medium"}],d=m=>{e(g=>g.includes(m)?g.filter(v=>v!==m):[...g,m])},f=m=>{switch(m){case"verified":return s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})});case"pending":return s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"});default:return s.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full"})}},p=m=>{switch(m){case"high":return"border-red-300 bg-red-50";case"medium":return"border-yellow-300 bg-yellow-50";case"low":return"border-blue-300 bg-blue-50";default:return"border-gray-300 bg-gray-50"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-100 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center justify-center",children:[s.jsx(tn,{className:"w-8 h-8 mr-3 text-pink-600"}),""]}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:s.jsx("div",{className:"flex border-b border-gray-200",children:[{key:"features",label:"",icon:lt},{key:"zones",label:"",icon:Ue},{key:"buddies",label:"",icon:Qt},{key:"tips",label:"",icon:Js},{key:"ai-advisor",label:"AI",icon:ri}].map(({key:m,label:g,icon:v})=>s.jsxs("button",{onClick:()=>n(m),className:`flex-1 flex items-center justify-center py-4 px-6 font-medium transition-colors ${r===m?"text-pink-600 border-b-2 border-pink-600 bg-pink-50":"text-gray-600 hover:text-pink-600 hover:bg-pink-50"}`,children:[s.jsx(v,{className:"w-5 h-5 mr-2"}),g]},m))})}),r==="features"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(m=>s.jsx("div",{className:`bg-white rounded-xl shadow-lg p-6 border-2 transition-all cursor-pointer ${m.isActive?"border-pink-300 bg-pink-50":"border-gray-200 hover:border-pink-200"}`,onClick:()=>d(m.id),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`p-3 rounded-lg mr-4 ${m.isActive?"bg-pink-200 text-pink-700":"bg-gray-100 text-gray-600"}`,children:m.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:m.title}),s.jsx("p",{className:"text-gray-600 mb-3",children:m.description}),s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m.isActive?"bg-pink-200 text-pink-800":"bg-gray-200 text-gray-700"}`,children:m.isActive?"":""})]})]})},m.id))}),r==="zones"&&s.jsx("div",{className:"space-y-6",children:a.map(m=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:m.name}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"mr-4",children:m.address}),s.jsxs("span",{className:"text-sm",children:[" ",m.distance," km"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jt,{className:"w-4 h-4 mr-1 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:m.openHours})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:m.safetyRating}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.features.map((g,v)=>s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full",children:g},v))})]},m.id))}),r==="buddies"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(m=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:m.avatar,alt:m.name,className:"w-12 h-12 rounded-full object-cover mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mr-2",children:m.name}),f(m.verificationStatus)]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(wr,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:m.rating})]})]}),s.jsx("div",{className:`w-3 h-3 rounded-full ${m.isOnline?"bg-green-500":"bg-gray-300"}`})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[" ",m.distance," km"]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(jt,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[": ",m.preferredTime]})]})]}),s.jsx("button",{className:"w-full bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:""})]},m.id))}),r==="tips"&&s.jsx("div",{className:"space-y-6",children:u.map(m=>s.jsx("div",{className:`border-l-4 p-6 rounded-r-xl ${p(m.priority)}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsxs("div",{className:"mr-4",children:[m.priority==="high"&&s.jsx(We,{className:"w-6 h-6 text-red-600"}),m.priority==="medium"&&s.jsx(We,{className:"w-6 h-6 text-yellow-600"}),m.priority==="low"&&s.jsx(We,{className:"w-6 h-6 text-blue-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("span",{className:"px-2 py-1 bg-white rounded-full text-xs font-medium text-gray-700 mr-3",children:m.category}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.priority==="high"?"bg-red-200 text-red-800":m.priority==="medium"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:m.priority==="high"?"":m.priority==="medium"?"":""})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:m.title}),s.jsx("p",{className:"text-gray-700",children:m.content})]})]})},m.id))}),r==="ai-advisor"&&s.jsx("div",{className:"bg-white rounded-xl shadow-lg",children:s.jsx(y5,{})})]})})},Cre=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,u]=P.useState(null),[d,f]=P.useState(0),[p,m]=P.useState(!1),[g,v]=P.useState([{id:"1",name:"",phone:"138****8888",relationship:"",isDefault:!0},{id:"2",name:"",phone:"139****9999",relationship:"",isDefault:!1}]),w=()=>{if(d>0)return;m(!0),f(5);const D=setInterval(()=>{f(q=>q<=1?(clearInterval(D),e(!0),m(!1),0):q-1)},1e3)},x=()=>{f(0),m(!1)},[b,S]=P.useState([{id:"1",type:"suspicious",status:"resolved",timestamp:"2024-01-15 18:30",location:"",description:"",responseTime:5}]),[N,_]=P.useState([{id:"1",type:"police",name:"",distance:.8,phone:"110",estimatedArrival:3},{id:"2",type:"hospital",name:"",distance:1.2,phone:"120",estimatedArrival:5},{id:"3",type:"security",name:"",distance:.3,phone:"021-****-****",estimatedArrival:2}]),{isConnected:E,service:A}=g5(),O=[{id:"sos",label:"SOS",icon:We,color:"bg-red-600",description:""},{id:"medical",label:"",icon:lt,color:"bg-orange-600",description:""},{id:"accident",label:"",icon:We,color:"bg-yellow-600",description:""},{id:"harassment",label:"",icon:Qt,color:"bg-purple-600",description:""},{id:"suspicious",label:"",icon:$n,color:"bg-blue-600",description:""}];P.useEffect(()=>{T()},[]),P.useEffect(()=>{let D;return d>0&&(D=setInterval(()=>{f(q=>q<=1?(R(),0):q-1)},1e3)),()=>clearInterval(D)},[d]);const T=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(D=>{u({lat:D.coords.latitude,lng:D.coords.longitude})},D=>{console.error(":",D)})},R=()=>{if(!o){alert("");return}const D={userId:"current-user",type:r||"sos",lng:(o==null?void 0:o.lng)||0,lat:(o==null?void 0:o.lat)||0,location:{lng:(o==null?void 0:o.lng)||0,lat:(o==null?void 0:o.lat)||0},description:i||"",severity:"high",timestamp:new Date().toISOString()};A.sendEmergencyAlert(D);const q={id:Date.now().toString(),type:D.type,status:"active",timestamp:new Date().toLocaleString(),location:"",description:D.description||""};S(H=>[q,...H]),e(!0),f(0),g.forEach(H=>{console.log(`: ${H.name} (${H.phone})`)})},$=D=>{window.open(`tel:${D}`)},I=D=>{const q=O.find(H=>H.id===D);if(q){const H=q.icon;return s.jsx(H,{className:"w-5 h-5"})}return s.jsx(We,{className:"w-5 h-5"})},M=D=>{const q=O.find(H=>H.id===D);return(q==null?void 0:q.color)||"bg-gray-600"},z=D=>{switch(D){case"active":return"bg-red-100 text-red-800";case"resolved":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},U=D=>{switch(D){case"police":return s.jsx(lt,{className:"w-5 h-5 text-blue-600"});case"hospital":return s.jsx(We,{className:"w-5 h-5 text-red-600"});case"security":return s.jsx(Qt,{className:"w-5 h-5 text-green-600"});case"volunteer":return s.jsx(Qt,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(lt,{className:"w-5 h-5 text-gray-600"})}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center justify-center",children:[s.jsx(We,{className:"w-8 h-8 mr-3 text-red-600"}),""]}),s.jsx("p",{className:"text-gray-600",children:"24"})]}),d>0&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-8 text-center max-w-sm mx-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-red-600 mb-4",children:""}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"text-4xl sm:text-6xl font-bold text-red-600 mb-2",children:d}),s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto border-4 border-red-200 rounded-full relative",children:s.jsx("div",{className:"absolute inset-0 border-4 border-red-600 rounded-full transition-all duration-1000",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+(5-d)*10}% 0%, ${50+(5-d)*10}% 100%, 50% 100%)`}})})]}),s.jsxs("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:[" ",d," "]}),s.jsx("button",{onClick:x,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:""})]})}),t&&s.jsx("div",{className:"bg-red-100 border border-red-300 rounded-xl p-4 mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"w-6 h-6 text-red-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-800",children:""}),s.jsx("p",{className:"text-red-700",children:""})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx($n,{className:"w-5 h-5 mr-2 text-red-600"}),"SOS"]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{onClick:w,disabled:d>0,className:`w-32 h-32 rounded-full text-xl font-bold shadow-lg transition-all transform hover:scale-105 disabled:transform-none ${d>0?"bg-gray-400 cursor-not-allowed":p?"bg-red-700 animate-pulse":"bg-red-600 hover:bg-red-700"} text-white`,children:[s.jsx("div",{className:"text-2xl font-bold",children:"SOS"}),s.jsx("div",{className:"text-sm",children:d>0?`${d}`:""})]}),s.jsx("p",{className:"mt-4 text-gray-600",children:"3"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O.map(D=>{const q=D.icon;return s.jsxs("button",{onClick:()=>n(D.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r===D.id?"border-red-300 bg-red-50":"border-gray-200 hover:border-red-200 hover:bg-red-50"}`,children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:`p-2 rounded-lg mr-3 ${D.color} text-white`,children:s.jsx(q,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-medium text-gray-800",children:D.label})]}),s.jsx("p",{className:"text-sm text-gray-600",children:D.description})]},D.id)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsx("textarea",{value:i,onChange:D=>a(D.target.value),placeholder:"...",className:"w-full h-24 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),s.jsx("button",{onClick:R,disabled:!r,className:"mt-4 w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:""})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"space-y-3",children:b.map(D=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-2 rounded-lg mr-3 ${M(D.type)} text-white`,children:I(D.type)}),s.jsx("span",{className:"font-medium text-gray-800",children:D.description})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(D.status)}`,children:D.status==="active"?"":D.status==="resolved"?"":""})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"mr-4",children:D.location}),s.jsx(jt,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:D.timestamp}),D.responseTime&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:[": ",D.responseTime,""]})]})]})]},D.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(en,{className:"w-5 h-5 mr-2 text-green-600"}),""]}),s.jsx("div",{className:"space-y-3",children:g.map(D=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-800",children:D.name}),s.jsx("div",{className:"text-sm text-gray-600",children:D.relationship})]}),s.jsx("button",{onClick:()=>$(D.phone),className:"bg-green-600 hover:bg-green-700 text-white p-2 rounded-lg transition-colors",children:s.jsx(en,{className:"w-4 h-4"})})]},D.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Ue,{className:"w-5 h-5 mr-2 text-blue-600"}),""]}),s.jsx("div",{className:"space-y-3",children:N.map(D=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[U(D.type),s.jsx("span",{className:"ml-2 font-medium text-gray-800",children:D.name})]}),s.jsx("button",{onClick:()=>$(D.phone),className:"text-blue-600 hover:text-blue-700 transition-colors",children:s.jsx(en,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:[": ",D.distance," km"]}),s.jsxs("div",{children:[": ",D.estimatedArrival," "]})]})]},D.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ri,{className:"w-5 h-5 mr-2 text-red-600"}),"AI"]}),s.jsx(v5,{})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("div",{className:"flex items-center",children:E?s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"w-5 h-5 text-green-600 mr-1"}),s.jsx("span",{className:"text-green-600",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"w-5 h-5 text-red-600 mr-1"}),s.jsx("span",{className:"text-red-600",children:""})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"GPS"}),s.jsx("div",{className:"flex items-center",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"w-5 h-5 text-green-600 mr-1"}),s.jsx("span",{className:"text-green-600",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"w-5 h-5 text-red-600 mr-1"}),s.jsx("span",{className:"text-red-600",children:""})]})})]})]})]})]})]})]})})},Ire=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!1),i=[{name:"SafetyDashboard",path:"/safety",title:""},{name:"SafetyMonitor",path:"/safety/monitor",title:""},{name:"SafetyAssessment",path:"/safety/assessment",title:""},{name:"WomenSafety",path:"/safety/women",title:""},{name:"EmergencyResponse",path:"/safety/emergency",title:""}],a=async()=>{n(!0),e([]);const m=[];for(const g of i)try{await new Promise(v=>setTimeout(v,500)),m.push({name:`${g.name} `,status:"pass",message:`${g.title} `})}catch{m.push({name:`${g.name} `,status:"fail",message:`${g.title} `})}m.push({name:"",status:"pass",message:""}),m.push({name:"",status:"pass",message:""}),m.push({name:"WebSocket ",status:"warning",message:"WebSocket "}),navigator.geolocation?m.push({name:"",status:"pass",message:""}):m.push({name:"",status:"fail",message:""});try{localStorage.setItem("safety_test","test"),localStorage.removeItem("safety_test"),m.push({name:"",status:"pass",message:""})}catch{m.push({name:"",status:"fail",message:""})}m.push({name:"",status:"pass",message:"Lucide React  Tailwind CSS "}),e(m),n(!1)},o=m=>{switch(m){case"pass":return s.jsx(Jr,{className:"w-5 h-5 text-green-600"});case"fail":return s.jsx(ac,{className:"w-5 h-5 text-red-600"});case"warning":return s.jsx(We,{className:"w-5 h-5 text-yellow-600"});default:return s.jsx(We,{className:"w-5 h-5 text-gray-600"})}},u=m=>{switch(m){case"pass":return"bg-green-50 border-green-200";case"fail":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},d=t.filter(m=>m.status==="pass").length,f=t.filter(m=>m.status==="fail").length,p=t.filter(m=>m.status==="warning").length;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center justify-center",children:[s.jsx(lt,{className:"w-8 h-8 mr-3 text-blue-600"}),""]}),s.jsx("p",{className:"text-gray-600",children:""})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(m=>s.jsxs(Vt,{to:m.path,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[s.jsxs("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:[m.name==="SafetyDashboard"&&s.jsx(lt,{className:"w-5 h-5 text-blue-600"}),m.name==="SafetyMonitor"&&s.jsx(Ue,{className:"w-5 h-5 text-blue-600"}),m.name==="SafetyAssessment"&&s.jsx(jt,{className:"w-5 h-5 text-blue-600"}),m.name==="WomenSafety"&&s.jsx(Qt,{className:"w-5 h-5 text-blue-600"}),m.name==="EmergencyResponse"&&s.jsx(en,{className:"w-5 h-5 text-blue-600"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-800",children:m.title}),s.jsx("div",{className:"text-sm text-gray-600",children:m.path})]})]},m.name))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:""}),s.jsx("button",{onClick:a,disabled:r,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:r?"...":""})]}),t.length>0&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d}),s.jsx("div",{className:"text-sm text-green-700",children:""})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p}),s.jsx("div",{className:"text-sm text-yellow-700",children:""})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:f}),s.jsx("div",{className:"text-sm text-red-700",children:""})]})]}),s.jsx("div",{className:"space-y-3",children:t.map((m,g)=>s.jsx("div",{className:`border rounded-lg p-4 ${u(m.status)}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:o(m.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-800",children:m.name}),s.jsx("div",{className:"text-sm text-gray-600",children:m.message})]})]})},g))}),r&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"..."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:""}),s.jsxs("div",{className:"space-y-3 text-gray-600",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:""}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:""}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:""}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"WebSocket "}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:""}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:""}),""]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:""})," UI "]})]})]})]})})},Rre=()=>{var m;const{user:t}=Nn(),[e,r]=P.useState(null),[n,i]=P.useState(null),[a,o]=P.useState(!1);P.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(t)try{o(!0);const[g,v]=await Promise.all([qt.getConversationStats(t.id),qt.getSafetyProfile(t.id)]);r(g),i(v)}catch(g){console.error(":",g)}finally{o(!1)}},d=[{id:"chat",title:"AI",description:"AI",icon:s.jsx(Js,{className:"w-8 h-8"}),color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",link:"/ai/chat",stats:(e==null?void 0:e.totalConversations)||0,statsLabel:""},{id:"women-safety",title:"",description:"",icon:s.jsx(tn,{className:"w-8 h-8"}),color:"bg-pink-500",bgColor:"bg-pink-50",borderColor:"border-pink-200",link:"/ai/women-safety",stats:n!=null&&n.preferences?1:0,statsLabel:""},{id:"emergency",title:"AI",description:"24",icon:s.jsx(We,{className:"w-8 h-8"}),color:"bg-red-500",bgColor:"bg-red-50",borderColor:"border-red-200",link:"/ai/emergency",stats:((m=n==null?void 0:n.emergencyContacts)==null?void 0:m.length)||0,statsLabel:""},{id:"analysis",title:"",description:"AI",icon:s.jsx(Zr,{className:"w-8 h-8"}),color:"bg-purple-500",bgColor:"bg-purple-50",borderColor:"border-purple-200",link:"/ai/analysis",stats:(e==null?void 0:e.averageResponseTime)||0,statsLabel:""}],f=[{title:"",description:"AI",icon:s.jsx(Ua,{className:"w-5 h-5"}),action:()=>window.location.href="/ai/chat",color:"bg-blue-600 hover:bg-blue-700"},{title:"",description:"",icon:s.jsx(lt,{className:"w-5 h-5"}),action:()=>window.location.href="/ai/women-safety",color:"bg-green-600 hover:bg-green-700"},{title:"",description:"",icon:s.jsx(wn,{className:"w-5 h-5"}),action:()=>window.location.href="/ai/analysis",color:"bg-purple-600 hover:bg-purple-700"}],p=[{title:"",description:"AI",isNew:!0},{title:"",description:"",isNew:!0},{title:"",description:"",isNew:!1},{title:"",description:"",isNew:!1}];return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(Fa,{className:"w-12 h-12 mr-3"}),s.jsx("h1",{className:"text-4xl font-bold",children:"AI"})]}),s.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"24"}),s.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:"AI"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:"24"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:""})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f.map((g,v)=>s.jsx("button",{onClick:g.action,className:`p-4 rounded-lg text-white text-left transition-colors ${g.color}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[g.icon,s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:g.title}),s.jsx("p",{className:"text-sm opacity-90",children:g.description})]})]})},v))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"AI"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(g=>s.jsx(Vt,{to:g.link,className:`block p-6 rounded-lg border-2 transition-all hover:shadow-lg hover:scale-105 ${g.bgColor} ${g.borderColor}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${g.color} text-white mb-4`,children:g.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.description}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:g.stats}),s.jsx("span",{className:"text-gray-600",children:g.statsLabel})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-center text-blue-600",children:[s.jsx("span",{className:"text-sm font-medium",children:""}),s.jsx(U6,{className:"w-4 h-4 ml-1"})]})]})},g.id))})]}),e&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.totalConversations}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[e.averageResponseTime,"s"]}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:e.totalMessages}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:e.activeConversations}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((g,v)=>s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:g.isNew?s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}):s.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:g.title}),g.isNew&&s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:""})]}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]})},v))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx($n,{className:"w-5 h-5"}),s.jsx("span",{children:"AI"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"KIMI AI"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"DeepSeek AI"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Fa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"AI"}),s.jsx(Vt,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})})};class fT{static isOnline(){return navigator.onLine}static async checkSupabaseConnection(){try{const e="https://briiusmbfulqxpeqhouy.supabase.co";return!e||e.includes("placeholder")?!1:(await fetch(`${e}/rest/v1/`,{method:"HEAD",headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJyaWl1c21iZnVscXhwZXFob3V5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMzQ4MDgsImV4cCI6MjA3NjYxMDgwOH0.rnn3R7iE06qwwtu_901_6YONZ500bfmusr48N3FcZDQ"}})).ok}catch{return!1}}static async checkAIServiceConnection(){const e={kimi:!1,deepseek:!1};try{const r="your_kimi_api_key";if(r&&!r.includes("placeholder")){const n=await fetch("https://api.moonshot.cn/v1/models",{headers:{Authorization:`Bearer ${r}`}});e.kimi=n.ok}}catch{e.kimi=!1}try{const r="sk-983a0af9652a4f6e9b7c99fc5a95a1a1";if(r&&!r.includes("placeholder")){const n=await fetch("https://api.deepseek.com/models",{headers:{Authorization:`Bearer ${r}`}});e.deepseek=n.ok}}catch{e.deepseek=!1}return e}static async getNetworkStatus(){const e=this.isOnline(),r=await this.checkSupabaseConnection(),n=await this.checkAIServiceConnection();let i="";return e?!r&&!n.kimi&&!n.deepseek?i="":r?!n.kimi&&!n.deepseek?i="AI":i="":i="":i="",{online:e,supabase:r,ai:n,description:i}}static onNetworkChange(e){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}}const br={NETWORK:"network",DATABASE:"database",AI_SERVICE:"ai_service",VALIDATION:"validation",UNKNOWN:"unknown"};class $re{static analyzeError(e){const r=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"";return r.includes("fetch")||r.includes("network")||r.includes("NetworkError")||r.includes("Failed to fetch")||!navigator.onLine?{type:br.NETWORK,message:"",suggestion:""}:r.includes("supabase")||r.includes("database")||r.includes("uuid")||r.includes("PGRST")?{type:br.DATABASE,message:"",suggestion:""}:r.includes("API")||r.includes("kimi")||r.includes("deepseek")||r.includes("AI")?{type:br.AI_SERVICE,message:"AI",suggestion:"AI"}:r.includes("validation")||r.includes("required")||r.includes("invalid")?{type:br.VALIDATION,message:"",suggestion:""}:{type:br.UNKNOWN,message:"",suggestion:""}}}const Mre=({error:t,onClose:e,autoClose:r=!0,autoCloseDelay:n=5e3,showNetworkStatus:i=!1})=>{const[a,o]=P.useState(!1),[u,d]=P.useState(navigator.onLine);P.useEffect(()=>{if(t){if(o(!0),r){const w=setTimeout(()=>{f()},n);return()=>clearTimeout(w)}}else o(!1)},[t,r,n]),P.useEffect(()=>{const w=()=>d(!0),x=()=>d(!1);return window.addEventListener("online",w),window.addEventListener("offline",x),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",x)}},[]);const f=()=>{o(!1),setTimeout(()=>{e()},300)};if(!t)return null;const p=$re.analyzeError({message:t}),m=w=>{switch(w){case br.NETWORK:return s.jsx(SN,{className:"w-4 h-4"});case br.DATABASE:return s.jsx(tx,{className:"w-4 h-4"});case br.AI_SERVICE:return s.jsx(xM,{className:"w-4 h-4"});default:return s.jsx(tx,{className:"w-4 h-4"})}},g=w=>{switch(w){case br.NETWORK:return"bg-orange-50 border-orange-200 text-orange-800";case br.DATABASE:return"bg-yellow-50 border-yellow-200 text-yellow-800";case br.AI_SERVICE:return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-red-50 border-red-200 text-red-800"}},v=w=>{switch(w){case br.NETWORK:return"text-orange-500";case br.DATABASE:return"text-yellow-500";case br.AI_SERVICE:return"text-blue-500";default:return"text-red-500"}};return s.jsx("div",{className:`
        fixed top-4 right-4 z-50 max-w-md w-full
        transform transition-all duration-300 ease-in-out
        ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsx("div",{className:`
        p-4 rounded-lg border shadow-lg
        ${g(p.type)}
      `,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex-shrink-0 ${v(p.type)}`,children:m(p.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium",children:p.message}),s.jsx("p",{className:"text-xs mt-1 opacity-80",children:p.suggestion}),i&&s.jsx("div",{className:"flex items-center space-x-1 mt-2 text-xs opacity-70",children:u?s.jsxs(s.Fragment,{children:[s.jsx(_D,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(SN,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})})]}),s.jsx("button",{onClick:f,className:"flex-shrink-0 ml-2 p-1 rounded-md hover:bg-black hover:bg-opacity-10 transition-colors",children:s.jsx(Vc,{className:"w-3 h-3"})})]})})]})})})},Dre=({message:t,onClose:e,autoClose:r=!0,autoCloseDelay:n=3e3})=>{const[i,a]=P.useState(!1);P.useEffect(()=>{if(t){if(a(!0),r){const u=setTimeout(()=>{o()},n);return()=>clearTimeout(u)}}else a(!1)},[t,r,n]);const o=()=>{a(!1),setTimeout(()=>{e()},300)};return t?s.jsx("div",{className:`
        fixed top-4 right-4 z-50 max-w-md w-full
        transform transition-all duration-300 ease-in-out
        ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsx("div",{className:"p-4 rounded-lg border shadow-lg bg-green-50 border-green-200 text-green-800",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Jr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"text-sm font-medium",children:t}),s.jsx("button",{onClick:o,className:"flex-shrink-0 ml-2 p-1 rounded-md hover:bg-green-200 transition-colors",children:s.jsx(Vc,{className:"w-3 h-3"})})]})})]})})}):null},Lre=()=>{const{user:t}=Nn(),[e,r]=P.useState([]),[n,i]=P.useState(null),[a,o]=P.useState(!1),[u,d]=P.useState(!1),[f,p]=P.useState(null),[m,g]=P.useState(null),[v,w]=P.useState(""),[x,b]=P.useState("all"),[S,N]=P.useState(!0),[_,E]=P.useState(null);P.useEffect(()=>{t&&(O(),A())},[t,x]),P.useEffect(()=>fT.onNetworkChange(H=>{H?(g(""),A()):p("")}),[]),P.useEffect(()=>{p(null),g("")},[]),P.useEffect(()=>{m&&p(null)},[m]);const A=async()=>{try{const q=await fT.getNetworkStatus();E(q)}catch(q){console.error(":",q)}},O=async()=>{if(t)try{o(!0),p(null);const q=await qt.getConversations(t.id,50,0);r(q),!n&&q.length>0&&i(q[0])}catch(q){console.error(":",q),p("");const H=R();r(H)}finally{o(!1)}},T=async()=>{if(t)try{d(!0),p(null);const q=await qt.createConversation(t.id,{conversationType:"general",title:""});r([q,...e]),i(q),g(""),p(null),$(q)}catch(q){console.error(":",q),p("");const H=I(t.id);r([H,...e]),i(H),g(""),$(H)}finally{d(!1)}},R=()=>{try{const q=localStorage.getItem("ai_conversations");return q?JSON.parse(q):[]}catch{return[]}},$=q=>{try{const H=R(),ee=[q,...H.filter(X=>X.id!==q.id)];localStorage.setItem("ai_conversations",JSON.stringify(ee.slice(0,50)))}catch(H){console.error(":",H)}},I=q=>{const H=new Date;return{id:`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:q,title:"",aiProvider:"kimi",conversationType:"general",isEmergency:!1,isActive:!0,createdAt:H,updatedAt:H,messages:[],messageCount:0}},M=async q=>{if(t)try{p(null),await qt.deleteConversation(q);const H=e.filter(X=>X.id!==q);r(H),(n==null?void 0:n.id)===q&&i(H.length>0?H[0]:null),g(""),p(null);const ee=R().filter(X=>X.id!==q);localStorage.setItem("ai_conversations",JSON.stringify(ee))}catch(H){console.error(":",H),p("")}},z=e.filter(q=>{var ee;return q.title.toLowerCase().includes(v.toLowerCase())||((ee=q.lastMessage)==null?void 0:ee.toLowerCase().includes(v.toLowerCase()))}),U=q=>{switch(q){case"general":return"";case"women_safety":return"";case"emergency":return"";case"safety":return"";default:return""}},D=q=>{switch(q){case"general":return"bg-blue-100 text-blue-700";case"women_safety":return"bg-pink-100 text-pink-700";case"emergency":return"bg-red-100 text-red-700";case"safety":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsx(Mre,{error:f,onClose:()=>p(null),showNetworkStatus:!0}),s.jsx(Dre,{message:m,onClose:()=>g(null)}),S&&s.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),s.jsx("button",{onClick:T,disabled:u,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:u?s.jsx(In,{className:"w-4 h-4 animate-spin"}):s.jsx(_N,{className:"w-4 h-4"})})]}),_&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-lg",children:s.jsx("div",{className:"text-xs text-gray-600",children:_.description})}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(nh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"...",value:v,onChange:q=>w(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsxs("select",{value:x,onChange:q=>b(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"general",children:""}),s.jsx("option",{value:"women_safety",children:""}),s.jsx("option",{value:"emergency",children:""}),s.jsx("option",{value:"safety",children:""})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:a?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(In,{className:"w-6 h-6 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"..."})]}):z.length===0?s.jsxs("div",{className:"text-center p-8 text-gray-500",children:[s.jsx(Js,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm",children:""}),s.jsx("p",{className:"text-xs mt-1",children:'"+"'})]}):s.jsx("div",{className:"space-y-1 p-2",children:z.map(q=>s.jsx("div",{onClick:()=>i(q),className:`
                      p-3 rounded-lg cursor-pointer transition-colors group
                      ${(n==null?void 0:n.id)===q.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}
                    `,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:q.title}),s.jsx("span",{className:`
                            px-1.5 py-0.5 text-xs rounded-full
                            ${D(q.conversationType)}
                          `,children:U(q.conversationType)})]}),q.lastMessage&&s.jsx("p",{className:"text-xs text-gray-600 truncate mb-1",children:q.lastMessage}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx(jt,{className:"w-3 h-3"}),s.jsx("span",{children:q.updatedAt.toLocaleDateString()}),s.jsx("span",{children:""}),s.jsxs("span",{children:[q.messageCount||0," "]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:H=>{H.stopPropagation()},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(ZM,{className:"w-3 h-3"})}),s.jsx("button",{onClick:H=>{H.stopPropagation(),M(q.id)},className:"p-1 text-gray-400 hover:text-red-600 rounded",children:s.jsx(dD,{className:"w-3 h-3"})})]})]})},q.id))})})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:n?s.jsx(Ho,{conversation:n,onConversationUpdate:q=>{i(q),r(e.map(H=>H.id===q.id?q:H)),p(null)}}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[s.jsx(ri,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"AI"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"AI"}),s.jsxs("button",{onClick:T,disabled:u,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u?s.jsx(In,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(_N,{className:"w-4 h-4 mr-2"}),""]})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"AI"})]})})},Bre=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-between py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Vt,{to:"/ai",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:s.jsx(tn,{className:"w-6 h-6 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})]})})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(y5,{className:"w-full"})})]}),qre=()=>{const t=e=>{console.log(":",e)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Vt,{to:"/ai",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(We,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"24"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm text-gray-600",children:""})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(v5,{className:"w-full",onEmergencyTriggered:t})})]})},Fre=()=>{var o,u;const[t,e]=P.useState("comprehensive"),[r,n]=P.useState("week"),i=[{id:"comprehensive",name:"",description:""},{id:"route",name:"",description:""},{id:"behavior",name:"",description:""},{id:"risk",name:"",description:""}],a=[{id:"week",name:""},{id:"month",name:""},{id:"quarter",name:""}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Vt,{to:"/ai",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Zr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(PT,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qb,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:":"})]}),s.jsx("div",{className:"flex space-x-2",children:i.map(d=>s.jsx("button",{onClick:()=>e(d.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===d.id?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:d.description,children:d.name},d.id))})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ci,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:":"})]}),s.jsx("div",{className:"flex space-x-2",children:a.map(d=>s.jsx("button",{onClick:()=>n(d.id),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===d.id?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d.name},d.id))})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:(o=i.find(d=>d.id===t))==null?void 0:o.name}),s.jsx("p",{className:"text-blue-800 text-sm",children:(u=i.find(d=>d.id===t))==null?void 0:u.description})]})}),s.jsx(x5,{className:"w-full",analysisType:t,data:{timeRange:r}})]})]})},Ure=()=>{var b,S;const t=To(),{user:e}=iu(),[r,n]=P.useState(!0),[i,a]=P.useState(!1),[o,u]=P.useState(null),[d,f]=P.useState({difficulty:["medium"],preferredDistance:{min:3,max:10},timeOfDay:["morning"],routeTypes:["park"],avoidTraffic:!0,preferredWeather:["sunny"],maxElevation:100,preferredDifficulty:["medium"],preferredTime:["morning"],preferredEnvironment:["park"],avoidTrafficRoads:!0,preferScenicRoutes:!0,fitnessLevel:"intermediate"}),[p,m]=P.useState({nightRunning:!1,buddySystem:!1,emergencyContacts:!1,safetyAlerts:!0,avoidIsolatedAreas:!0,avoidDarkAreas:!0,preferWellLitRoutes:!0,preferPopularRoutes:!0,emergencyContactEnabled:!0,shareLocationEnabled:!1}),[g,v]=P.useState({aiRecommendations:!0,weatherAlerts:!0,routeUpdates:!0,frequency:"weekly",pushNotifications:!0,quietHours:{start:"22:00",end:"07:00"},enableRecommendations:!0,recommendationFrequency:"weekly",enableWeatherAlerts:!0,enableSafetyAlerts:!0,enablePersonalizedTips:!0});P.useEffect(()=>{w()},[e]);const w=async()=>{if(e)try{n(!0);const N=await Fb.getUserPreferences(e.id);N&&(u({userId:e.id,runningPreferences:N.running||d,safetyPreferences:N.safety||p,notificationPreferences:N.notification||g,createdAt:new Date,updatedAt:new Date}),f(N.running||{difficulty:["medium"],preferredDistance:"5km",timeOfDay:["morning"],routeTypes:["park"],avoidTraffic:!0,preferredWeather:["sunny"],maxElevation:100}),m(N.safety||{nightRunning:!1,buddySystem:!1,emergencyContacts:!1,safetyAlerts:!0,avoidIsolatedAreas:!0,avoidDarkAreas:!0,preferWellLitRoutes:!0,preferPopularRoutes:!0,emergencyContactEnabled:!1,shareLocationEnabled:!1}),v(N.notification||{aiRecommendations:!0,routeUpdates:!0,weatherAlerts:!0,frequency:"daily",pushNotifications:!0,enableRecommendations:!0,enableWeatherAlerts:!0,enableSafetyAlerts:!0,enablePersonalizedTips:!0,recommendationFrequency:"daily",quietHours:{start:"22:00",end:"07:00"}}))}catch(N){console.error(":",N)}finally{n(!1)}},x=async()=>{if(e)try{a(!0);const N={userId:e.id,runningPreferences:d,safetyPreferences:p,notificationPreferences:g,createdAt:(o==null?void 0:o.createdAt)||new Date,updatedAt:new Date};await Fb.saveUserPreferences(e.id,N),u(N),alert("")}catch(N){console.error(":",N),alert("")}finally{a(!1)}};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>t("/routes"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fa,{className:"w-6 h-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"AI"}),s.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})]}),s.jsxs("button",{onClick:x,disabled:i,className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:[i?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):s.jsx(IT,{className:"w-4 h-4 mr-2"}),""]})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(eo,{className:"w-5 h-5 text-blue-500 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",min:"1",max:"50",value:typeof d.preferredDistance=="string"?"":((b=d.preferredDistance)==null?void 0:b.min)||"",onChange:N=>f(_=>({..._,preferredDistance:typeof _.preferredDistance=="string"?{min:Number(N.target.value),max:10}:{..._.preferredDistance,min:Number(N.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})}),s.jsx("span",{className:"text-gray-500",children:"-"}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",min:"1",max:"50",value:typeof d.preferredDistance=="string"?"":((S=d.preferredDistance)==null?void 0:S.max)||"",onChange:N=>f(_=>({..._,preferredDistance:typeof _.preferredDistance=="string"?{min:1,max:Number(N.target.value)}:{..._.preferredDistance,max:Number(N.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("div",{className:"space-y-2",children:[{value:"easy",label:""},{value:"medium",label:""},{value:"hard",label:""}].map(N=>{var _;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:((_=d.preferredDifficulty)==null?void 0:_.includes(N.value))||!1,onChange:E=>{E.target.checked?f(A=>({...A,preferredDifficulty:[...A.preferredDifficulty||[],N.value]})):f(A=>({...A,preferredDifficulty:(A.preferredDifficulty||[]).filter(O=>O!==N.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:N.label})]},N.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("div",{className:"space-y-2",children:[{value:"morning",label:" (6:00-10:00)"},{value:"afternoon",label:" (14:00-18:00)"},{value:"evening",label:" (18:00-21:00)"}].map(N=>{var _;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:((_=d.preferredTime)==null?void 0:_.includes(N.value))||!1,onChange:E=>{E.target.checked?f(A=>({...A,preferredTime:[...A.preferredTime||[],N.value]})):f(A=>({...A,preferredTime:(A.preferredTime||[]).filter(O=>O!==N.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:N.label})]},N.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("div",{className:"space-y-2",children:[{value:"park",label:""},{value:"riverside",label:""},{value:"urban",label:""},{value:"track",label:""}].map(N=>{var _;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:((_=d.preferredEnvironment)==null?void 0:_.includes(N.value))||!1,onChange:E=>{E.target.checked?f(A=>({...A,preferredEnvironment:[...A.preferredEnvironment||[],N.value]})):f(A=>({...A,preferredEnvironment:(A.preferredEnvironment||[]).filter(O=>O!==N.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:N.label})]},N.value)})})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:d.avoidTrafficRoads,onChange:N=>f(_=>({..._,avoidTrafficRoads:N.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:d.preferScenicRoutes,onChange:N=>f(_=>({..._,preferScenicRoutes:N.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{value:d.fitnessLevel,onChange:N=>f(_=>({..._,fitnessLevel:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"beginner",children:""}),s.jsx("option",{value:"intermediate",children:""}),s.jsx("option",{value:"advanced",children:""})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(lt,{className:"w-5 h-5 text-green-500 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.avoidDarkAreas,onChange:N=>m(_=>({..._,avoidDarkAreas:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.preferWellLitRoutes,onChange:N=>m(_=>({..._,preferWellLitRoutes:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.avoidIsolatedAreas,onChange:N=>m(_=>({..._,avoidIsolatedAreas:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.preferPopularRoutes,onChange:N=>m(_=>({..._,preferPopularRoutes:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.emergencyContactEnabled,onChange:N=>m(_=>({..._,emergencyContactEnabled:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.shareLocationEnabled,onChange:N=>m(_=>({..._,shareLocationEnabled:N.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(OT,{className:"w-5 h-5 text-yellow-500 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:g.enableRecommendations,onChange:N=>v(_=>({..._,enableRecommendations:N.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:g.enableWeatherAlerts,onChange:N=>v(_=>({..._,enableWeatherAlerts:N.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:g.enableSafetyAlerts,onChange:N=>v(_=>({..._,enableSafetyAlerts:N.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:g.enablePersonalizedTips,onChange:N=>v(_=>({..._,enablePersonalizedTips:N.target.checked})),className:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:""})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{value:g.recommendationFrequency,onChange:N=>v(_=>({..._,recommendationFrequency:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:""}),s.jsx("option",{value:"weekly",children:""}),s.jsx("option",{value:"monthly",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"time",value:g.quietHours.start,onChange:N=>v(_=>({..._,quietHours:{..._.quietHours,start:N.target.value}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),s.jsx("span",{className:"text-gray-500",children:"-"}),s.jsx("input",{type:"time",value:g.quietHours.end,onChange:N=>v(_=>({..._,quietHours:{..._.quietHours,end:N.target.value}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]})]})]})]})]})})]})},zre=()=>{const t=To(),{user:e}=iu(),[r,n]=P.useState(!0),[i,a]=P.useState([]),[o,u]=P.useState([]),[d,f]=P.useState(""),[p,m]=P.useState("all"),[g,v]=P.useState("date"),[w,x]=P.useState({totalRecommendations:0,likedCount:0,dislikedCount:0,usedCount:0,averageSuitability:0});P.useEffect(()=>{b()},[e]),P.useEffect(()=>{S()},[i,d,p,g]);const b=async()=>{if(e)try{n(!0);const O=[{id:"1",userId:e.id,routeId:"1",recommendationType:"ai_powered",confidenceScore:.92,reasoning:"",context:{timeOfDay:"evening",season:"winter"},route:{id:"1",name:"",distance:5.2,difficulty:"",rating:4.8,description:"",highlights:["","",""],imageUrl:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Shanghai%20Bund%20riverside%20running%20path%20at%20sunset&image_size=landscape_4_3"},suitabilityScore:92,personalizedReason:"",aiAnalysis:{matchingFactors:["","",""],weatherSuitability:85,crowdLevel:"moderate",safetyScore:95,riskAssessment:{level:"low",factors:["",""]},personalizedTips:[""]},createdAt:new Date("2024-01-15T08:30:00Z"),feedback:{id:"f1",recommendationId:"1",userId:e.id,isPositive:!0,rating:5,comment:"",isUsed:!0,usageData:{actualDistance:5.2,actualDuration:28,completionRate:1,enjoymentLevel:5},createdAt:new Date("2024-01-15T20:30:00Z")},usageData:{clicked:!0,navigated:!0,completed:!0,completionTime:28}},{id:"2",userId:e.id,routeId:"2",recommendationType:"daily",confidenceScore:.88,reasoning:"",context:{timeOfDay:"morning",season:"winter"},route:{id:"2",name:"",distance:3.8,difficulty:"",rating:4.6,description:"",highlights:["","",""],imageUrl:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Century%20Park%20Shanghai%20lake%20running%20track%20morning&image_size=landscape_4_3"},suitabilityScore:88,personalizedReason:"",aiAnalysis:{matchingFactors:["","",""],weatherSuitability:90,crowdLevel:"low",safetyScore:98,riskAssessment:{level:"low",factors:["",""]},personalizedTips:[""]},createdAt:new Date("2024-01-12T07:15:00Z"),feedback:{id:"f2",recommendationId:"2",userId:e.id,isPositive:!0,rating:4,comment:"",isUsed:!0,usageData:{actualDistance:3.8,actualDuration:22,completionRate:1,enjoymentLevel:4},createdAt:new Date("2024-01-12T19:15:00Z")},usageData:{clicked:!0,navigated:!0,completed:!0,completionTime:22}},{id:"3",userId:e.id,routeId:"3",recommendationType:"challenge",confidenceScore:.75,reasoning:"",context:{timeOfDay:"evening",season:"winter"},route:{id:"3",name:"",distance:6.5,difficulty:"",rating:4.4,description:"",highlights:["","",""],imageUrl:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=Lujiazui%20financial%20district%20Shanghai%20running%20route%20skyscrapers&image_size=landscape_4_3"},suitabilityScore:75,personalizedReason:"",aiAnalysis:{matchingFactors:["",""],weatherSuitability:70,crowdLevel:"high",safetyScore:85,riskAssessment:{level:"medium",factors:["",""]},personalizedTips:[""]},createdAt:new Date("2024-01-10T18:45:00Z"),feedback:{id:"f3",recommendationId:"3",userId:e.id,isPositive:!1,rating:2,comment:"",isUsed:!1,usageData:{actualDistance:0,actualDuration:0,completionRate:0,enjoymentLevel:2},createdAt:new Date("2024-01-10T21:45:00Z")},usageData:{clicked:!0,navigated:!1,completed:!1}}];a(O);const T=O.length,R=O.filter(z=>{var U;return((U=z.feedback)==null?void 0:U.isPositive)===!0}).length,$=O.filter(z=>{var U;return((U=z.feedback)==null?void 0:U.isPositive)===!1}).length,I=O.filter(z=>{var U;return((U=z.usageData)==null?void 0:U.navigated)===!0}).length,M=O.reduce((z,U)=>z+U.suitabilityScore,0)/T;x({totalRecommendations:T,likedCount:R,dislikedCount:$,usedCount:I,averageSuitability:M})}catch(O){console.error(":",O)}finally{n(!1)}},S=()=>{const O=i.filter(T=>{var $,I,M,z;if(!(T.route.name.toLowerCase().includes(d.toLowerCase())||T.route.description.toLowerCase().includes(d.toLowerCase())))return!1;switch(p){case"liked":return(($=T.feedback)==null?void 0:$.isPositive)===!0;case"disliked":return((I=T.feedback)==null?void 0:I.isPositive)===!1;case"used":return((M=T.usageData)==null?void 0:M.navigated)===!0;case"unused":return((z=T.usageData)==null?void 0:z.navigated)!==!0;default:return!0}});O.sort((T,R)=>{switch(g){case"rating":return R.route.rating-T.route.rating;case"suitability":return R.suitabilityScore-T.suitabilityScore;case"date":default:return new Date(R.createdAt).getTime()-new Date(T.createdAt).getTime()}}),u(O)},N=O=>O.toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=O=>O?O.isPositive?s.jsx(ax,{className:"w-4 h-4 text-green-500"}):s.jsx(ix,{className:"w-4 h-4 text-red-500"}):null,E=O=>O!=null&&O.clicked?O!=null&&O.navigated?O!=null&&O.completed?"":"":"":"",A=O=>O!=null&&O.clicked?O!=null&&O.navigated?O!=null&&O.completed?"text-green-500":"text-yellow-500":"text-blue-500":"text-gray-500";return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>t("/routes"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fa,{className:"w-6 h-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]})]})]})})})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"w-8 h-8 text-blue-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalRecommendations})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ax,{className:"w-8 h-8 text-green-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.likedCount})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ix,{className:"w-8 h-8 text-red-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.dislikedCount})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"w-8 h-8 text-purple-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.usedCount})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wn,{className:"w-8 h-8 text-orange-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.averageSuitability.toFixed(0)})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(nh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"...",value:d,onChange:O=>f(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("select",{value:p,onChange:O=>m(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"liked",children:""}),s.jsx("option",{value:"disliked",children:""}),s.jsx("option",{value:"used",children:""}),s.jsx("option",{value:"unused",children:""})]}),s.jsxs("select",{value:g,onChange:O=>v(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"date",children:""}),s.jsx("option",{value:"rating",children:""}),s.jsx("option",{value:"suitability",children:""})]})]})]})}),s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(Fa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600 mb-4",children:"AI"}),s.jsx("button",{onClick:()=>t("/routes"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:""})]}):o.map(O=>{var T,R,$;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-48 lg:h-32 w-full h-48 flex-shrink-0",children:s.jsx("img",{src:O.route.imageUrl,alt:O.route.name,className:"w-full h-full object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:O.route.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:O.route.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ue,{className:"w-4 h-4 mr-1"}),O.route.distance,"km"]}),s.jsx("span",{children:O.route.difficulty}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-1 text-yellow-400"}),O.route.rating]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:":"}),s.jsxs("span",{className:"font-semibold text-purple-600",children:[O.suitabilityScore,"/100"]})]}),s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full",style:{width:`${O.suitabilityScore}%`}})})]})]}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:":"})," ",O.personalizedReason]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ci,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:N(O.createdAt)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:":"}),s.jsx("span",{className:`text-sm font-medium ${A(O.usageData)}`,children:E(O.usageData)})]}),((T=O.usageData)==null?void 0:T.completionTime)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(jt,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[O.usageData.completionTime,""]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[_(O.feedback),((R=O.feedback)==null?void 0:R.rating)&&s.jsxs("span",{className:"text-sm text-gray-600",children:[O.feedback.rating,"/5"]})]})]}),(($=O.feedback)==null?void 0:$.comment)&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:":"})," ",O.feedback.comment]})})]})]})},O.id)})})]})]})};function Wre(){return s.jsx(P6,{children:s.jsx(Hre,{})})}function Hre(){return s.jsx("div",{className:"App",children:s.jsxs(_6,{children:[s.jsx(Ge,{path:"/login",element:s.jsx(Ste,{})}),s.jsx(Ge,{path:"/register",element:s.jsx(kte,{})}),s.jsxs(Ge,{path:"/",element:s.jsx(OD,{}),children:[s.jsx(Ge,{index:!0,element:s.jsx(PD,{})}),s.jsx(Ge,{path:"run",element:s.jsx(LD,{})}),s.jsx(Ge,{path:"stats",element:s.jsx(PQ,{})}),s.jsx(Ge,{path:"routes",element:s.jsx(hte,{})}),s.jsx(Ge,{path:"recommendations",element:s.jsx(mte,{})}),s.jsx(Ge,{path:"route/:id",element:s.jsx(wte,{})}),s.jsx(Ge,{path:"route-recommendation-settings",element:s.jsx(Ure,{})}),s.jsx(Ge,{path:"route-recommendation-history",element:s.jsx(zre,{})}),s.jsx(Ge,{path:"challenges",element:s.jsx(_te,{})}),s.jsx(Ge,{path:"profile",element:s.jsx(Nte,{})}),s.jsx(Ge,{path:"safety",element:s.jsx(Rte,{})}),s.jsx(Ge,{path:"safety/monitor",element:s.jsx(Ere,{})}),s.jsx(Ge,{path:"safety/assessment",element:s.jsx(Pre,{})}),s.jsx(Ge,{path:"safety/women",element:s.jsx(Tre,{})}),s.jsx(Ge,{path:"safety/emergency",element:s.jsx(Cre,{})}),s.jsx(Ge,{path:"safety/test",element:s.jsx(Ire,{})}),s.jsx(Ge,{path:"ai",element:s.jsx(Rre,{})}),s.jsx(Ge,{path:"ai/chat",element:s.jsx(Lre,{})}),s.jsx(Ge,{path:"ai/women-safety",element:s.jsx(Bre,{})}),s.jsx(Ge,{path:"ai/emergency",element:s.jsx(qre,{})}),s.jsx(Ge,{path:"ai/analysis",element:s.jsx(Fre,{})}),s.jsx(Ge,{path:"/api-test",element:s.jsx(Ote,{})}),s.jsx(Ge,{path:"/debug-test",element:s.jsx(Ete,{})}),s.jsx(Ge,{path:"/api-key-error",element:s.jsx(Pte,{})}),s.jsx(Ge,{path:"/kimi-test",element:s.jsx(Tte,{})}),s.jsx(Ge,{path:"/conversation-debug",element:s.jsx(Cte,{})})]}),s.jsx(Ge,{path:"*",element:s.jsx(Ate,{})})]})})}A$.createRoot(document.getElementById("root")).render(s.jsx(P.StrictMode,{children:s.jsx(Wre,{})}));
